import{jsx as e,jsxs as t,Fragment as y}from"react/jsx-runtime";import{useState as b,Fragment as N}from"react";import{u as C,q as k,a as I,S as T,P as $,t as S,T as D,B as v,D as A,v as P,M as E,E as F,w as z,x as M}from"./main-BYB5eVdi.js";import{E as W,D as q}from"./EmptyRow-C_JHR3Yt.js";import{f as O,D as R,a as U,b as j,c as B}from"./formatDate-BwV23fDV.js";import{T as G}from"./Trans-BaUX9YiO.js";import{I as w}from"./info-alt-icon-CgFUtvrh.js";import{S as x,a as g}from"./SplitItem-DCwFKlRp.js";import{D as H,a as K,b as V}from"./DataListItemRow-DzfwjQD6.js";import{D as _,a as u}from"./DataListItemCells-DNvXoJXj.js";import"react-dom";const J=({title:a,onClick:d,testid:p})=>{const[l,h]=b(!1);return t(y,{children:[e(A,{popperProps:{position:"right"},onOpenChange:o=>h(o),toggle:o=>e(E,{className:"pf-v5-u-display-none-on-lg",ref:o,variant:"plain",onClick:()=>h(!l),isExpanded:l,children:e(F,{})}),isOpen:l,children:e(P,{onClick:d,children:a},"1")}),e(v,{variant:"link",onClick:d,className:"pf-v5-u-display-none pf-v5-u-display-inline-flex-on-lg","data-testid":p,children:a})]})},re=()=>{const{t:a}=C(),d=k(),{login:p}=d.keycloak,[l,h]=b();I(s=>M({signal:s,context:d}),h,[]);const o=s=>{const i=s.credential,f=[e(u,{"data-testrole":"label",className:"pf-v5-u-max-width",style:{"--pf-v5-u-max-width--MaxWidth":"300px"},children:a(i.userLabel)||a(i.type)},"title")];return i.createdDate&&f.push(e(u,{"data-testrole":"created-at",children:t(G,{i18nKey:"credentialCreatedAt",children:[e("strong",{className:"pf-v5-u-mr-md"}),{date:O(new Date(i.createdDate))}]})},"created"+i.id)),(s.infoMessage||s.infoProperties||s.warningMessageTitle&&s.warningMessageDescription)&&f.push(e(u,{"data-testrole":"warning-message",children:t(y,{children:[s.infoMessage&&t("p",{children:[e(w,{})," ",a(s.infoMessage.key,s.infoMessage.parameters?.reduce((n,c,m)=>({...n,[m]:c}),{}))]}),s.infoProperties&&t(x,{className:"pf-v5-u-mb-lg",children:[e(g,{children:e(w,{})}),e(g,{isFilled:!0,className:"pf-v5-u-ml-xs",children:e(R,{isHorizontal:!0,horizontalTermWidthModifier:{"2xl":"15ch"},children:s.infoProperties.map(n=>t(U,{children:[e(j,{children:a(n.key)}),e(B,{children:n.parameters?n.parameters[0]:""})]},n.key))})})]}),s.warningMessageTitle&&s.warningMessageDescription&&t(y,{children:[t("p",{children:[e(z,{})," ",a(s.warningMessageTitle.key,s.warningMessageTitle.parameters?.reduce((n,c,m)=>({...n,[m]:c}),{}))]}),e("p",{children:a(s.warningMessageDescription.key,s.warningMessageDescription.parameters?.reduce((n,c,m)=>({...n,[m]:c}),{}))})]})]})},"warning-message"+i.id)),f};if(!l)return e(T,{});const L=[...new Set(l.map(s=>s.category))];return e($,{title:a("signingIn"),description:a("signingInDescription"),children:L.map(s=>t(S,{variant:"light",className:"pf-v5-u-px-0",children:[e(D,{headingLevel:"h2",size:"xl",id:`${s}-categ-title`,children:a(s)}),l.filter(i=>i.category==s).map(i=>t(N,{children:[t(x,{className:"pf-v5-u-mt-lg pf-v5-u-mb-lg",children:[t(g,{children:[e(D,{headingLevel:"h3",size:"md",className:"pf-v5-u-mb-md","data-testid":`${i.type}/help`,children:e("span",{className:"cred-title pf-v5-u-display-block","data-testid":`${i.type}/title`,children:a(i.displayName)})}),e("span",{"data-testid":`${i.type}/help-text`,children:a(i.helptext)})]}),i.createAction&&e(g,{isFilled:!0,children:e("div",{className:"pf-v5-u-float-right",children:e(J,{onClick:()=>p({action:i.createAction}),title:a("setUpNew",{name:a(`${i.type}-display-name`)}),testid:`${i.type}/create`})})})]}),t(H,{"aria-label":"credential list",className:"pf-v5-u-mb-xl","data-testid":`${i.type}/credential-list`,children:[i.userCredentialMetadatas.length===0&&e(W,{message:a("notSetUp",{name:a(i.displayName)}),"data-testid":`${i.type}/not-set-up`}),i.userCredentialMetadatas.map(r=>e(K,{children:e(V,{id:`cred-${r.credential.id}`,children:e(_,{className:"pf-v5-u-py-0",dataListCells:[...o(r),t(q,{id:`action-${r.credential.id}`,"aria-label":a("updateCredAriaLabel"),"aria-labelledby":`cred-${r.credential.id}`,children:[i.removeable&&e(v,{variant:"danger","data-testrole":"remove",onClick:async()=>{await p({action:"delete_credential:"+r.credential.id})},children:a("delete")}),i.updateAction&&e(v,{variant:"secondary",onClick:async()=>{await p({action:i.updateAction})},"data-testrole":"update",children:a("update")})]},"action")]})})},r.credential.id))]})]},i.type))]},s))})};export{re as SigningIn,re as default};
//# sourceMappingURL=SigningIn-DaBgrdm7.js.map
