import{jsx as n,jsxs as y,Fragment as ee}from"react/jsx-runtime";import*as o from"react";import B,{useEffect as Xe,Fragment as xt,useState as $}from"react";import{a9 as wt,R as St,U as Ie,_ as K,f as E,v as pe,aa as ie,B as M,s as Et,p as Ct,c as J,A as fe,ab as Tt,ac as Lt,ad as It,ae as kt,af as Bt,ag as H,ah as _t,ai as ke,aj as Be,V as At,y as _e,ak as Rt,al as Ae,am as Nt,u as q,q as se,W as qe,an as Ge,ao as ve,X as He,ap as Ze,aq as Mt,ar as Je,I as Kt,as as Dt,at as Pt,au as Qe,av as Ye,aw as Z,ax as W,ay as et,az as P,aA as $t,aB as ge,i as zt,j as Vt,k as Re,l as Wt,m as jt,aC as Ft,aD as me,aE as Ut,aF as Ne,aG as Xt,aH as Me,aI as tt,aJ as qt,a as Gt,aK as Ht,S as Zt,C as Jt,D as Ke,aL as De,K as Pe,M as $e,E as ze,aM as Qt,P as Yt}from"./main-BYB5eVdi.js";import{u as nt,f as at,a as it,b as en}from"./api-1dv78egC.js";import{u as le}from"./useAccountAlerts-DdS4nV6_.js";import{T as tn}from"./Trans-BaUX9YiO.js";import"react-dom";const j={modifiers:{buttonGroup:"pf-m-button-group",iconButtonGroup:"pf-m-icon-button-group"},overflowMenu:"pf-v5-c-overflow-menu",overflowMenuContent:"pf-v5-c-overflow-menu__content",overflowMenuControl:"pf-v5-c-overflow-menu__control",overflowMenuGroup:"pf-v5-c-overflow-menu__group",overflowMenuItem:"pf-v5-c-overflow-menu__item"},F=o.createContext({isBelowBreakpoint:!1});class ye extends o.Component{constructor(e){super(e),this.observer=()=>{},this.handleResize=()=>{const t=wt[this.props.breakpoint];if(!t){console.error("OverflowMenu will not be visible without a valid breakpoint.");return}const l=(this.state.breakpointRef?this.state.breakpointRef.clientWidth:window.innerWidth)<t;this.state.isBelowBreakpoint!==l&&this.setState({isBelowBreakpoint:l})},this.handleResizeWithDelay=St(this.handleResize,250),this.state={isBelowBreakpoint:!1,breakpointRef:void 0}}getBreakpointRef(){const{breakpointReference:e}=this.props;if(e.current)return e.current;if(typeof e=="function")return e()}componentDidMount(){const e=this.props.breakpointReference?this.getBreakpointRef():void 0;this.setState({breakpointRef:e}),this.observer=Ie(e,this.handleResizeWithDelay),this.handleResize()}componentDidUpdate(e,t){const a=this.props.breakpointReference?this.getBreakpointRef():void 0;t.breakpointRef!==a&&(this.observer(),this.setState({breakpointRef:a}),this.observer=Ie(a,this.handleResizeWithDelay),this.handleResize())}componentWillUnmount(){this.observer()}render(){const e=this.props,{className:t,breakpoint:a,children:l,breakpointReference:c}=e,r=K(e,["className","breakpoint","children","breakpointReference"]);return o.createElement("div",Object.assign({},r,{className:E(j.overflowMenu,t)}),o.createElement(F.Provider,{value:{isBelowBreakpoint:this.state.isBelowBreakpoint}},l))}}ye.displayName="OverflowMenu";ye.contextType=F;const st=i=>{var{className:e,children:t,hasAdditionalOptions:a}=i,l=K(i,["className","children","hasAdditionalOptions"]);return o.createElement(F.Consumer,null,c=>(c.isBelowBreakpoint||a)&&o.createElement("div",Object.assign({className:E(j.overflowMenuControl,e)},l)," ",t," "))};st.displayName="OverflowMenuControl";const lt=({className:i,children:e,isPersistent:t})=>o.createElement(F.Consumer,null,a=>(!a.isBelowBreakpoint||t)&&o.createElement("div",{className:E(j.overflowMenuContent,i)},e));lt.displayName="OverflowMenuContent";const ot=i=>{var{className:e,children:t,isPersistent:a=!1,groupType:l}=i,c=K(i,["className","children","isPersistent","groupType"]);return o.createElement(F.Consumer,null,r=>(a||!r.isBelowBreakpoint)&&o.createElement("div",Object.assign({className:E(j.overflowMenuGroup,l==="button"&&j.modifiers.buttonGroup,l==="icon"&&j.modifiers.iconButtonGroup,e)},c),t))};ot.displayName="OverflowMenuGroup";const ue=({className:i,children:e,isPersistent:t=!1})=>o.createElement(F.Consumer,null,a=>(t||!a.isBelowBreakpoint)&&o.createElement("div",{className:E(j.overflowMenuItem,i)}," ",e," "));ue.displayName="OverflowMenuItem";const te=i=>{var{children:e,isShared:t=!1,itemId:a}=i,l=K(i,["children","isShared","itemId"]);return o.createElement(F.Consumer,null,c=>(!t||c.isBelowBreakpoint)&&o.createElement(pe,Object.assign({component:"button",value:a},l),e))};te.displayName="OverflowMenuDropdownItem";const u={modifiers:{fill:"pf-m-fill",scrollable:"pf-m-scrollable",noBorderBottom:"pf-m-no-border-bottom",box:"pf-m-box",vertical:"pf-m-vertical",current:"pf-m-current",colorSchemeLight_300:"pf-m-color-scheme--light-300",expandable:"pf-m-expandable",nonExpandable:"pf-m-non-expandable",expandableOnSm:"pf-m-expandable-on-sm",nonExpandableOnSm:"pf-m-non-expandable-on-sm",expandableOnMd:"pf-m-expandable-on-md",nonExpandableOnMd:"pf-m-non-expandable-on-md",expandableOnLg:"pf-m-expandable-on-lg",nonExpandableOnLg:"pf-m-non-expandable-on-lg",expandableOnXl:"pf-m-expandable-on-xl",nonExpandableOnXl:"pf-m-non-expandable-on-xl",expandableOn_2xl:"pf-m-expandable-on-2xl",nonExpandableOn_2xl:"pf-m-non-expandable-on-2xl",expanded:"pf-m-expanded",secondary:"pf-m-secondary",pageInsets:"pf-m-page-insets",overflow:"pf-m-overflow",action:"pf-m-action",active:"pf-m-active",disabled:"pf-m-disabled",ariaDisabled:"pf-m-aria-disabled",insetNone:"pf-m-inset-none",insetSm:"pf-m-inset-sm",insetMd:"pf-m-inset-md",insetLg:"pf-m-inset-lg",insetXl:"pf-m-inset-xl",inset_2xl:"pf-m-inset-2xl",insetNoneOnSm:"pf-m-inset-none-on-sm",insetSmOnSm:"pf-m-inset-sm-on-sm",insetMdOnSm:"pf-m-inset-md-on-sm",insetLgOnSm:"pf-m-inset-lg-on-sm",insetXlOnSm:"pf-m-inset-xl-on-sm",inset_2xlOnSm:"pf-m-inset-2xl-on-sm",insetNoneOnMd:"pf-m-inset-none-on-md",insetSmOnMd:"pf-m-inset-sm-on-md",insetMdOnMd:"pf-m-inset-md-on-md",insetLgOnMd:"pf-m-inset-lg-on-md",insetXlOnMd:"pf-m-inset-xl-on-md",inset_2xlOnMd:"pf-m-inset-2xl-on-md",insetNoneOnLg:"pf-m-inset-none-on-lg",insetSmOnLg:"pf-m-inset-sm-on-lg",insetMdOnLg:"pf-m-inset-md-on-lg",insetLgOnLg:"pf-m-inset-lg-on-lg",insetXlOnLg:"pf-m-inset-xl-on-lg",inset_2xlOnLg:"pf-m-inset-2xl-on-lg",insetNoneOnXl:"pf-m-inset-none-on-xl",insetSmOnXl:"pf-m-inset-sm-on-xl",insetMdOnXl:"pf-m-inset-md-on-xl",insetLgOnXl:"pf-m-inset-lg-on-xl",insetXlOnXl:"pf-m-inset-xl-on-xl",inset_2xlOnXl:"pf-m-inset-2xl-on-xl",insetNoneOn_2xl:"pf-m-inset-none-on-2xl",insetSmOn_2xl:"pf-m-inset-sm-on-2xl",insetMdOn_2xl:"pf-m-inset-md-on-2xl",insetLgOn_2xl:"pf-m-inset-lg-on-2xl",insetXlOn_2xl:"pf-m-inset-xl-on-2xl",inset_2xlOn_2xl:"pf-m-inset-2xl-on-2xl"},tabs:"pf-v5-c-tabs",tabsAdd:"pf-v5-c-tabs__add",tabsItem:"pf-v5-c-tabs__item",tabsItemAction:"pf-v5-c-tabs__item-action",tabsItemActionIcon:"pf-v5-c-tabs__item-action-icon",tabsItemText:"pf-v5-c-tabs__item-text",tabsLink:"pf-v5-c-tabs__link",tabsLinkToggleIcon:"pf-v5-c-tabs__link-toggle-icon",tabsList:"pf-v5-c-tabs__list",tabsScrollButton:"pf-v5-c-tabs__scroll-button",tabsToggle:"pf-v5-c-tabs__toggle",tabsToggleButton:"pf-v5-c-tabs__toggle-button",tabsToggleIcon:"pf-v5-c-tabs__toggle-icon",tabsToggleText:"pf-v5-c-tabs__toggle-text"},Oe=i=>{var{children:e,tabContentRef:t,ouiaId:a,parentInnerRef:l,ouiaSafe:c}=i,r=K(i,["children","tabContentRef","ouiaId","parentInnerRef","ouiaSafe"]);const h=r.href?"a":"button";return o.createElement(h,Object.assign({},!r.href&&{type:"button"},{ref:l},ie(Oe.displayName,a,c),r),e)};Oe.displayName="TabButton";const oe=o.createContext({variant:"default",mountOnEnter:!1,unmountOnExit:!1,localActiveKey:"",uniqueId:"",handleTabClick:()=>null,handleTabClose:void 0}),nn=oe.Provider,an=oe.Consumer,sn=i=>{var{children:e,className:t,onClick:a,isDisabled:l,"aria-label":c="Tab action",innerRef:r,ouiaId:h,ouiaSafe:b}=i,p=K(i,["children","className","onClick","isDisabled","aria-label","innerRef","ouiaId","ouiaSafe"]);return o.createElement("span",{className:E(u.tabsItemAction,t)},o.createElement(M,Object.assign({ref:r,type:"button",variant:"plain","aria-label":c,onClick:a,isDisabled:l},ie(xe.displayName,h,b),p),o.createElement("span",{className:E(u.tabsItemActionIcon)},e)))},xe=o.forwardRef((i,e)=>o.createElement(sn,Object.assign({},i,{innerRef:e})));xe.displayName="TabAction";const ln=i=>{var{title:e,eventKey:t,tabContentRef:a,id:l,tabContentId:c,className:r="",ouiaId:h,isDisabled:b,isAriaDisabled:p,inoperableEvents:m=["onClick","onKeyPress"],href:d,innerRef:v,tooltip:f,closeButtonAriaLabel:C,isCloseDisabled:A=!1,actions:N}=i,I=K(i,["title","eventKey","tabContentRef","id","tabContentId","className","ouiaId","isDisabled","isAriaDisabled","inoperableEvents","href","innerRef","tooltip","closeButtonAriaLabel","isCloseDisabled","actions"]);const L=m.reduce((R,V)=>Object.assign(Object.assign({},R),{[V]:G=>{G.preventDefault()}}),{}),{mountOnEnter:s,localActiveKey:g,unmountOnExit:O,uniqueId:D,handleTabClick:z,handleTabClose:T}=o.useContext(oe);let k=c?`${c}`:`pf-tab-section-${t}-${l||D}`;(s||O)&&t!==g&&(k=void 0);const _=!d,x=()=>{if(b)return _?null:-1;if(p)return null},w=o.createElement(Oe,Object.assign({parentInnerRef:v,className:E(u.tabsLink,b&&d&&u.modifiers.disabled,p&&u.modifiers.ariaDisabled),disabled:_?b:null,"aria-disabled":b||p,tabIndex:x(),onClick:R=>z(R,t,a)},p?L:null,{id:`pf-tab-${t}-${l||D}`,"aria-controls":k,tabContentRef:a,ouiaId:h,href:d,role:"tab","aria-selected":t===g},I),e);return o.createElement("li",{className:E(u.tabsItem,t===g&&u.modifiers.current,(T||N)&&u.modifiers.action,(b||p)&&u.modifiers.disabled,r),role:"presentation"},f?o.createElement(Et,Object.assign({},f.props),w):w,N&&N,T!==void 0&&o.createElement(xe,{"aria-label":C||"Close tab",onClick:R=>T(R,t,a),isDisabled:A},o.createElement(Ct,null)))},he=o.forwardRef((i,e)=>o.createElement(ln,Object.assign({innerRef:e},i)));he.displayName="Tab";const on={name:"PlusIcon",height:512,width:448,svgPath:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",yOffset:0,xOffset:0},rn=J(on),be={modifiers:{light_300:"pf-m-light-300"},tabContent:"pf-v5-c-tab-content"},Ve={default:"",light300:be.modifiers.light_300},cn=i=>{var{id:e,activeKey:t,"aria-label":a,child:l,children:c,className:r,eventKey:h,innerRef:b,ouiaId:p,ouiaSafe:m}=i,d=K(i,["id","activeKey","aria-label","child","children","className","eventKey","innerRef","ouiaId","ouiaSafe"]);if(c||l){let v;return a?v=null:v=c?`${e}`:`pf-tab-${l.props.eventKey}-${e}`,o.createElement(an,null,({variant:f})=>o.createElement("section",Object.assign({ref:b,hidden:c?null:l.props.eventKey!==t,className:c?E(be.tabContent,r,Ve[f]):E(be.tabContent,l.props.className,Ve[f]),id:c?e:`pf-tab-section-${l.props.eventKey}-${e}`,"aria-label":a,"aria-labelledby":v,role:"tabpanel",tabIndex:0},ie("TabContent",p,m),d),c||l.props.children))}return null},dn=o.forwardRef((i,e)=>o.createElement(cn,Object.assign({},i,{innerRef:e}))),ne=i=>{var{children:e,className:t=""}=i,a=K(i,["children","className"]);return o.createElement("span",Object.assign({className:E(u.tabsItemText,t)},a),e)};ne.displayName="TabTitleText";const rt=i=>{var{className:e,overflowingTabs:t=[],showTabCount:a,defaultTitleText:l="More",toggleAriaLabel:c,zIndex:r=9999,shouldPreventScrollOnItemFocus:h=!0,focusTimeoutDelay:b=0}=i,p=K(i,["className","overflowingTabs","showTabCount","defaultTitleText","toggleAriaLabel","zIndex","shouldPreventScrollOnItemFocus","focusTimeoutDelay"]);const m=B.useRef(),d=B.useRef(),v=B.useRef(),[f,C]=B.useState(!1),{localActiveKey:A,handleTabClick:N}=B.useContext(oe),I=()=>{C(!1),d.current.focus()},L=x=>{var w;const R=(w=m?.current)===null||w===void 0?void 0:w.contains(x.target);f&&R&&x.key==="Escape"&&I()},s=x=>{var w,R;const V=!(!((w=m?.current)===null||w===void 0)&&w.contains(x.target)),G=!(!((R=d?.current)===null||R===void 0)&&R.contains(x.target));f&&V&&G&&I()};B.useEffect(()=>(window.addEventListener("click",s),window.addEventListener("keydown",L),()=>{window.removeEventListener("click",s),window.removeEventListener("keydown",L)}),[f,m,d]);const g=t.find(x=>x.eventKey===A),O=g?.title?g.title:l,D=()=>{C(x=>!x),setTimeout(()=>{if(m?.current){const x=m.current.querySelector("li > button,input:not(:disabled)");x&&x.focus({preventScroll:h})}},b)},z=B.createElement("li",Object.assign({className:E(u.tabsItem,u.modifiers.overflow,g&&u.modifiers.current,e),role:"presentation",ref:v},p),B.createElement("button",{type:"button",className:E(u.tabsLink,f&&u.modifiers.expanded),onClick:()=>D(),"aria-label":c,"aria-haspopup":"menu","aria-expanded":f,role:"tab",ref:d},B.createElement(ne,null,O,a&&O===l&&` (${t.length})`),B.createElement("span",{className:u.tabsLinkToggleIcon},B.createElement(fe,null)))),T=t.map(x=>B.createElement(Tt,{key:x.eventKey,itemId:x.eventKey,isSelected:A===x.eventKey},x.title)),k=(x,w)=>{I();const R=t.find(V=>V.eventKey===w).tabContentRef;N(x,w,R)},_=B.createElement(Lt,{ref:m,onSelect:(x,w)=>k(x,w)},B.createElement(It,null,B.createElement(kt,null,T)));return B.createElement(B.Fragment,null,z,B.createElement(Bt,{triggerRef:d,popper:_,popperRef:m,isVisible:f,minWidth:"revert",appendTo:v.current,zIndex:r}))};rt.displayName="OverflowTab";var ae;(function(i){i.div="div",i.nav="nav"})(ae||(ae={}));const mn={default:"",light300:u.modifiers.colorSchemeLight_300};class X extends o.Component{constructor(e){super(e),this.tabList=o.createRef(),this.leftScrollButtonRef=o.createRef(),this.direction="ltr",this.scrollTimeout=null,this.countOverflowingElements=t=>Array.from(t.children).filter(l=>!H(t,l,!1)).length,this.handleScrollButtons=()=>{const{isOverflowHorizontal:t}=this.props;clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(()=>{const a=this.tabList.current;let l=!0,c=!0,r=!1,h=0;if(a&&!this.props.isVertical&&!t){const b=!H(a,a.firstChild,!1),p=!H(a,a.lastChild,!1);r=b||p,l=!b,c=!p}t&&(h=this.countOverflowingElements(a)),this.setState({enableScrollButtons:r,disableBackScrollButton:l,disableForwardScrollButton:c,overflowingTabCount:h})},100)},this.scrollBack=()=>{if(this.tabList.current){const t=this.tabList.current,a=Array.from(t.children);let l,c,r;for(r=0;r<a.length&&!l;r++)H(t,a[r],!1)&&(l=a[r],c=a[r-1]);c&&(this.direction==="ltr"?t.scrollLeft-=c.scrollWidth:t.scrollLeft+=c.scrollWidth)}},this.scrollForward=()=>{if(this.tabList.current){const t=this.tabList.current,a=Array.from(t.children);let l,c;for(let r=a.length-1;r>=0&&!l;r--)H(t,a[r],!1)&&(l=a[r],c=a[r+1]);c&&(this.direction==="ltr"?t.scrollLeft+=c.scrollWidth:t.scrollLeft-=c.scrollWidth)}},this.hideScrollButtons=()=>{const{enableScrollButtons:t,renderScrollButtons:a,showScrollButtons:l}=this.state;!t&&!l&&a&&this.setState({renderScrollButtons:!1})},this.state={enableScrollButtons:!1,showScrollButtons:!1,renderScrollButtons:!1,disableBackScrollButton:!0,disableForwardScrollButton:!0,shownKeys:this.props.defaultActiveKey!==void 0?[this.props.defaultActiveKey]:[this.props.activeKey],uncontrolledActiveKey:this.props.defaultActiveKey,uncontrolledIsExpandedLocal:this.props.defaultIsExpanded,ouiaStateId:_t(X.displayName),overflowingTabCount:0},this.props.isVertical&&this.props.expandable!==void 0&&!this.props.toggleAriaLabel&&!this.props.toggleText&&console.error("Tabs:","toggleAriaLabel or the toggleText prop is required to make the toggle button accessible")}handleTabClick(e,t,a){const{shownKeys:l}=this.state,{onSelect:c,defaultActiveKey:r}=this.props;r!==void 0?this.setState({uncontrolledActiveKey:t}):c(e,t),a&&(o.Children.toArray(this.props.children).filter(h=>o.isValidElement(h)).filter(({props:h})=>h.tabContentRef&&h.tabContentRef.current).forEach(h=>h.props.tabContentRef.current.hidden=!0),a.current&&(a.current.hidden=!1)),this.props.mountOnEnter&&this.setState({shownKeys:l.concat(t)})}componentDidMount(){this.props.isVertical||(ke&&window.addEventListener("resize",this.handleScrollButtons,!1),this.direction=Be(this.tabList.current),this.handleScrollButtons())}componentWillUnmount(){var e;this.props.isVertical||ke&&window.removeEventListener("resize",this.handleScrollButtons,!1),clearTimeout(this.scrollTimeout),(e=this.leftScrollButtonRef.current)===null||e===void 0||e.removeEventListener("transitionend",this.hideScrollButtons)}componentDidUpdate(e,t){const{activeKey:a,mountOnEnter:l,isOverflowHorizontal:c,children:r}=this.props,{shownKeys:h,overflowingTabCount:b,enableScrollButtons:p}=this.state;e.activeKey!==a&&l&&h.indexOf(a)<0&&this.setState({shownKeys:h.concat(a)}),e.children&&r&&o.Children.toArray(e.children).length!==o.Children.toArray(r).length&&this.handleScrollButtons();const m=this.countOverflowingElements(this.tabList.current);c&&m&&this.setState({overflowingTabCount:m+b}),!t.enableScrollButtons&&p?(this.setState({renderScrollButtons:!0}),setTimeout(()=>{var d;(d=this.leftScrollButtonRef.current)===null||d===void 0||d.addEventListener("transitionend",this.hideScrollButtons),this.setState({showScrollButtons:!0})},100)):t.enableScrollButtons&&!p&&this.setState({showScrollButtons:!1}),this.direction=Be(this.tabList.current)}static getDerivedStateFromProps(e,t){return t.uncontrolledActiveKey===void 0||o.Children.toArray(e.children).filter(l=>o.isValidElement(l)).some(({props:l})=>l.eventKey===t.uncontrolledActiveKey)?null:{uncontrolledActiveKey:e.defaultActiveKey,shownKeys:e.defaultActiveKey!==void 0?[e.defaultActiveKey]:[e.activeKey]}}render(){const e=this.props,{className:t,children:a,activeKey:l,defaultActiveKey:c,id:r,isFilled:h,isSecondary:b,isVertical:p,isBox:m,hasNoBorderBottom:d,leftScrollAriaLabel:v,rightScrollAriaLabel:f,backScrollAriaLabel:C,forwardScrollAriaLabel:A,"aria-label":N,component:I,ouiaId:L,ouiaSafe:s,mountOnEnter:g,unmountOnExit:O,usePageInsets:D,inset:z,variant:T,expandable:k,isExpanded:_,defaultIsExpanded:x,toggleText:w,toggleAriaLabel:R,addButtonAriaLabel:V,onToggle:G,onClose:dt,onAdd:we,isOverflowHorizontal:Q}=e,mt=K(e,["className","children","activeKey","defaultActiveKey","id","isFilled","isSecondary","isVertical","isBox","hasNoBorderBottom","leftScrollAriaLabel","rightScrollAriaLabel","backScrollAriaLabel","forwardScrollAriaLabel","aria-label","component","ouiaId","ouiaSafe","mountOnEnter","unmountOnExit","usePageInsets","inset","variant","expandable","isExpanded","defaultIsExpanded","toggleText","toggleAriaLabel","addButtonAriaLabel","onToggle","onClose","onAdd","isOverflowHorizontal"]),{showScrollButtons:pt,renderScrollButtons:Se,disableBackScrollButton:Ee,disableForwardScrollButton:Ce,shownKeys:ft,uncontrolledActiveKey:ut,uncontrolledIsExpandedLocal:ht,overflowingTabCount:re}=this.state,U=o.Children.toArray(a).filter(S=>o.isValidElement(S)).filter(({props:S})=>!S.isHidden),bt=U.slice(0,U.length-re),vt=U.slice(U.length-re).map(S=>S.props),Te=r||At(),gt=I===ae.nav?"nav":"div",ce=c!==void 0?ut:l,de=x!==void 0?ht:_,yt=(S,Y)=>{_===void 0?this.setState({uncontrolledIsExpandedLocal:Y}):G(S,Y)},Le=Q&&re>0,Ot=typeof Q=="object"?Object.assign({},Q):{};return o.createElement(nn,{value:{variant:T,mountOnEnter:g,unmountOnExit:O,localActiveKey:ce,uniqueId:Te,handleTabClick:(...S)=>this.handleTabClick(...S),handleTabClose:dt}},o.createElement(gt,Object.assign({"aria-label":N,className:E(u.tabs,h&&u.modifiers.fill,b&&u.modifiers.secondary,p&&u.modifiers.vertical,p&&k&&_e(k,u),p&&k&&de&&u.modifiers.expanded,m&&u.modifiers.box,pt&&u.modifiers.scrollable,D&&u.modifiers.pageInsets,d&&u.modifiers.noBorderBottom,_e(z,u),mn[T],Le&&u.modifiers.overflow,t)},ie(X.displayName,L!==void 0?L:this.state.ouiaStateId,s),{id:r&&r},mt),k&&p&&o.createElement(Rt,null,S=>o.createElement("div",{className:E(u.tabsToggle)},o.createElement("div",{className:E(u.tabsToggleButton)},o.createElement(M,{onClick:Y=>yt(Y,!de),variant:"plain","aria-label":R,"aria-expanded":de,id:`${S}-button`,"aria-labelledby":`${S}-text ${S}-button`},o.createElement("span",{className:E(u.tabsToggleIcon)},o.createElement(fe,{"arian-hidden":"true"})),w&&o.createElement("span",{className:E(u.tabsToggleText),id:`${S}-text`},w))))),Se&&o.createElement("button",{type:"button",className:E(u.tabsScrollButton,b&&Ae.modifiers.secondary),"aria-label":C||v,onClick:this.scrollBack,disabled:Ee,"aria-hidden":Ee,ref:this.leftScrollButtonRef},o.createElement(Nt,null)),o.createElement("ul",{className:E(u.tabsList),ref:this.tabList,onScroll:this.handleScrollButtons,role:"tablist"},Q?bt:U,Le&&o.createElement(rt,Object.assign({overflowingTabs:vt},Ot))),Se&&o.createElement("button",{type:"button",className:E(u.tabsScrollButton,b&&Ae.modifiers.secondary),"aria-label":A||f,onClick:this.scrollForward,disabled:Ce,"aria-hidden":Ce},o.createElement(fe,null)),we!==void 0&&o.createElement("span",{className:E(u.tabsAdd)},o.createElement(M,{variant:"plain","aria-label":V||"Add tab",onClick:we},o.createElement(rn,null)))),U.filter(S=>S.props.children&&!(O&&S.props.eventKey!==ce)&&!(g&&ft.indexOf(S.props.eventKey)===-1)).map(S=>o.createElement(dn,{key:S.props.eventKey,activeKey:ce,child:S,id:S.props.id||Te,ouiaId:S.props.ouiaId})))}}X.displayName="Tabs";X.defaultProps={activeKey:0,onSelect:()=>{},isFilled:!1,isSecondary:!1,isVertical:!1,isBox:!1,hasNoBorderBottom:!1,leftScrollAriaLabel:"Scroll left",backScrollAriaLabel:"Scroll back",rightScrollAriaLabel:"Scroll right",forwardScrollAriaLabel:"Scroll forward",component:ae.div,mountOnEnter:!1,unmountOnExit:!1,ouiaSafe:!0,variant:"default",onToggle:(i,e)=>{}};const pn={name:"EditAltIcon",height:1024,width:1024,svgPath:"M1024,187.9 C1024,207 1017.3,223.1 1004,236.4 L857.5,386.9 L638.8,168.4 L787.3,20.5 C800.3,6.83333333 816.5,0 835.9,0 C855,0 871.366667,6.83333333 885,20.5 L1004,138.9 C1017.3,152.9 1023.96667,169.233333 1024,187.9 Z M806.2,438.9 L219.4,1024 L0,1024 L0,804.6 L586.6,219.5 L806.2,438.9 Z M219.6,950.9 L292.9,877.8 L146.3,731.4 L73.2,804.5 L73.2,877.6 L146.3,877.6 L146.3,951 L219.6,950.9 Z",yOffset:0,xOffset:0},We=J(pn),fn={name:"Remove2Icon",height:1024,width:896,svgPath:"M576,128 L576,0 L320,0 L320,128 L0,128 L0,320 L64,256 L832,256 L896,320 L896,128 L576,128 Z M512,128 L384,128 L384,64 L512,64 L512,128 Z M64,320 L128,1024 L731.4,1024 L832,320 L64,320 Z",yOffset:0,xOffset:0},je=J(fn),un={name:"ShareAltIcon",height:512,width:448,svgPath:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z",yOffset:0,xOffset:0},Fe=J(un),hn={name:"UserCheckIcon",height:512,width:640,svgPath:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z",yOffset:0,xOffset:0},bn=J(hn),vn=({resource:i,permissions:e,onClose:t})=>{const{t:a}=q(),l=se(),{addAlert:c,addError:r}=le(),h=qe(),{control:b,reset:p,handleSubmit:m}=h,{fields:d}=Ge({control:b,name:"permissions"});Xe(()=>p({permissions:e}),[]);const v=async({permissions:f})=>{try{await Promise.all(f.map(C=>nt(l,i._id,[C]))),c(a("updateSuccess")),t()}catch(C){r("updateError",C)}};return n(ve,{title:a("editTheResource",{name:i.name}),variant:"medium",isOpen:!0,onClose:t,actions:[n(M,{variant:"primary",id:"done",type:"submit",form:"edit-form",children:a("done")},"confirm")],children:n(He,{id:"edit-form",onSubmit:m(v),children:n(Ze,{...h,children:d.map((f,C)=>y(xt,{children:[n(Mt,{name:`permissions.${C}.username`,label:a("user"),isDisabled:!0}),n(Je,{id:`permissions-${f.id}`,name:`permissions.${C}.scopes`,label:"permissions",variant:"typeaheadMulti",controller:{defaultValue:[]},options:i.scopes.map(({name:A,displayName:N})=>({key:A,value:N||A}))})]},f.id))})})})},gn=({resource:i,refresh:e})=>{const{t}=q(),a=se(),{addAlert:l,addError:c}=le(),[r,h]=$(!1),b=()=>h(!r),p=async(m,d=!1)=>{try{const v=await at({context:a},i._id),{scopes:f,username:C}=v.find(A=>A.username===m.username)||{scopes:[],username:m.username};await it(a,i._id,C,d?[...f,...m.scopes]:f),l(t("shareSuccess")),b(),e()}catch(v){c("shareError",v)}};return y(ee,{children:[y(M,{variant:"link",onClick:b,children:[n(Kt,{size:"lg",children:n(bn,{})}),n(Dt,{children:i.shareRequests?.length})]}),n(ve,{title:t("permissionRequest",{name:i.name}),variant:Pt.large,isOpen:r,onClose:b,actions:[n(M,{variant:"link",onClick:b,children:t("close")},"close")],children:y(Qe,{"aria-label":t("resources"),children:[n(Ye,{children:y(Z,{children:[n(W,{children:t("requestor")}),n(W,{children:t("permissionRequests")}),n(W,{"aria-hidden":"true"})]})}),n(et,{children:i.shareRequests?.map(m=>y(Z,{children:[y(P,{children:[m.firstName," ",m.lastName," ",m.lastName?"":m.username,n("br",{}),n($t,{component:"small",children:m.email})]}),n(P,{children:m.scopes.map(d=>n(ge,{isReadOnly:!0,children:d},d.toString()))}),y(P,{children:[n(M,{onClick:async()=>{await p(m,!0)},children:t("accept")}),n(M,{onClick:async()=>{await p(m)},className:"pf-v5-u-ml-sm",variant:"danger",children:t("deny")})]})]},m.username))})]})})]})},yn=({count:i,first:e,max:t,onNextClick:a,onPreviousClick:l,onPerPageSelect:c,onFilter:r,hasNext:h})=>{const{t:b}=q(),[p,m]=$(""),d=Math.round(e/t)+1;return n(zt,{children:y(Vt,{children:[n(Re,{children:n(Wt,{placeholder:b("filterByName"),"aria-label":b("filterByName"),value:p,onChange:(v,f)=>{m(f)},onSearch:()=>r(p),onKeyDown:v=>{v.key==="Enter"&&r(p)},onClear:()=>{m(""),r("")}})}),n(Re,{variant:"pagination",children:n(jt,{isCompact:!0,perPageOptions:[{title:"5",value:5},{title:"10",value:10},{title:"20",value:20}],toggleTemplate:({firstIndex:v,lastIndex:f})=>y("b",{children:[v," - ",f]}),itemCount:i+(d-1)*t+(h?1:0),page:d,perPage:t,onNextClick:(v,f)=>a((f-1)*t),onPreviousClick:(v,f)=>l((f-1)*t),onPerPageSelect:(v,f,C)=>c(C-1,f)})})]})})},ct=({permissions:i=[]})=>n("div",{"data-testid":`shared-with-${i.length?i.map(e=>e.username):"none"}`,children:y(tn,{i18nKey:"resourceSharedWith",count:i.length,children:[n("strong",{children:{username:i[0]?i[0].username:void 0}}),n("strong",{children:{other:i.length-1}})]})}),On=({resource:i,permissions:e,open:t,onClose:a})=>{const{t:l}=q(),c=se(),{addAlert:r,addError:h}=le(),b=qe(),{control:p,register:m,reset:d,formState:{errors:v,isValid:f},setError:C,clearErrors:A,handleSubmit:N}=b,{fields:I,append:L,remove:s}=Ge({control:p,name:"usernames"});Xe(()=>{I.length===0&&L({value:""})},[I]);const O=Ft({control:p,name:"usernames",defaultValue:[]}).every(({value:T})=>T.trim().length===0),D=async({usernames:T,permissions:k})=>{try{await Promise.all(T.filter(({value:_})=>_!=="").map(({value:_})=>it(c,i._id,_,k))),r(l("shareSuccess")),a()}catch(_){h("shareError",_)}d({})},z=async()=>{const T=I.map(w=>w.value).filter(w=>w!==""),k=e?.map(w=>[w.username,w.email]).flat(),_=T.length>0,x=T.filter(w=>k?.includes(w)).length!==0;return!_||x?C("usernames",{message:l(_?"resourceAlreadyShared":"required")}):A(),_&&!x};return n(ve,{title:l("shareTheResource",{name:i.name}),variant:"medium",isOpen:t,onClose:a,actions:[n(M,{variant:"primary","data-testid":"done",isDisabled:!f,type:"submit",form:"share-form",children:l("done")},"confirm"),n(M,{variant:"link",onClick:a,children:l("cancel")},"cancel")],children:y(He,{id:"share-form",onSubmit:N(D),children:[y(me,{label:l("shareUser"),type:"string",fieldId:"users",isRequired:!0,children:[y(Ut,{children:[n(Ne,{children:n(Xt,{id:"users","data-testid":"users",placeholder:l("usernamePlaceholder"),validated:v.usernames?Me.error:Me.default,...m(`usernames.${I.length-1}.value`,{validate:z})})}),n(Ne,{children:n(M,{variant:"primary","data-testid":"add",onClick:()=>L({value:""}),isDisabled:O,children:l("add")},"add-user")})]}),I.length>1&&n(tt,{categoryName:l("shareWith")+" ",children:I.map((T,k)=>k!==I.length-1&&n(ge,{onClick:()=>s(k),children:T.value},T.id))}),v.usernames&&n(qt,{message:v.usernames.message})]}),n(Ze,{...b,children:n(me,{label:"",fieldId:"permissions-selected","data-testid":"permissions",children:n(Je,{name:"permissions",variant:"typeaheadMulti",controller:{defaultValue:[]},options:i.scopes.map(({name:T,displayName:k})=>({key:T,value:k||T}))})})}),n(me,{children:n(ct,{permissions:e})})]})})},Ue=({isShared:i=!1})=>{const{t:e}=q(),t=se(),{addAlert:a,addError:l}=le(),[c,r]=$({first:"0",max:"5"}),[h,b]=$(),[p,m]=$(),[d,v]=$({}),[f,C]=$(1),A=()=>C(f+1);if(Gt(async s=>{const g=await en({signal:s,context:t},c,i);return i||await Promise.all(g.data.map(async O=>O.shareRequests=await Ht(O._id,{signal:s,context:t}))),g},({data:s,links:g})=>{m(s),b(g)},[c,f]),!p)return n(Zt,{});const N=async s=>{let g=d[s]?.permissions||[];return d[s]||(g=await at({context:t},s)),g},I=async s=>{try{const g=(await N(s._id)).map(({username:O})=>({username:O,scopes:[]}));await nt(t,s._id,g),v({}),a(e("unShareSuccess"))}catch(g){l("unShareError",g)}},L=async(s,g,O)=>{const D=await N(s);v({...d,[s]:{...d[s],[g]:O,permissions:D}})};return y(ee,{children:[n(yn,{onFilter:s=>r({...c,name:s}),count:p.length,first:parseInt(c.first),max:parseInt(c.max),onNextClick:()=>r(h?.next||{}),onPreviousClick:()=>r(h?.prev||{}),onPerPageSelect:(s,g)=>r({first:`${s}`,max:`${g}`}),hasNext:!!h?.next}),y(Qe,{"aria-label":e("resources"),children:[n(Ye,{children:y(Z,{children:[n(W,{"aria-hidden":"true"}),n(W,{children:e("resourceName")}),n(W,{children:e("application")}),n(W,{"aria-hidden":i,children:i?"":e("permissionRequests")})]})}),p.map((s,g)=>y(et,{isExpanded:d[s._id]?.rowOpen,children:[y(Z,{children:[n(P,{"data-testid":`expand-${s.name}`,expand:i?void 0:{isExpanded:d[s._id]?.rowOpen||!1,rowIndex:g,onToggle:()=>L(s._id,"rowOpen",!d[s._id]?.rowOpen)}}),n(P,{dataLabel:e("resourceName"),"data-testid":`row[${g}].name`,children:s.name}),n(P,{dataLabel:e("application"),children:y("a",{href:s.client.baseUrl,children:[s.client.name||s.client.clientId," ",n(Jt,{})]})}),y(P,{dataLabel:e("permissionRequests"),children:[s.shareRequests&&s.shareRequests.length>0&&n(gn,{resource:s,refresh:()=>A()}),n(On,{resource:s,permissions:d[s._id]?.permissions,open:d[s._id]?.shareDialogOpen||!1,onClose:()=>v({})}),d[s._id]?.editDialogOpen&&n(vn,{resource:s,permissions:d[s._id]?.permissions,onClose:()=>v({})})]}),i?n(P,{children:s.scopes.length>0&&n(tt,{categoryName:e("permissions"),children:s.scopes.map(O=>n(ge,{isReadOnly:!0,children:O.displayName||O.name},O.name))})}):n(P,{isActionCell:!0,children:y(ye,{breakpoint:"lg",children:[n(lt,{children:y(ot,{groupType:"button",children:[n(ue,{children:y(M,{"data-testid":`share-${s.name}`,variant:"link",onClick:()=>L(s._id,"shareDialogOpen",!0),children:[n(Fe,{})," ",e("share")]})}),n(ue,{children:n(Ke,{popperProps:{position:"right"},onOpenChange:O=>L(s._id,"contextOpen",O),toggle:O=>n($e,{variant:"plain",ref:O,onClick:()=>L(s._id,"contextOpen",!d[s._id]?.contextOpen),isExpanded:d[s._id]?.contextOpen,children:n(ze,{})}),isOpen:!!d[s._id]?.contextOpen,children:y(De,{children:[y(pe,{isDisabled:d[s._id]?.permissions?.length===0,onClick:()=>L(s._id,"editDialogOpen",!0),children:[n(We,{})," ",e("edit")]}),n(Pe,{buttonTitle:y(ee,{children:[n(je,{})," ",e("unShare")]}),modalTitle:e("unShare"),continueLabel:e("confirm"),cancelLabel:e("cancel"),component:pe,onContinue:()=>I(s),isDisabled:d[s._id]?.permissions?.length===0,children:e("unShareAllConfirm")})]})})})]})}),n(st,{children:n(Ke,{popperProps:{position:"right"},onOpenChange:O=>L(s._id,"contextOpen",O),toggle:O=>n($e,{variant:"plain",ref:O,isExpanded:d[s._id]?.contextOpen,onClick:()=>L(s._id,"contextOpen",!d[s._id]?.contextOpen),children:n(ze,{})}),isOpen:!!d[s._id]?.contextOpen,children:y(De,{children:[y(te,{isShared:!0,onClick:()=>L(s._id,"shareDialogOpen",!0),children:[n(Fe,{})," ",e("share")]},"share"),y(te,{isShared:!0,onClick:()=>L(s._id,"editDialogOpen",!0),isDisabled:d[s._id]?.permissions?.length===0,children:[n(We,{})," ",e("edit")]},"edit"),n(Pe,{buttonTitle:y(ee,{children:[n(je,{})," ",e("unShare")]}),modalTitle:e("unShare"),continueLabel:e("confirm"),cancelLabel:e("cancel"),component:te,onContinue:()=>I(s),isDisabled:d[s._id]?.permissions?.length===0,children:e("unShareAllConfirm")},"unShare")]})})})]})})]}),n(Z,{isExpanded:d[s._id]?.rowOpen||!1,children:n(P,{colSpan:4,textCenter:!0,children:n(Qt,{children:n(ct,{permissions:d[s._id]?.permissions})})})})]},s.name))]})]})},kn=()=>{const{t:i}=q(),[e,t]=$(0);return n(Yt,{title:i("resources"),description:i("resourceIntroMessage"),children:y(X,{activeKey:e,onSelect:(a,l)=>t(l),mountOnEnter:!0,unmountOnExit:!0,children:[n(he,{"data-testid":"myResources",eventKey:0,title:n(ne,{children:i("myResources")}),children:n(Ue,{})}),n(he,{"data-testid":"sharedWithMe",eventKey:1,title:n(ne,{children:i("sharedWithMe")}),children:n(Ue,{isShared:!0})})]})})};export{kn as Resources,kn as default};
//# sourceMappingURL=Resources-Sqkkw4qN.js.map
