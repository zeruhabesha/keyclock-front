import{createElement as j,isValidElement as _,cloneElement as q,Children as Y,Fragment as Z,useContext as G}from"react";import{aN as K,aO as z,aP as J,aQ as ee,aR as te,aS as L,aT as P,aU as I,aV as ne}from"./main-BYB5eVdi.js";var w,R;function re(){return R||(R=1,w={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),w}var se=re();const ae=K(se);var ie=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function W(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(ae[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var i=new RegExp(ie),a=null;(a=i.exec(e))!==null;)if(a[0].trim())if(a[1]){var u=a[1].trim(),p=[u,""];u.indexOf("=")>-1&&(p=u.split("=")),t.attrs[p[0]]=p[1],i.lastIndex--}else a[2]&&(t.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return t}var oe=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,le=/^\s*$/,ce=Object.create(null);function U(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?(function(n){var r=[];for(var i in n)r.push(i+'="'+n[i]+'"');return r.length?" "+r.join(" "):""})(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(U,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var ue={parse:function(e,t){t||(t={}),t.components||(t.components=ce);var n,r=[],i=[],a=-1,u=!1;if(e.indexOf("<")!==0){var p=e.indexOf("<");r.push({type:"text",content:p===-1?e:e.substring(0,p)})}return e.replace(oe,function(h,b){if(u){if(h!=="</"+n.name+">")return;u=!1}var f,g=h.charAt(1)!=="/",v=h.startsWith("<!--"),d=b+h.length,o=e.charAt(d);if(v){var $=W(h);return a<0?(r.push($),r):((f=i[a]).children.push($),r)}if(g&&(a++,(n=W(h)).type==="tag"&&t.components[n.name]&&(n.type="component",u=!0),n.voidElement||u||!o||o==="<"||n.children.push({type:"text",content:e.slice(d,e.indexOf("<",d))}),a===0&&r.push(n),(f=i[a-1])&&f.children.push(n),i[a]=n),(!g||n.voidElement)&&(a>-1&&(n.voidElement||n.name===h.slice(2,-1))&&(a--,n=a===-1?r:i[a]),!u&&o!=="<"&&o)){f=a===-1?r:i[a].children;var x=e.indexOf("<",d),l=e.slice(d,x===-1?void 0:x);le.test(l)&&(l=" "),(x>-1&&a+f.length>=0||l!==" ")&&f.push({type:"text",content:l})}}),r},stringify:function(e){return e.reduce(function(t,n){return t+U("",n)},"")}};const B=(e,t)=>{if(!e)return!1;const n=e.props?.children??e.children;return t?n.length>0:!!n},H=e=>{if(!e)return[];const t=e.props?.children??e.children;return e.props?.i18nIsDynamicList?V(t):t},pe=e=>Array.isArray(e)&&e.every(_),V=e=>Array.isArray(e)?e:[e],fe=(e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n},X=(e,t,n,r)=>{if(!e)return"";let i="";const a=V(e),u=t?.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return a.forEach((p,h)=>{if(L(p)){i+=`${p}`;return}if(_(p)){const{props:b,type:f}=p,g=Object.keys(b).length,v=u.indexOf(f)>-1,d=b.children;if(!d&&v&&!g){i+=`<${f}/>`;return}if(!d&&(!v||g)||b.i18nIsDynamicList){i+=`<${h}></${h}>`;return}if(v&&g===1&&L(d)){i+=`<${f}>${d}</${f}>`;return}const o=X(d,t,n,r);i+=`<${h}>${o}</${h}>`;return}if(p===null){P(n,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:r});return}if(I(p)){const{format:b,...f}=p,g=Object.keys(f);if(g.length===1){const v=b?`${g[0]}, ${b}`:g[0];i+=`{{${v}}}`;return}P(n,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:r,child:p});return}P(n,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:r,child:p})}),i},me=(e,t,n,r,i,a,u)=>{if(n==="")return[];const p=i.transKeepBasicHtmlNodesFor||[],h=n&&new RegExp(p.map(l=>`<${l}`).join("|")).test(n);if(!e&&!t&&!h&&!u)return[n];const b=t??{},f=l=>{V(l).forEach(c=>{L(c)||(B(c)?f(H(c)):I(c)&&!_(c)&&Object.assign(b,c))})};f(e);const g=ue.parse(`<0>${n}</0>`),v={...b,...a},d=(l,O,c)=>{const A=H(l),C=$(A,O.children,c);return pe(A)&&C.length===0||l.props?.i18nIsDynamicList?A:C},o=(l,O,c,A,C)=>{l.dummy?(l.children=O,c.push(q(l,{key:A},C?void 0:O))):c.push(...Y.map([l],m=>{const s={...m.props};return delete s.i18nIsDynamicList,j(m.type,{...s,key:A,ref:m.props.ref??m.ref},C?null:O)}))},$=(l,O,c)=>{const A=V(l);return V(O).reduce((m,s,T)=>{const k=s.children?.[0]?.content&&r.services.interpolator.interpolate(s.children[0].content,v,r.language);if(s.type==="tag"){let N=A[parseInt(s.name,10)];!N&&t&&(N=t[s.name]),c.length===1&&!N&&(N=c[0][s.name]),N||(N={});const y=Object.keys(s.attrs).length!==0?fe({props:s.attrs},N):N,S=_(y),D=S&&B(s,!0)&&!s.voidElement,F=h&&I(y)&&y.dummy&&!S,Q=I(t)&&Object.hasOwnProperty.call(t,s.name);if(L(y)){const E=r.services.interpolator.interpolate(y,v,r.language);m.push(E)}else if(B(y)||D){const E=d(y,s,c);o(y,E,m,T)}else if(F){const E=$(A,s.children,c);o(y,E,m,T)}else if(Number.isNaN(parseFloat(s.name)))if(Q){const E=d(y,s,c);o(y,E,m,T,s.voidElement)}else if(i.transSupportBasicHtmlNodes&&p.indexOf(s.name)>-1)if(s.voidElement)m.push(j(s.name,{key:`${s.name}-${T}`}));else{const E=$(A,s.children,c);m.push(j(s.name,{key:`${s.name}-${T}`},E))}else if(s.voidElement)m.push(`<${s.name} />`);else{const E=$(A,s.children,c);m.push(`<${s.name}>${E}</${s.name}>`)}else if(I(y)&&!S){const E=s.children[0]?k:null;E&&m.push(E)}else o(y,k,m,T,s.children.length!==1||!k)}else if(s.type==="text"){const N=i.transWrapTextNodes,y=u?i.unescape(r.services.interpolator.interpolate(s.content,v,r.language)):r.services.interpolator.interpolate(s.content,v,r.language);N?m.push(j(N,{key:`${s.name}-${T}`},y)):m.push(y)}return m},[])},x=$([{dummy:!0,children:e||[]}],g,V(e||[]));return H(x[0])},M=(e,t,n)=>{const r=e.key||t,i=q(e,{key:r});if(!i.props||!i.props.children||n.indexOf(`${t}/>`)<0&&n.indexOf(`${t} />`)<0)return i;function a(){return j(Z,null,i)}return j(a,{key:r})},he=(e,t)=>e.map((n,r)=>M(n,r,t)),ye=(e,t)=>{const n={};return Object.keys(e).forEach(r=>{Object.assign(n,{[r]:M(e[r],r,t)})}),n},de=(e,t,n,r)=>e?Array.isArray(e)?he(e,t):I(e)?ye(e,t):(z(n,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:r}),null):null,ge=e=>!I(e)||Array.isArray(e)?!1:Object.keys(e).reduce((t,n)=>t&&Number.isNaN(Number.parseFloat(n)),!0);function ve({children:e,count:t,parent:n,i18nKey:r,context:i,tOptions:a={},values:u,defaults:p,components:h,ns:b,i18n:f,t:g,shouldUnescape:v,...d}){const o=f||J();if(!o)return z(o,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:r}),e;const $=g||o.t.bind(o)||(F=>F),x={...ee(),...o.options?.react};let l=b||$.ns||o.options?.defaultNS;l=L(l)?[l]:l||["translation"];const O=X(e,x,o,r),c=p||O||x.transEmptyNodeValue||(typeof r=="function"?te(r):r),{hashTransKey:A}=x,C=r||(A?A(O||c):O||c);o.options?.interpolation?.defaultVariables&&(u=u&&Object.keys(u).length>0?{...u,...o.options.interpolation.defaultVariables}:{...o.options.interpolation.defaultVariables});const m=u||t!==void 0&&!o.options?.interpolation?.alwaysFormat||!e?a.interpolation:{interpolation:{...a.interpolation,prefix:"#$?",suffix:"?$#"}},s={...a,context:i||a.context,count:t,...u,...m,defaultValue:c,ns:l},T=C?$(C,s):c,k=de(h,T,o,r);let N=k||e,y=null;ge(k)&&(y=k,N=e);const S=me(N,y,T,o,x,s,v),D=n??x.defaultTransParent;return D?j(D,d,S):S}function Ae({children:e,count:t,parent:n,i18nKey:r,context:i,tOptions:a={},values:u,defaults:p,components:h,ns:b,i18n:f,t:g,shouldUnescape:v,...d}){const{i18n:o,defaultNS:$}=G(ne)||{},x=f||o||J(),l=g||x?.t.bind(x);return ve({children:e,count:t,parent:n,i18nKey:r,context:i,tOptions:a,values:u,defaults:p,components:h,ns:b||l?.ns||$||x?.options?.defaultNS,i18n:x,t:g,shouldUnescape:v,...d})}export{Ae as T};
//# sourceMappingURL=Trans-BaUX9YiO.js.map
