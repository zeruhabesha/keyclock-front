import{jsxs as s,Fragment as b,jsx as e}from"react/jsx-runtime";import{u as B,d as C,a as K,_ as x,b as A,B as P,P as S,e4 as E,v as I,e5 as c,T as L,g as T,L as l,cR as V}from"./main-o1hptXRo.js";import{useState as d}from"react";import{u as k}from"./ConfirmDialog-BkU7melV.js";import{V as w}from"./ViewHeader-BDBsroi3.js";import"react-dom";function q(){const{adminClient:o}=B(),{realm:n}=C(),{t:a}=K(),{addAlert:g,addError:m}=x(),u=A(),[r,z]=d(0),f=()=>z(r+1),[y,p]=d();async function h(t,i,v){return await o.organizations.find({first:t,max:i,search:v})}const[O,D]=k({titleKey:"organizationDelete",messageKey:"organizationDeleteConfirm",continueButtonLabel:"delete",continueButtonVariant:P.danger,onConfirm:async()=>{try{await o.organizations.delById({id:y.id}),g(a("organizationDeletedSuccess")),f()}catch(t){m("organizationDeleteError",t)}}});return s(b,{children:[e(w,{titleKey:"organizationsList",subKey:"organizationsExplain",divider:!0}),s(S,{variant:"light",className:"pf-v5-u-p-0",children:[e(D,{}),e(E,{link:({organization:t,children:i})=>e(l,{to:V({realm:n,id:t.id,tab:"settings"}),children:i},t.id),loader:h,searchPlaceholderKey:"searchOrganization",isPaginated:!0,toolbarItem:e(L,{children:e(T,{"data-testid":"addOrganization",component:t=>e(l,{...t,to:c({realm:n})}),children:a("createOrganization")})}),onDelete:t=>{p(t),O()},children:e(I,{message:a("emptyOrganizations"),instructions:a("emptyOrganizationsInstructions"),primaryActionText:a("createOrganization"),onPrimaryAction:()=>u(c({realm:n}))})},r)]})]})}export{q as default};
//# sourceMappingURL=OrganizationsSection-zGqpP6RR.js.map
