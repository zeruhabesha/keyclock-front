{"version":3,"file":"TimeSelectorControl-B1N9IKgG.js","sources":["../../../../../../../src/components/time-selector/TimeSelectorControl.tsx"],"sourcesContent":["import { FormGroup, ValidatedOptions } from \"@patternfly/react-core\";\r\nimport {\r\n  Controller,\r\n  ControllerProps,\r\n  FieldPath,\r\n  FieldValues,\r\n  UseControllerProps,\r\n  useFormContext,\r\n} from \"react-hook-form\";\r\nimport { FormErrorText, HelpItem } from \"@keycloak/keycloak-ui-shared\";\r\nimport { TimeSelector, TimeSelectorProps } from \"./TimeSelector\";\r\n\r\nexport type NumberControlOption = {\r\n  key: string;\r\n  value: string;\r\n};\r\n\r\nexport type TimeSelectorControlProps<\r\n  T extends FieldValues,\r\n  P extends FieldPath<T> = FieldPath<T>,\r\n> = Omit<TimeSelectorProps, \"name\"> &\r\n  UseControllerProps<T, P> & {\r\n    name: string;\r\n    label?: string;\r\n    labelIcon?: string;\r\n    controller: Omit<ControllerProps, \"name\" | \"render\">;\r\n  };\r\n\r\nexport const TimeSelectorControl = <\r\n  T extends FieldValues,\r\n  P extends FieldPath<T> = FieldPath<T>,\r\n>({\r\n  name,\r\n  label,\r\n  controller,\r\n  labelIcon,\r\n  ...rest\r\n}: TimeSelectorControlProps<T, P>) => {\r\n  const {\r\n    control,\r\n    formState: { errors },\r\n  } = useFormContext();\r\n\r\n  const error = errors[name];\r\n\r\n  return (\r\n    <FormGroup\r\n      isRequired={controller.rules?.required === true}\r\n      label={label || name}\r\n      fieldId={name}\r\n      labelIcon={\r\n        labelIcon ? (\r\n          <HelpItem helpText={labelIcon} fieldLabelId={name} />\r\n        ) : undefined\r\n      }\r\n    >\r\n      <Controller\r\n        {...controller}\r\n        name={name}\r\n        control={control}\r\n        render={({ field }) => (\r\n          <TimeSelector\r\n            {...rest}\r\n            id={name}\r\n            data-testid={name}\r\n            value={field.value}\r\n            onChange={field.onChange}\r\n            validated={\r\n              error ? ValidatedOptions.error : ValidatedOptions.default\r\n            }\r\n          />\r\n        )}\r\n      />\r\n      {error && (\r\n        <FormErrorText\r\n          data-testid={`${name}-helper`}\r\n          message={error.message as string}\r\n        />\r\n      )}\r\n    </FormGroup>\r\n  );\r\n};\r\n"],"names":["TimeSelectorControl","name","label","controller","labelIcon","rest","control","errors","useFormContext","error","jsxs","FormGroup","jsx","HelpItem","Controller","field","TimeSelector","ValidatedOptions","FormErrorText"],"mappings":"8KA4BO,MAAMA,EAAsB,CAGjC,CACA,KAAAC,EACA,MAAAC,EACA,WAAAC,EACA,UAAAC,EACA,GAAGC,CACL,IAAsC,CACpC,KAAM,CACJ,QAAAC,EACA,UAAW,CAAE,OAAAC,CAAA,CAAO,EAClBC,EAAA,EAEEC,EAAQF,EAAON,CAAI,EAEzB,OACES,EAACC,EAAA,CACC,WAAYR,EAAW,OAAO,WAAa,GAC3C,MAAOD,GAASD,EAChB,QAASA,EACT,UACEG,EACEQ,EAACC,EAAA,CAAS,SAAUT,EAAW,aAAcH,EAAM,EACjD,OAGN,SAAA,CAAAW,EAACE,EAAA,CACE,GAAGX,EACJ,KAAAF,EACA,QAAAK,EACA,OAAQ,CAAC,CAAE,MAAAS,CAAA,IACTH,EAACI,EAAA,CACE,GAAGX,EACJ,GAAIJ,EACJ,cAAaA,EACb,MAAOc,EAAM,MACb,SAAUA,EAAM,SAChB,UACEN,EAAQQ,EAAiB,MAAQA,EAAiB,OAAA,CAAA,CAEtD,CAAA,EAGHR,GACCG,EAACM,EAAA,CACC,cAAa,GAAGjB,CAAI,UACpB,QAASQ,EAAM,OAAA,CAAA,CACjB,CAAA,CAAA,CAIR"}