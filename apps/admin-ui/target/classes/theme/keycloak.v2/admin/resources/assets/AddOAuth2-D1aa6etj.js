import{jsxs as a,Fragment as h,jsx as t}from"react/jsx-runtime";import{u as y,a as g,b as I,j as P,_ as A,d as C,P as S,l as O,A as b,g as n,L as D,cJ as F,o as V,cK as j}from"./main-o1hptXRo.js";import{F as x}from"./FormAccess-BnhQnYb9.js";import{V as E}from"./ViewHeader-BDBsroi3.js";import{O as k,a as w}from"./OIDCGeneralSettings-ItScBFVN.js";import{O as G}from"./OpenIdConnectSettings-CUuiXdIQ.js";import{U as H}from"./OAuth2UserProfileClaimsSettings-CK1OVfUH.js";import"react";import"react-dom";import"./SwitchControl-CU1bUhmR.js";import"./JwksSettings-DiafDiDg.js";import"./ImportKeyDialog-Cx3JB4OO.js";/* empty css                           */import"./ExpandableSection-wnspFC3f.js";import"./ClientIdSecret-D0qwvhDE.js";import"./RedirectUrl-DrdV0T_4.js";import"./JsonFileUpload-CXVaTh71.js";import"./FileUploadForm-3WTCaGLI.js";import"./CodeEditor-C4IS5oxi.js";import"./DiscoveryEndpointField-CeImOp4h.js";function et(){const{adminClient:d}=y(),{t:e}=g(),m=I(),i="oauth2",o=P({defaultValues:{alias:i},mode:"onChange"}),{handleSubmit:c,formState:{isDirty:l}}=o,{addAlert:p,addError:u}=A(),{realm:s}=C(),v=async r=>{delete r.discoveryEndpoint;try{await d.identityProviders.create({...r,providerId:i}),p(e("createIdentityProviderSuccess"),V.success),m(j({realm:s,providerId:i,alias:r.alias,tab:"settings"}))}catch(f){u("createIdentityProviderError",f)}};return a(h,{children:[t(E,{titleKey:e("addOAuth2Provider")}),t(S,{variant:"light",children:t(O,{...o,children:a(x,{role:"manage-identity-providers",isHorizontal:!0,onSubmit:c(v),children:[t(k,{}),t(G,{isOIDC:!1}),t(w,{}),t(H,{}),a(b,{children:[t(n,{isDisabled:!l,variant:"primary",type:"submit","data-testid":"createProvider",children:e("add")}),t(n,{variant:"link","data-testid":"cancel",component:r=>t(D,{...r,to:F({realm:s})}),children:e("cancel")})]})]})})})]})}export{et as default};
//# sourceMappingURL=AddOAuth2-D1aa6etj.js.map
