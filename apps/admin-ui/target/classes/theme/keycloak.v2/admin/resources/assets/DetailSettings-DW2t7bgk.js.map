{"version":3,"file":"DetailSettings-DW2t7bgk.js","sources":["../../../../../../../src/identity-providers/add/AdvancedSettings.tsx","../../../../../../../src/identity-providers/add/ExtendedNonDiscoverySettings.tsx","../../../../../../../src/identity-providers/add/ExtendedOAuth2Settings.tsx","../../../../../../../src/identity-providers/add/ReqAuthnConstraintsSettings.tsx","../../../../../../../src/identity-providers/add/DetailSettings.tsx"],"sourcesContent":["import type AuthenticationFlowRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/authenticationFlowRepresentation\";\r\nimport type IdentityProviderRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/identityProviderRepresentation\";\r\nimport {\r\n  FormErrorText,\r\n  HelpItem,\r\n  KeycloakSelect,\r\n  SelectControl,\r\n  SelectVariant,\r\n  useFetch,\r\n} from \"@keycloak/keycloak-ui-shared\";\r\nimport {\r\n  FormGroup,\r\n  SelectOption,\r\n  Switch,\r\n  TextInput,\r\n  ValidatedOptions,\r\n} from \"@patternfly/react-core\";\r\nimport { useState } from \"react\";\r\nimport { Controller, useFormContext, useWatch } from \"react-hook-form\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useAdminClient } from \"../../admin-client\";\r\nimport useIsFeatureEnabled, { Feature } from \"../../utils/useIsFeatureEnabled\";\r\nimport type { FieldProps } from \"../component/FormGroupField\";\r\nimport { FormGroupField } from \"../component/FormGroupField\";\r\nimport { SwitchField } from \"../component/SwitchField\";\r\nimport { TextField } from \"../component/TextField\";\r\n\r\nconst LoginFlow = ({\r\n  field,\r\n  label,\r\n  defaultValue,\r\n  labelForEmpty = \"none\",\r\n}: FieldProps & { defaultValue: string; labelForEmpty?: string }) => {\r\n  const { adminClient } = useAdminClient();\r\n\r\n  const { t } = useTranslation();\r\n  const { control } = useFormContext();\r\n\r\n  const [flows, setFlows] = useState<AuthenticationFlowRepresentation[]>();\r\n  const [open, setOpen] = useState(false);\r\n\r\n  useFetch(\r\n    () => adminClient.authenticationManagement.getFlows(),\r\n    (flows) =>\r\n      setFlows(flows.filter((flow) => flow.providerId === \"basic-flow\")),\r\n    [],\r\n  );\r\n\r\n  return (\r\n    <FormGroup\r\n      label={t(label)}\r\n      labelIcon={<HelpItem helpText={t(`${label}Help`)} fieldLabelId={label} />}\r\n      fieldId={label}\r\n    >\r\n      <Controller\r\n        name={field}\r\n        defaultValue={defaultValue}\r\n        control={control}\r\n        render={({ field }) => (\r\n          <KeycloakSelect\r\n            toggleId={label}\r\n            onToggle={() => setOpen(!open)}\r\n            onSelect={(value) => {\r\n              field.onChange(value as string);\r\n              setOpen(false);\r\n            }}\r\n            selections={field.value || t(labelForEmpty)}\r\n            variant={SelectVariant.single}\r\n            aria-label={t(label)}\r\n            isOpen={open}\r\n          >\r\n            {[\r\n              ...(defaultValue === \"\"\r\n                ? [\r\n                    <SelectOption key=\"empty\" value=\"\">\r\n                      {t(labelForEmpty)}\r\n                    </SelectOption>,\r\n                  ]\r\n                : []),\r\n              ...(flows?.map((option) => (\r\n                <SelectOption\r\n                  selected={option.alias === field.value}\r\n                  key={option.id}\r\n                  value={option.alias}\r\n                >\r\n                  {option.alias}\r\n                </SelectOption>\r\n              )) || []),\r\n            ]}\r\n          </KeycloakSelect>\r\n        )}\r\n      />\r\n    </FormGroup>\r\n  );\r\n};\r\n\r\nconst SYNC_MODES = [\"IMPORT\", \"LEGACY\", \"FORCE\"];\r\nconst SHOW_IN_ACCOUNT_CONSOLE_VALUES = [\"ALWAYS\", \"WHEN_LINKED\", \"NEVER\"];\r\ntype AdvancedSettingsProps = {\r\n  isOIDC: boolean;\r\n  isSAML: boolean;\r\n  isOAuth2: boolean;\r\n};\r\n\r\nexport const AdvancedSettings = ({\r\n  isOIDC,\r\n  isSAML,\r\n  isOAuth2,\r\n}: AdvancedSettingsProps) => {\r\n  const { t } = useTranslation();\r\n  const {\r\n    control,\r\n    register,\r\n    setValue,\r\n    formState: { errors },\r\n  } = useFormContext<IdentityProviderRepresentation>();\r\n  const filteredByClaim = useWatch({\r\n    control,\r\n    name: \"config.filteredByClaim\",\r\n    defaultValue: \"false\",\r\n  });\r\n  const claimFilterRequired = filteredByClaim === \"true\";\r\n  const isFeatureEnabled = useIsFeatureEnabled();\r\n  const isTransientUsersEnabled = isFeatureEnabled(Feature.TransientUsers);\r\n  const isClientAuthFederatedEnabled = isFeatureEnabled(\r\n    Feature.ClientAuthFederated,\r\n  );\r\n  const transientUsers = useWatch({\r\n    control,\r\n    name: \"config.doNotStoreUsers\",\r\n    defaultValue: \"false\",\r\n  });\r\n  const syncModeAvailable = transientUsers === \"false\";\r\n  return (\r\n    <>\r\n      {!isOIDC && !isSAML && !isOAuth2 && (\r\n        <TextField field=\"config.defaultScope\" label=\"scopes\" />\r\n      )}\r\n      <SwitchField field=\"storeToken\" label=\"storeTokens\" fieldType=\"boolean\" />\r\n      {(isSAML || isOIDC || isOAuth2) && (\r\n        <SwitchField\r\n          field=\"addReadTokenRoleOnCreate\"\r\n          label=\"storedTokensReadable\"\r\n          fieldType=\"boolean\"\r\n        />\r\n      )}\r\n      {!isOIDC && !isSAML && !isOAuth2 && (\r\n        <>\r\n          <SwitchField\r\n            field=\"config.acceptsPromptNoneForwardFromClient\"\r\n            label=\"acceptsPromptNone\"\r\n          />\r\n          <SwitchField field=\"config.disableUserInfo\" label=\"disableUserInfo\" />\r\n        </>\r\n      )}\r\n      {isOIDC && (\r\n        <SwitchField field=\"config.isAccessTokenJWT\" label=\"isAccessTokenJWT\" />\r\n      )}\r\n      <SwitchField field=\"trustEmail\" label=\"trustEmail\" fieldType=\"boolean\" />\r\n      <SwitchField\r\n        field=\"linkOnly\"\r\n        label=\"accountLinkingOnly\"\r\n        fieldType=\"boolean\"\r\n      />\r\n      <SwitchField\r\n        field=\"hideOnLogin\"\r\n        label=\"hideOnLoginPage\"\r\n        fieldType=\"boolean\"\r\n      />\r\n      <SelectControl\r\n        name=\"config.showInAccountConsole\"\r\n        label={t(\"showInAccountConsole\")}\r\n        labelIcon={t(\"showInAccountConsoleHelp\")}\r\n        options={SHOW_IN_ACCOUNT_CONSOLE_VALUES.map((showInAccountConsole) => ({\r\n          key: showInAccountConsole,\r\n          value: t(\r\n            `showInAccountConsole.${showInAccountConsole.toLocaleLowerCase()}`,\r\n          ),\r\n        }))}\r\n        controller={{\r\n          defaultValue: SHOW_IN_ACCOUNT_CONSOLE_VALUES[0],\r\n          rules: { required: t(\"required\") },\r\n        }}\r\n      />\r\n\r\n      {((!isSAML && !isOAuth2) || isOIDC) && (\r\n        <FormGroupField label=\"filteredByClaim\">\r\n          <Controller\r\n            name=\"config.filteredByClaim\"\r\n            defaultValue=\"false\"\r\n            control={control}\r\n            render={({ field }) => (\r\n              <Switch\r\n                id=\"filteredByClaim\"\r\n                label={t(\"on\")}\r\n                labelOff={t(\"off\")}\r\n                isChecked={field.value === \"true\"}\r\n                onChange={(_event, value) => {\r\n                  field.onChange(value.toString());\r\n                }}\r\n              />\r\n            )}\r\n          />\r\n        </FormGroupField>\r\n      )}\r\n      {(!isSAML || isOIDC) && claimFilterRequired && (\r\n        <>\r\n          <FormGroup\r\n            label={t(\"claimFilterName\")}\r\n            labelIcon={\r\n              <HelpItem\r\n                helpText={t(\"claimFilterNameHelp\")}\r\n                fieldLabelId=\"claimFilterName\"\r\n              />\r\n            }\r\n            fieldId=\"kc-claim-filter-name\"\r\n            isRequired\r\n          >\r\n            <TextInput\r\n              isRequired\r\n              id=\"kc-claim-filter-name\"\r\n              data-testid=\"claimFilterName\"\r\n              validated={\r\n                errors.config?.claimFilterName\r\n                  ? ValidatedOptions.error\r\n                  : ValidatedOptions.default\r\n              }\r\n              {...register(\"config.claimFilterName\", { required: true })}\r\n            />\r\n            {errors.config?.claimFilterName && (\r\n              <FormErrorText message={t(\"required\")} />\r\n            )}\r\n          </FormGroup>\r\n          <FormGroup\r\n            label={t(\"claimFilterValue\")}\r\n            labelIcon={\r\n              <HelpItem\r\n                helpText={t(\"claimFilterValueHelp\")}\r\n                fieldLabelId=\"claimFilterName\"\r\n              />\r\n            }\r\n            fieldId=\"kc-claim-filter-value\"\r\n            isRequired\r\n          >\r\n            <TextInput\r\n              isRequired\r\n              id=\"kc-claim-filter-value\"\r\n              data-testid=\"claimFilterValue\"\r\n              validated={\r\n                errors.config?.claimFilterValue\r\n                  ? ValidatedOptions.error\r\n                  : ValidatedOptions.default\r\n              }\r\n              {...register(\"config.claimFilterValue\", { required: true })}\r\n            />\r\n            {errors.config?.claimFilterValue && (\r\n              <FormErrorText message={t(\"required\")} />\r\n            )}\r\n          </FormGroup>\r\n        </>\r\n      )}\r\n      <LoginFlow\r\n        field=\"firstBrokerLoginFlowAlias\"\r\n        label=\"firstBrokerLoginFlowAliasOverride\"\r\n        defaultValue=\"\"\r\n        labelForEmpty=\"\"\r\n      />\r\n      <LoginFlow\r\n        field=\"postBrokerLoginFlowAlias\"\r\n        label=\"postBrokerLoginFlowAlias\"\r\n        defaultValue=\"\"\r\n      />\r\n\r\n      {isTransientUsersEnabled && (\r\n        <FormGroupField label=\"doNotStoreUsers\">\r\n          <Controller\r\n            name=\"config.doNotStoreUsers\"\r\n            defaultValue=\"false\"\r\n            control={control}\r\n            render={({ field }) => (\r\n              <Switch\r\n                id=\"doNotStoreUsers\"\r\n                label={t(\"on\")}\r\n                labelOff={t(\"off\")}\r\n                isChecked={field.value === \"true\"}\r\n                onChange={(_event, value) => {\r\n                  field.onChange(value.toString());\r\n                  // if field is checked, set sync mode to import\r\n                  if (value) {\r\n                    setValue(\"config.syncMode\", \"IMPORT\");\r\n                  }\r\n                }}\r\n              />\r\n            )}\r\n          />\r\n        </FormGroupField>\r\n      )}\r\n      {syncModeAvailable && (\r\n        <SelectControl\r\n          name=\"config.syncMode\"\r\n          label={t(\"syncMode\")}\r\n          labelIcon={t(\"syncModeHelp\")}\r\n          options={SYNC_MODES.map((syncMode) => ({\r\n            key: syncMode,\r\n            value: t(`syncModes.${syncMode.toLocaleLowerCase()}`),\r\n          }))}\r\n          controller={{\r\n            defaultValue: SYNC_MODES[0],\r\n            rules: { required: t(\"required\") },\r\n          }}\r\n        />\r\n      )}\r\n      <SwitchField\r\n        field=\"config.caseSensitiveOriginalUsername\"\r\n        label=\"caseSensitiveOriginalUsername\"\r\n      />\r\n      {isClientAuthFederatedEnabled && isOIDC && (\r\n        <>\r\n          <SwitchField\r\n            field=\"config.supportsClientAssertions\"\r\n            label=\"supportsClientAssertions\"\r\n          />\r\n          <SwitchField\r\n            field=\"config.supportsClientAssertionReuse\"\r\n            label=\"supportsClientAssertionReuse\"\r\n          />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import {\r\n  HelpItem,\r\n  KeycloakSelect,\r\n  SelectVariant,\r\n} from \"@keycloak/keycloak-ui-shared\";\r\nimport {\r\n  ExpandableSection,\r\n  Form,\r\n  FormGroup,\r\n  NumberInput,\r\n  SelectOption,\r\n} from \"@patternfly/react-core\";\r\nimport { useState } from \"react\";\r\nimport { Controller, useFormContext } from \"react-hook-form\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { FormGroupField } from \"../component/FormGroupField\";\r\nimport { SwitchField } from \"../component/SwitchField\";\r\nimport { TextField } from \"../component/TextField\";\r\n\r\nconst promptOptions = {\r\n  unspecified: \"\",\r\n  none: \"none\",\r\n  consent: \"consent\",\r\n  login: \"login\",\r\n  select_account: \"select_account\",\r\n};\r\n\r\nexport const ExtendedNonDiscoverySettings = () => {\r\n  const { t } = useTranslation();\r\n  const { control } = useFormContext();\r\n\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n  const [promptOpen, setPromptOpen] = useState(false);\r\n\r\n  return (\r\n    <ExpandableSection\r\n      toggleText={t(\"advanced\")}\r\n      onToggle={() => setIsExpanded(!isExpanded)}\r\n      isExpanded={isExpanded}\r\n    >\r\n      <Form isHorizontal>\r\n        <SwitchField label=\"passLoginHint\" field=\"config.loginHint\" />\r\n        <SwitchField label=\"passMaxAge\" field=\"config.passMaxAge\" />\r\n        <SwitchField label=\"passCurrentLocale\" field=\"config.uiLocales\" />\r\n        <SwitchField\r\n          field=\"config.backchannelSupported\"\r\n          label=\"backchannelLogout\"\r\n        />\r\n        <SwitchField\r\n          field=\"config.sendIdTokenOnLogout\"\r\n          label=\"sendIdTokenOnLogout\"\r\n          defaultValue={\"true\"}\r\n        />\r\n        <SwitchField\r\n          field=\"config.sendClientIdOnLogout\"\r\n          label=\"sendClientIdOnLogout\"\r\n        />\r\n        <SwitchField field=\"config.disableUserInfo\" label=\"disableUserInfo\" />\r\n        <SwitchField field=\"config.disableNonce\" label=\"disableNonce\" />\r\n        <SwitchField\r\n          field=\"config.disableTypeClaimCheck\"\r\n          label=\"disableTypeClaimCheck\"\r\n        />\r\n        <TextField field=\"config.defaultScope\" label=\"scopes\" />\r\n        <FormGroupField label=\"prompt\">\r\n          <Controller\r\n            name=\"config.prompt\"\r\n            defaultValue=\"\"\r\n            control={control}\r\n            render={({ field }) => (\r\n              <KeycloakSelect\r\n                toggleId=\"prompt\"\r\n                onToggle={() => setPromptOpen(!promptOpen)}\r\n                onSelect={(value) => {\r\n                  field.onChange(value as string);\r\n                  setPromptOpen(false);\r\n                }}\r\n                selections={field.value || t(`prompts.unspecified`)}\r\n                variant={SelectVariant.single}\r\n                aria-label={t(\"prompt\")}\r\n                isOpen={promptOpen}\r\n              >\r\n                {Object.entries(promptOptions).map(([key, val]) => (\r\n                  <SelectOption\r\n                    selected={val === field.value}\r\n                    key={key}\r\n                    value={val}\r\n                  >\r\n                    {t(`prompts.${key}`)}\r\n                  </SelectOption>\r\n                ))}\r\n              </KeycloakSelect>\r\n            )}\r\n          />\r\n        </FormGroupField>\r\n        <SwitchField\r\n          field=\"config.acceptsPromptNoneForwardFromClient\"\r\n          label=\"acceptsPromptNone\"\r\n        />\r\n        <SwitchField\r\n          field=\"config.requiresShortStateParameter\"\r\n          label=\"requiresShortStateParameter\"\r\n        />\r\n        <FormGroup\r\n          label={t(\"allowedClockSkew\")}\r\n          labelIcon={\r\n            <HelpItem\r\n              helpText={t(\"allowedClockSkewHelp\")}\r\n              fieldLabelId=\"allowedClockSkew\"\r\n            />\r\n          }\r\n          fieldId=\"allowedClockSkew\"\r\n        >\r\n          <Controller\r\n            name=\"config.allowedClockSkew\"\r\n            defaultValue={0}\r\n            control={control}\r\n            render={({ field }) => {\r\n              const v = Number(field.value);\r\n              return (\r\n                <NumberInput\r\n                  data-testid=\"allowedClockSkew\"\r\n                  inputName=\"allowedClockSkew\"\r\n                  min={0}\r\n                  max={2147483}\r\n                  value={v}\r\n                  readOnly\r\n                  onPlus={() => field.onChange(v + 1)}\r\n                  onMinus={() => field.onChange(v - 1)}\r\n                  onChange={(event) => {\r\n                    const value = Number(\r\n                      (event.target as HTMLInputElement).value,\r\n                    );\r\n                    field.onChange(value < 0 ? 0 : value);\r\n                  }}\r\n                />\r\n              );\r\n            }}\r\n          />\r\n        </FormGroup>\r\n        <TextField field=\"config.forwardParameters\" label=\"forwardParameters\" />\r\n      </Form>\r\n    </ExpandableSection>\r\n  );\r\n};\r\n","import { NumberControl, SelectControl } from \"@keycloak/keycloak-ui-shared\";\r\nimport { ExpandableSection, Form } from \"@patternfly/react-core\";\r\nimport { useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { SwitchField } from \"../component/SwitchField\";\r\nimport { TextField } from \"../component/TextField\";\r\n\r\nexport const ExtendedOAuth2Settings = () => {\r\n  const { t } = useTranslation();\r\n\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n\r\n  return (\r\n    <ExpandableSection\r\n      toggleText={t(\"advanced\")}\r\n      onToggle={() => setIsExpanded(!isExpanded)}\r\n      isExpanded={isExpanded}\r\n    >\r\n      <Form isHorizontal>\r\n        <TextField field=\"config.defaultScope\" label=\"scopes\" />\r\n        <SelectControl\r\n          name=\"config.prompt\"\r\n          label={t(\"prompt\")}\r\n          options={[\r\n            { key: t(\"prompts.unspecified\"), value: \"\" },\r\n            { key: t(\"prompts.none\"), value: \"none\" },\r\n            { key: t(\"prompts.consent\"), value: \"consent\" },\r\n            { key: t(\"prompts.login\"), value: \"login\" },\r\n            { key: t(\"prompts.select_account\"), value: \"select_account\" },\r\n          ]}\r\n          controller={{ defaultValue: \"\" }}\r\n        />\r\n        <SwitchField\r\n          field=\"config.acceptsPromptNoneForwardFromClient\"\r\n          label=\"acceptsPromptNone\"\r\n        />\r\n        <SwitchField\r\n          field=\"config.requiresShortStateParameter\"\r\n          label=\"requiresShortStateParameter\"\r\n        />\r\n        <NumberControl\r\n          name=\"config.allowedClockSkew\"\r\n          label={t(\"allowedClockSkew\")}\r\n          labelIcon={t(\"allowedClockSkewHelp\")}\r\n          controller={{ defaultValue: 0, rules: { min: 0 } }}\r\n        />\r\n        <TextField field=\"config.forwardParameters\" label=\"forwardParameters\" />\r\n      </Form>\r\n    </ExpandableSection>\r\n  );\r\n};\r\n","import {\r\n  HelpItem,\r\n  KeycloakSelect,\r\n  SelectVariant,\r\n} from \"@keycloak/keycloak-ui-shared\";\r\nimport { FormGroup, SelectOption } from \"@patternfly/react-core\";\r\nimport { useState } from \"react\";\r\nimport { Controller, useFormContext } from \"react-hook-form\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { MultiLineInput } from \"../../components/multi-line-input/MultiLineInput\";\r\n\r\nconst comparisonValues = [\"exact\", \"minimum\", \"maximum\", \"better\"];\r\n\r\nexport const ReqAuthnConstraints = () => {\r\n  const { t } = useTranslation();\r\n  const { control } = useFormContext();\r\n  const [comparisonOpen, setComparisonOpen] = useState(false);\r\n  return (\r\n    <>\r\n      <FormGroup\r\n        label={t(\"comparison\")}\r\n        labelIcon={\r\n          <HelpItem helpText={t(\"comparisonHelp\")} fieldLabelId=\"comparison\" />\r\n        }\r\n        fieldId=\"comparison\"\r\n      >\r\n        <Controller\r\n          name=\"config.authnContextComparisonType\"\r\n          defaultValue={comparisonValues[0]}\r\n          control={control}\r\n          render={({ field }) => (\r\n            <KeycloakSelect\r\n              toggleId=\"comparison\"\r\n              direction=\"up\"\r\n              onToggle={(isExpanded) => setComparisonOpen(isExpanded)}\r\n              onSelect={(value) => {\r\n                field.onChange(value.toString());\r\n                setComparisonOpen(false);\r\n              }}\r\n              selections={field.value}\r\n              variant={SelectVariant.single}\r\n              aria-label={t(\"comparison\")}\r\n              isOpen={comparisonOpen}\r\n            >\r\n              {comparisonValues.map((option) => (\r\n                <SelectOption\r\n                  selected={option === field.value}\r\n                  key={option}\r\n                  value={option}\r\n                >\r\n                  {t(option)}\r\n                </SelectOption>\r\n              ))}\r\n            </KeycloakSelect>\r\n          )}\r\n        />\r\n      </FormGroup>\r\n      <FormGroup\r\n        label={t(\"authnContextClassRefs\")}\r\n        fieldId=\"kc-authnContextClassRefs\"\r\n        labelIcon={\r\n          <HelpItem\r\n            helpText={t(\"authnContextClassRefsHelp\")}\r\n            fieldLabelId=\"authnContextClassRefs\"\r\n          />\r\n        }\r\n      >\r\n        <MultiLineInput\r\n          name=\"config.authnContextClassRefs\"\r\n          aria-label={t(\"identify-providers:authnContextClassRefs\")}\r\n          addButtonLabel=\"addAuthnContextClassRef\"\r\n          data-testid=\"classref-field\"\r\n        />\r\n      </FormGroup>\r\n      <FormGroup\r\n        label={t(\"authnContextDeclRefs\")}\r\n        fieldId=\"kc-authnContextDeclRefs\"\r\n        labelIcon={\r\n          <HelpItem\r\n            helpText={t(\"authnContextDeclRefsHelp\")}\r\n            fieldLabelId=\"authnContextDeclRefs\"\r\n          />\r\n        }\r\n      >\r\n        <MultiLineInput\r\n          name=\"config.authnContextDeclRefs\"\r\n          aria-label={t(\"identify-providers:authnContextDeclRefs\")}\r\n          addButtonLabel=\"addAuthnContextDeclRef\"\r\n          data-testid=\"declref-field\"\r\n        />\r\n      </FormGroup>\r\n    </>\r\n  );\r\n};\r\n","import type IdentityProviderMapperRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/identityProviderMapperRepresentation\";\r\nimport IdentityProviderRepresentation, {\r\n  IdentityProviderType,\r\n} from \"@keycloak/keycloak-admin-client/lib/defs/identityProviderRepresentation\";\r\nimport {\r\n  Action,\r\n  KeycloakDataTable,\r\n  KeycloakSpinner,\r\n  ListEmptyState,\r\n  ScrollForm,\r\n  useAlerts,\r\n  useFetch,\r\n} from \"@keycloak/keycloak-ui-shared\";\r\nimport {\r\n  AlertVariant,\r\n  Button,\r\n  ButtonVariant,\r\n  Divider,\r\n  DropdownItem,\r\n  Form,\r\n  PageSection,\r\n  Tab,\r\n  TabTitleText,\r\n  Text,\r\n  ToolbarItem,\r\n} from \"@patternfly/react-core\";\r\nimport { useMemo, useState } from \"react\";\r\nimport {\r\n  Controller,\r\n  FormProvider,\r\n  useForm,\r\n  useFormContext,\r\n  useWatch,\r\n} from \"react-hook-form\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useAdminClient } from \"../../admin-client\";\r\nimport { useConfirmDialog } from \"../../components/confirm-dialog/ConfirmDialog\";\r\nimport { DynamicComponents } from \"../../components/dynamic/DynamicComponents\";\r\nimport { FixedButtonsGroup } from \"../../components/form/FixedButtonGroup\";\r\nimport { FormAccess } from \"../../components/form/FormAccess\";\r\nimport { PermissionsTab } from \"../../components/permission-tab/PermissionTab\";\r\nimport {\r\n  RoutableTabs,\r\n  useRoutableTab,\r\n} from \"../../components/routable-tabs/RoutableTabs\";\r\nimport { ViewHeader } from \"../../components/view-header/ViewHeader\";\r\nimport { useAccess } from \"../../context/access/Access\";\r\nimport { useRealm } from \"../../context/realm-context/RealmContext\";\r\nimport { useServerInfo } from \"../../context/server-info/ServerInfoProvider\";\r\nimport { toUpperCase } from \"../../util\";\r\nimport useIsFeatureEnabled, { Feature } from \"../../utils/useIsFeatureEnabled\";\r\nimport { useParams } from \"../../utils/useParams\";\r\nimport { toIdentityProviderAddMapper } from \"../routes/AddMapper\";\r\nimport { toIdentityProviderEditMapper } from \"../routes/EditMapper\";\r\nimport {\r\n  IdentityProviderParams,\r\n  IdentityProviderTab,\r\n  toIdentityProvider,\r\n} from \"../routes/IdentityProvider\";\r\nimport { toIdentityProviders } from \"../routes/IdentityProviders\";\r\nimport { AdvancedSettings } from \"./AdvancedSettings\";\r\nimport { DescriptorSettings } from \"./DescriptorSettings\";\r\nimport { DiscoverySettings } from \"./DiscoverySettings\";\r\nimport { ExtendedNonDiscoverySettings } from \"./ExtendedNonDiscoverySettings\";\r\nimport { ExtendedOAuth2Settings } from \"./ExtendedOAuth2Settings\";\r\nimport { GeneralSettings } from \"./GeneralSettings\";\r\nimport { OIDCAuthentication } from \"./OIDCAuthentication\";\r\nimport { OIDCGeneralSettings } from \"./OIDCGeneralSettings\";\r\nimport { ReqAuthnConstraints } from \"./ReqAuthnConstraintsSettings\";\r\nimport { SamlGeneralSettings } from \"./SamlGeneralSettings\";\r\nimport { SpiffeSettings } from \"./SpiffeSettings\";\r\nimport { AdminEvents } from \"../../events/AdminEvents\";\r\nimport { UserProfileClaimsSettings } from \"./OAuth2UserProfileClaimsSettings\";\r\nimport { KubernetesSettings } from \"./KubernetesSettings\";\r\nimport { JWTAuthorizationGrantAssertionSettings } from \"./JWTAuthorizationGrantAssertionSettings\";\r\nimport JWTAuthorizationGrantSettings from \"./JWTAuthorizationGrantSettings\";\r\nimport { DefaultSwitchControl } from \"../../components/SwitchControl\";\r\n\r\ntype HeaderProps = {\r\n  onChange: (value: boolean) => void;\r\n  value: boolean;\r\n  save: () => void;\r\n  toggleDeleteDialog: () => void;\r\n};\r\n\r\ntype IdPWithMapperAttributes = IdentityProviderMapperRepresentation & {\r\n  name: string;\r\n  category?: string;\r\n  helpText?: string;\r\n  type: string;\r\n  mapperId: string;\r\n};\r\n\r\nconst Header = ({ onChange, value, save, toggleDeleteDialog }: HeaderProps) => {\r\n  const { adminClient } = useAdminClient();\r\n\r\n  const { t } = useTranslation();\r\n  const { alias: displayName } = useParams<{ alias: string }>();\r\n  const [provider, setProvider] = useState<IdentityProviderRepresentation>();\r\n  const { addAlert, addError } = useAlerts();\r\n  const { setValue, formState, control } = useFormContext();\r\n\r\n  const validateSignature = useWatch({\r\n    control,\r\n    name: \"config.validateSignature\",\r\n  });\r\n\r\n  const useMetadataDescriptorUrl = useWatch({\r\n    control,\r\n    name: \"config.useMetadataDescriptorUrl\",\r\n  });\r\n\r\n  const metadataDescriptorUrl = useWatch({\r\n    control,\r\n    name: \"config.metadataDescriptorUrl\",\r\n  });\r\n\r\n  useFetch(\r\n    () => adminClient.identityProviders.findOne({ alias: displayName }),\r\n    (fetchedProvider) => {\r\n      if (!fetchedProvider) {\r\n        throw new Error(t(\"notFound\"));\r\n      }\r\n      setProvider(fetchedProvider);\r\n    },\r\n    [],\r\n  );\r\n\r\n  const [toggleDisableDialog, DisableConfirm] = useConfirmDialog({\r\n    titleKey: \"disableProvider\",\r\n    messageKey: t(\"disableConfirmIdentityProvider\", { provider: displayName }),\r\n    continueButtonLabel: \"disable\",\r\n    onConfirm: () => {\r\n      onChange(!value);\r\n      save();\r\n    },\r\n  });\r\n\r\n  const importSamlKeys = async (\r\n    providerId: string,\r\n    metadataDescriptorUrl: string,\r\n  ) => {\r\n    try {\r\n      const result = await adminClient.identityProviders.importFromUrl({\r\n        providerId: providerId,\r\n        fromUrl: metadataDescriptorUrl,\r\n      });\r\n      if (result.signingCertificate) {\r\n        setValue(`config.signingCertificate`, result.signingCertificate);\r\n        addAlert(t(\"importKeysSuccess\"), AlertVariant.success);\r\n      } else {\r\n        addError(\"importKeysError\", t(\"importKeysErrorNoSigningCertificate\"));\r\n      }\r\n    } catch (error) {\r\n      addError(\"importKeysError\", error);\r\n    }\r\n  };\r\n\r\n  const reloadSamlKeys = async (alias: string) => {\r\n    try {\r\n      const result = await adminClient.identityProviders.reloadKeys({\r\n        alias: alias,\r\n      });\r\n      if (result) {\r\n        addAlert(t(\"reloadKeysSuccess\"), AlertVariant.success);\r\n      } else {\r\n        addAlert(t(\"reloadKeysSuccessButFalse\"), AlertVariant.warning);\r\n      }\r\n    } catch (error) {\r\n      addError(\"reloadKeysError\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <DisableConfirm />\r\n      <ViewHeader\r\n        titleKey={toUpperCase(\r\n          provider\r\n            ? provider.displayName\r\n              ? provider.displayName\r\n              : provider.providerId!\r\n            : \"\",\r\n        )}\r\n        divider={false}\r\n        dropdownItems={[\r\n          ...(provider?.providerId?.includes(\"saml\") &&\r\n          validateSignature === \"true\" &&\r\n          useMetadataDescriptorUrl === \"true\" &&\r\n          metadataDescriptorUrl &&\r\n          !formState.isDirty &&\r\n          value\r\n            ? [\r\n                <DropdownItem\r\n                  key=\"reloadKeys\"\r\n                  onClick={() => reloadSamlKeys(provider.alias!)}\r\n                >\r\n                  {t(\"reloadKeys\")}\r\n                </DropdownItem>,\r\n              ]\r\n            : provider?.providerId?.includes(\"saml\") &&\r\n                validateSignature === \"true\" &&\r\n                useMetadataDescriptorUrl !== \"true\" &&\r\n                metadataDescriptorUrl &&\r\n                !formState.isDirty\r\n              ? [\r\n                  <DropdownItem\r\n                    key=\"importKeys\"\r\n                    onClick={() =>\r\n                      importSamlKeys(\r\n                        provider.providerId!,\r\n                        metadataDescriptorUrl,\r\n                      )\r\n                    }\r\n                  >\r\n                    {t(\"importKeys\")}\r\n                  </DropdownItem>,\r\n                ]\r\n              : []),\r\n          <Divider key=\"separator\" />,\r\n          <DropdownItem key=\"delete\" onClick={() => toggleDeleteDialog()}>\r\n            {t(\"delete\")}\r\n          </DropdownItem>,\r\n        ]}\r\n        isEnabled={value}\r\n        onToggle={(value) => {\r\n          if (!value) {\r\n            toggleDisableDialog();\r\n          } else {\r\n            onChange(value);\r\n            save();\r\n          }\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\ntype MapperLinkProps = IdPWithMapperAttributes & {\r\n  provider?: IdentityProviderRepresentation;\r\n};\r\n\r\nconst MapperLink = ({ name, mapperId, provider }: MapperLinkProps) => {\r\n  const { realm } = useRealm();\r\n  const { alias } = useParams<IdentityProviderParams>();\r\n\r\n  return (\r\n    <Link\r\n      to={toIdentityProviderEditMapper({\r\n        realm,\r\n        alias,\r\n        providerId: provider?.providerId!,\r\n        id: mapperId,\r\n      })}\r\n    >\r\n      {name}\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default function DetailSettings() {\r\n  const { adminClient } = useAdminClient();\r\n\r\n  const { t } = useTranslation();\r\n  const { alias, providerId } = useParams<IdentityProviderParams>();\r\n  const isFeatureEnabled = useIsFeatureEnabled();\r\n  const form = useForm<IdentityProviderRepresentation>();\r\n  const { handleSubmit, getValues, reset, control } = form;\r\n  const [provider, setProvider] = useState<IdentityProviderRepresentation>();\r\n  const [selectedMapper, setSelectedMapper] =\r\n    useState<IdPWithMapperAttributes>();\r\n  const serverInfo = useServerInfo();\r\n  const providerInfo = useMemo(() => {\r\n    const namespaces = [\r\n      \"org.keycloak.broker.social.SocialIdentityProvider\",\r\n      \"org.keycloak.broker.provider.IdentityProvider\",\r\n    ];\r\n\r\n    for (const namespace of namespaces) {\r\n      const social = serverInfo.componentTypes?.[namespace]?.find(\r\n        ({ id }) => id === providerId,\r\n      );\r\n\r\n      if (social) {\r\n        return social;\r\n      }\r\n    }\r\n  }, [serverInfo, providerId]);\r\n\r\n  const { addAlert, addError } = useAlerts();\r\n  const navigate = useNavigate();\r\n  const { realm, realmRepresentation } = useRealm();\r\n  const [key, setKey] = useState(0);\r\n  const refresh = () => setKey(key + 1);\r\n  const { hasAccess } = useAccess();\r\n\r\n  useFetch(\r\n    () => adminClient.identityProviders.findOne({ alias }),\r\n    (fetchedProvider) => {\r\n      if (!fetchedProvider) {\r\n        throw new Error(t(\"notFound\"));\r\n      }\r\n\r\n      reset(fetchedProvider);\r\n      setProvider(fetchedProvider);\r\n\r\n      if (fetchedProvider.config!.authnContextClassRefs) {\r\n        form.setValue(\r\n          \"config.authnContextClassRefs\",\r\n          JSON.parse(fetchedProvider.config?.authnContextClassRefs),\r\n        );\r\n      }\r\n\r\n      if (fetchedProvider.config!.authnContextDeclRefs) {\r\n        form.setValue(\r\n          \"config.authnContextDeclRefs\",\r\n          JSON.parse(fetchedProvider.config?.authnContextDeclRefs),\r\n        );\r\n      }\r\n    },\r\n    [],\r\n  );\r\n\r\n  const toTab = (tab: IdentityProviderTab) =>\r\n    toIdentityProvider({\r\n      realm,\r\n      alias,\r\n      providerId,\r\n      tab,\r\n    });\r\n\r\n  const useTab = (tab: IdentityProviderTab) => useRoutableTab(toTab(tab));\r\n\r\n  const settingsTab = useTab(\"settings\");\r\n  const mappersTab = useTab(\"mappers\");\r\n  const permissionsTab = useTab(\"permissions\");\r\n  const eventsTab = useTab(\"events\");\r\n\r\n  const save = async (savedProvider?: IdentityProviderRepresentation) => {\r\n    const p = savedProvider || getValues();\r\n    const origAuthnContextClassRefs = p.config?.authnContextClassRefs;\r\n    if (p.config?.authnContextClassRefs)\r\n      p.config.authnContextClassRefs = JSON.stringify(\r\n        p.config.authnContextClassRefs,\r\n      );\r\n    const origAuthnContextDeclRefs = p.config?.authnContextDeclRefs;\r\n    if (p.config?.authnContextDeclRefs)\r\n      p.config.authnContextDeclRefs = JSON.stringify(\r\n        p.config.authnContextDeclRefs,\r\n      );\r\n\r\n    try {\r\n      await adminClient.identityProviders.update(\r\n        { alias },\r\n        {\r\n          ...p,\r\n          config: { ...provider?.config, ...p.config },\r\n          alias,\r\n          providerId,\r\n        },\r\n      );\r\n      if (origAuthnContextClassRefs) {\r\n        p.config!.authnContextClassRefs = origAuthnContextClassRefs;\r\n      }\r\n      if (origAuthnContextDeclRefs) {\r\n        p.config!.authnContextDeclRefs = origAuthnContextDeclRefs;\r\n      }\r\n      reset(p);\r\n      addAlert(t(\"updateSuccessIdentityProvider\"), AlertVariant.success);\r\n    } catch (error) {\r\n      addError(\"updateErrorIdentityProvider\", error);\r\n    }\r\n  };\r\n\r\n  const [toggleDeleteDialog, DeleteConfirm] = useConfirmDialog({\r\n    titleKey: \"deleteProvider\",\r\n    messageKey: t(\"deleteConfirmIdentityProvider\", { provider: alias }),\r\n    continueButtonLabel: \"delete\",\r\n    continueButtonVariant: ButtonVariant.danger,\r\n    onConfirm: async () => {\r\n      try {\r\n        await adminClient.identityProviders.del({ alias: alias });\r\n        addAlert(t(\"deletedSuccessIdentityProvider\"), AlertVariant.success);\r\n        navigate(toIdentityProviders({ realm }));\r\n      } catch (error) {\r\n        addError(\"deleteErrorIdentityProvider\", error);\r\n      }\r\n    },\r\n  });\r\n\r\n  const [toggleDeleteMapperDialog, DeleteMapperConfirm] = useConfirmDialog({\r\n    titleKey: \"deleteProviderMapper\",\r\n    messageKey: t(\"deleteMapperConfirm\", {\r\n      mapper: selectedMapper?.name,\r\n    }),\r\n    continueButtonLabel: \"delete\",\r\n    continueButtonVariant: ButtonVariant.danger,\r\n    onConfirm: async () => {\r\n      try {\r\n        await adminClient.identityProviders.delMapper({\r\n          alias: alias,\r\n          id: selectedMapper?.mapperId!,\r\n        });\r\n        addAlert(t(\"deleteMapperSuccess\"), AlertVariant.success);\r\n        refresh();\r\n        navigate(\r\n          toIdentityProvider({ providerId, alias, tab: \"mappers\", realm }),\r\n        );\r\n      } catch (error) {\r\n        addError(\"deleteErrorIdentityProvider\", error);\r\n      }\r\n    },\r\n  });\r\n  const jwtAuthorizationGrantEnabled = useWatch({\r\n    control,\r\n    name: \"config.jwtAuthorizationGrantEnabled\",\r\n  });\r\n\r\n  if (!provider) {\r\n    return <KeycloakSpinner />;\r\n  }\r\n\r\n  const isOIDC = provider.providerId!.includes(\"oidc\");\r\n  const isSAML = provider.providerId!.includes(\"saml\");\r\n  const isOAuth2 = provider.providerId!.includes(\"oauth2\");\r\n  const isSPIFFE = provider.providerId!.includes(\"spiffe\");\r\n  const isKubernetes = provider.providerId!.includes(\"kubernetes\");\r\n  const isJWTAuthorizationGrant = provider.providerId!.includes(\r\n    \"jwt-authorization-grant\",\r\n  );\r\n  const isSocial = !isOIDC && !isSAML && !isOAuth2;\r\n  const isJWTAuthorizationGrantSupported =\r\n    (isOAuth2 || isOIDC) &&\r\n    !!provider?.types?.includes(IdentityProviderType.JWT_AUTHORIZATION_GRANT) &&\r\n    isFeatureEnabled(Feature.JWTAuthorizationGrant);\r\n\r\n  const loader = async () => {\r\n    const [loaderMappers, loaderMapperTypes] = await Promise.all([\r\n      adminClient.identityProviders.findMappers({ alias }),\r\n      adminClient.identityProviders.findMapperTypes({ alias }),\r\n    ]);\r\n\r\n    const components = loaderMappers.map((loaderMapper) => {\r\n      const mapperType = Object.values(loaderMapperTypes).find(\r\n        (loaderMapperType) =>\r\n          loaderMapper.identityProviderMapper! === loaderMapperType.id!,\r\n      );\r\n\r\n      const result: IdPWithMapperAttributes = {\r\n        ...mapperType,\r\n        name: loaderMapper.name!,\r\n        type: mapperType?.name!,\r\n        mapperId: loaderMapper.id!,\r\n      };\r\n\r\n      return result;\r\n    });\r\n\r\n    return components;\r\n  };\r\n\r\n  const sections = [\r\n    {\r\n      title: t(\"generalSettings\"),\r\n      isHidden: isSPIFFE || isKubernetes || isJWTAuthorizationGrant,\r\n      panel: (\r\n        <FormAccess\r\n          role=\"manage-identity-providers\"\r\n          isHorizontal\r\n          onSubmit={handleSubmit(save)}\r\n        >\r\n          {isSocial && <GeneralSettings create={false} id={providerId} />}\r\n          {(isOIDC || isOAuth2) && <OIDCGeneralSettings />}\r\n          {isSAML && <SamlGeneralSettings isAliasReadonly />}\r\n          {providerInfo && (\r\n            <DynamicComponents stringify properties={providerInfo.properties} />\r\n          )}\r\n        </FormAccess>\r\n      ),\r\n    },\r\n    {\r\n      title: t(\"oidcSettings\"),\r\n      isHidden: !isOIDC,\r\n      panel: (\r\n        <>\r\n          <DiscoverySettings readOnly={false} isOIDC={isOIDC} />\r\n          <Form isHorizontal className=\"pf-v5-u-py-lg\">\r\n            <Divider />\r\n            <OIDCAuthentication create={false} />\r\n          </Form>\r\n          <ExtendedNonDiscoverySettings />\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      title: t(\"oAuthSettings\"),\r\n      isHidden: !isOAuth2,\r\n      panel: (\r\n        <>\r\n          <DiscoverySettings readOnly={false} isOIDC={isOIDC} />\r\n          <Form isHorizontal className=\"pf-v5-u-py-lg\">\r\n            <Divider />\r\n            <OIDCAuthentication create={false} />\r\n          </Form>\r\n          <UserProfileClaimsSettings />\r\n          <ExtendedOAuth2Settings />\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      title: t(\"authorizationGrantSettings\"),\r\n      isHidden: !isJWTAuthorizationGrantSupported,\r\n      panel: (\r\n        <>\r\n          <Text className=\"pf-v5-u-pb-lg\">\r\n            {t(\"authorizationGrantSettingsHelp\")}\r\n          </Text>\r\n          <Form\r\n            isHorizontal\r\n            className=\"pf-v5-u-py-lg\"\r\n            onSubmit={handleSubmit(save)}\r\n          >\r\n            <DefaultSwitchControl\r\n              name=\"config.jwtAuthorizationGrantEnabled\"\r\n              label={t(\"jwtAuthorizationGrantIdpEnabled\")}\r\n              labelIcon={t(\"jwtAuthorizationGrantIdpEnabledHelp\")}\r\n              stringify\r\n            />\r\n\r\n            {jwtAuthorizationGrantEnabled === \"true\" && (\r\n              <JWTAuthorizationGrantAssertionSettings />\r\n            )}\r\n          </Form>\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      title: t(\"generalSettings\"),\r\n      isHidden: !isSPIFFE,\r\n      panel: (\r\n        <Form\r\n          isHorizontal\r\n          className=\"pf-v5-u-py-lg\"\r\n          onSubmit={handleSubmit(save)}\r\n        >\r\n          <SpiffeSettings />\r\n          <FixedButtonsGroup name=\"idp-details\" isSubmit reset={reset} />\r\n        </Form>\r\n      ),\r\n    },\r\n    {\r\n      title: t(\"generalSettings\"),\r\n      isHidden: !isJWTAuthorizationGrant,\r\n      panel: (\r\n        <Form\r\n          isHorizontal\r\n          className=\"pf-v5-u-py-lg\"\r\n          onSubmit={handleSubmit(save)}\r\n        >\r\n          <JWTAuthorizationGrantSettings />\r\n          <FixedButtonsGroup name=\"idp-details\" isSubmit reset={reset} />\r\n        </Form>\r\n      ),\r\n    },\r\n    {\r\n      title: t(\"generalSettings\"),\r\n      isHidden: !isKubernetes,\r\n      panel: (\r\n        <Form\r\n          isHorizontal\r\n          className=\"pf-v5-u-py-lg\"\r\n          onSubmit={handleSubmit(save)}\r\n        >\r\n          <KubernetesSettings />\r\n          <FixedButtonsGroup name=\"idp-details\" isSubmit reset={reset} />\r\n        </Form>\r\n      ),\r\n    },\r\n    {\r\n      title: t(\"samlSettings\"),\r\n      isHidden: !isSAML,\r\n      panel: <DescriptorSettings readOnly={false} />,\r\n    },\r\n    {\r\n      title: t(\"reqAuthnConstraints\"),\r\n      isHidden: !isSAML,\r\n      panel: (\r\n        <FormAccess\r\n          role=\"manage-identity-providers\"\r\n          isHorizontal\r\n          onSubmit={handleSubmit(save)}\r\n        >\r\n          <ReqAuthnConstraints />\r\n        </FormAccess>\r\n      ),\r\n    },\r\n    {\r\n      title: t(\"advancedSettings\"),\r\n      isHidden: isSPIFFE || isKubernetes || isJWTAuthorizationGrant,\r\n      panel: (\r\n        <FormAccess\r\n          role=\"manage-identity-providers\"\r\n          isHorizontal\r\n          onSubmit={handleSubmit(save)}\r\n        >\r\n          <AdvancedSettings\r\n            isOIDC={isOIDC!}\r\n            isSAML={isSAML!}\r\n            isOAuth2={isOAuth2!}\r\n          />\r\n\r\n          <FixedButtonsGroup name=\"idp-details\" isSubmit reset={reset} />\r\n        </FormAccess>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <FormProvider {...form}>\r\n      <DeleteConfirm />\r\n      <DeleteMapperConfirm />\r\n      <Controller\r\n        name=\"enabled\"\r\n        control={form.control}\r\n        defaultValue={true}\r\n        render={({ field }) => (\r\n          <Header\r\n            value={field.value || false}\r\n            onChange={field.onChange}\r\n            save={save}\r\n            toggleDeleteDialog={toggleDeleteDialog}\r\n          />\r\n        )}\r\n      />\r\n\r\n      <PageSection variant=\"light\" className=\"pf-v5-u-p-0\">\r\n        <RoutableTabs isBox defaultLocation={toTab(\"settings\")}>\r\n          <Tab\r\n            id=\"settings\"\r\n            title={<TabTitleText>{t(\"settings\")}</TabTitleText>}\r\n            {...settingsTab}\r\n          >\r\n            <ScrollForm\r\n              label={t(\"jumpToSection\")}\r\n              className=\"pf-v5-u-px-lg\"\r\n              sections={sections}\r\n            />\r\n          </Tab>\r\n          <Tab\r\n            id=\"mappers\"\r\n            isHidden={isSPIFFE || isKubernetes || isJWTAuthorizationGrant}\r\n            data-testid=\"mappers-tab\"\r\n            title={<TabTitleText>{t(\"mappers\")}</TabTitleText>}\r\n            {...mappersTab}\r\n          >\r\n            <KeycloakDataTable\r\n              emptyState={\r\n                <ListEmptyState\r\n                  message={t(\"noMappers\")}\r\n                  instructions={t(\"noMappersInstructions\")}\r\n                  primaryActionText={t(\"addMapper\")}\r\n                  onPrimaryAction={() =>\r\n                    navigate(\r\n                      toIdentityProviderAddMapper({\r\n                        realm,\r\n                        alias: alias!,\r\n                        providerId: provider.providerId!,\r\n                        tab: \"mappers\",\r\n                      }),\r\n                    )\r\n                  }\r\n                />\r\n              }\r\n              loader={loader}\r\n              key={key}\r\n              ariaLabelKey=\"mappersList\"\r\n              searchPlaceholderKey=\"searchForMapper\"\r\n              toolbarItem={\r\n                <ToolbarItem>\r\n                  <Button\r\n                    id=\"add-mapper-button\"\r\n                    component={(props) => (\r\n                      <Link\r\n                        {...props}\r\n                        to={toIdentityProviderAddMapper({\r\n                          realm,\r\n                          alias: alias!,\r\n                          providerId: provider.providerId!,\r\n                          tab: \"mappers\",\r\n                        })}\r\n                      />\r\n                    )}\r\n                    data-testid=\"addMapper\"\r\n                  >\r\n                    {t(\"addMapper\")}\r\n                  </Button>\r\n                </ToolbarItem>\r\n              }\r\n              columns={[\r\n                {\r\n                  name: \"name\",\r\n                  displayKey: \"name\",\r\n                  cellRenderer: (row) => (\r\n                    <MapperLink {...row} provider={provider} />\r\n                  ),\r\n                },\r\n                {\r\n                  name: \"category\",\r\n                  displayKey: \"category\",\r\n                },\r\n                {\r\n                  name: \"type\",\r\n                  displayKey: \"type\",\r\n                },\r\n              ]}\r\n              actions={[\r\n                {\r\n                  title: t(\"delete\"),\r\n                  onRowClick: (mapper) => {\r\n                    setSelectedMapper(mapper);\r\n                    toggleDeleteMapperDialog();\r\n                  },\r\n                } as Action<IdPWithMapperAttributes>,\r\n              ]}\r\n            />\r\n          </Tab>\r\n          {isFeatureEnabled(Feature.AdminFineGrainedAuthz) && (\r\n            <Tab\r\n              id=\"permissions\"\r\n              data-testid=\"permissionsTab\"\r\n              title={<TabTitleText>{t(\"permissions\")}</TabTitleText>}\r\n              {...permissionsTab}\r\n            >\r\n              <PermissionsTab id={alias} type=\"identityProviders\" />\r\n            </Tab>\r\n          )}\r\n          {realmRepresentation?.adminEventsEnabled &&\r\n            hasAccess(\"view-events\") && (\r\n              <Tab\r\n                data-testid=\"admin-events-tab\"\r\n                title={<TabTitleText>{t(\"adminEvents\")}</TabTitleText>}\r\n                {...eventsTab}\r\n              >\r\n                <AdminEvents\r\n                  resourcePath={`identity-provider/instances/${alias}`}\r\n                />\r\n              </Tab>\r\n            )}\r\n        </RoutableTabs>\r\n      </PageSection>\r\n    </FormProvider>\r\n  );\r\n}\r\n"],"names":["LoginFlow","field","label","defaultValue","labelForEmpty","adminClient","useAdminClient","t","useTranslation","control","useFormContext","flows","setFlows","useState","open","setOpen","useFetch","flow","jsx","FormGroup","HelpItem","Controller","KeycloakSelect","value","SelectVariant","SelectOption","option","SYNC_MODES","SHOW_IN_ACCOUNT_CONSOLE_VALUES","AdvancedSettings","isOIDC","isSAML","isOAuth2","register","setValue","errors","claimFilterRequired","useWatch","isFeatureEnabled","useIsFeatureEnabled","isTransientUsersEnabled","Feature","isClientAuthFederatedEnabled","syncModeAvailable","jsxs","Fragment","TextField","SwitchField","SelectControl","showInAccountConsole","FormGroupField","Switch","_event","TextInput","ValidatedOptions","FormErrorText","syncMode","promptOptions","ExtendedNonDiscoverySettings","isExpanded","setIsExpanded","promptOpen","setPromptOpen","ExpandableSection","Form","key","val","v","NumberInput","event","ExtendedOAuth2Settings","NumberControl","comparisonValues","ReqAuthnConstraints","comparisonOpen","setComparisonOpen","MultiLineInput","Header","onChange","save","toggleDeleteDialog","displayName","useParams","provider","setProvider","addAlert","addError","useAlerts","formState","validateSignature","useMetadataDescriptorUrl","metadataDescriptorUrl","fetchedProvider","toggleDisableDialog","DisableConfirm","useConfirmDialog","importSamlKeys","providerId","result","AlertVariant","error","reloadSamlKeys","alias","ViewHeader","toUpperCase","DropdownItem","Divider","MapperLink","name","mapperId","realm","useRealm","Link","toIdentityProviderEditMapper","DetailSettings","form","useForm","handleSubmit","getValues","reset","selectedMapper","setSelectedMapper","serverInfo","useServerInfo","providerInfo","useMemo","namespaces","namespace","social","id","navigate","useNavigate","realmRepresentation","setKey","refresh","hasAccess","useAccess","toTab","tab","toIdentityProvider","useTab","useRoutableTab","settingsTab","mappersTab","permissionsTab","eventsTab","savedProvider","p","origAuthnContextClassRefs","origAuthnContextDeclRefs","DeleteConfirm","ButtonVariant","toIdentityProviders","toggleDeleteMapperDialog","DeleteMapperConfirm","jwtAuthorizationGrantEnabled","KeycloakSpinner","isSPIFFE","isKubernetes","isJWTAuthorizationGrant","isSocial","isJWTAuthorizationGrantSupported","IdentityProviderType","loader","loaderMappers","loaderMapperTypes","loaderMapper","mapperType","loaderMapperType","sections","FormAccess","GeneralSettings","OIDCGeneralSettings","SamlGeneralSettings","DynamicComponents","DiscoverySettings","OIDCAuthentication","UserProfileClaimsSettings","Text","DefaultSwitchControl","JWTAuthorizationGrantAssertionSettings","SpiffeSettings","FixedButtonsGroup","JWTAuthorizationGrantSettings","KubernetesSettings","DescriptorSettings","FormProvider","PageSection","RoutableTabs","Tab","TabTitleText","ScrollForm","KeycloakDataTable","ListEmptyState","toIdentityProviderAddMapper","ToolbarItem","Button","props","row","mapper","PermissionsTab","AdminEvents"],"mappings":"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"}