import{jsxs as a,Fragment as f,jsx as t}from"react/jsx-runtime";import{u as g,a as P,b as O,cw as k,j as A,_ as C,d as S,P as b,l as D,A as F,g as d,L as K,cJ as V,o as j,cK as w}from"./main-o1hptXRo.js";import{F as x}from"./FormAccess-BnhQnYb9.js";import{V as E}from"./ViewHeader-BDBsroi3.js";import{O as L,a as G}from"./OIDCGeneralSettings-ItScBFVN.js";import{O as H}from"./OpenIdConnectSettings-CUuiXdIQ.js";import"react";import"react-dom";import"./SwitchControl-CU1bUhmR.js";import"./JwksSettings-DiafDiDg.js";import"./ImportKeyDialog-Cx3JB4OO.js";/* empty css                           */import"./ExpandableSection-wnspFC3f.js";import"./ClientIdSecret-D0qwvhDE.js";import"./RedirectUrl-DrdV0T_4.js";import"./JsonFileUpload-CXVaTh71.js";import"./FileUploadForm-3WTCaGLI.js";import"./CodeEditor-C4IS5oxi.js";import"./DiscoveryEndpointField-CeImOp4h.js";function rt(){const{adminClient:c}=g(),{t:i}=P(),m=O(),{pathname:l}=k(),o=l.includes("keycloak-oidc"),r=`${o?"keycloak-":""}oidc`,n=A({defaultValues:{alias:r},mode:"onChange"}),{handleSubmit:p,formState:{isDirty:u}}=n,{addAlert:y,addError:v}=C(),{realm:s}=S(),h=async e=>{delete e.discoveryEndpoint;try{await c.identityProviders.create({...e,providerId:r}),y(i("createIdentityProviderSuccess"),j.success),m(w({realm:s,providerId:r,alias:e.alias,tab:"settings"}))}catch(I){v("createIdentityProviderError",I)}};return a(f,{children:[t(E,{titleKey:i(o?"addKeycloakOpenIdProvider":"addOpenIdProvider")}),t(b,{variant:"light",children:t(D,{...n,children:a(x,{role:"manage-identity-providers",isHorizontal:!0,onSubmit:p(h),children:[t(L,{}),t(H,{isOIDC:!0}),t(G,{}),a(F,{children:[t(d,{isDisabled:!u,variant:"primary",type:"submit","data-testid":"createProvider",children:i("add")}),t(d,{variant:"link","data-testid":"cancel",component:e=>t(K,{...e,to:V({realm:s})}),children:i("cancel")})]})]})})})]})}export{rt as default};
//# sourceMappingURL=AddOpenIdConnect-vF7I6OUH.js.map
