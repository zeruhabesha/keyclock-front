import{jsx as q}from"react/jsx-runtime";import{u as F,a as O,c as P,a0 as U,N as V,y as d,U as j}from"./main-o1hptXRo.js";import{useState as i}from"react";const T=({name:o,label:m,helpText:f,defaultValue:c,isDisabled:p=!1,isRequired:C,variant:v="typeahead",clientKey:a="clientId",placeholderText:h})=>{const{adminClient:n}=F(),{t:s}=O(),[y,I]=i([]),[x,S]=i(),[l,b]=i(""),{tab:u}=P(),{control:g}=U(),r=V({control:g,name:o,defaultValue:c||""}),k=()=>typeof r=="string"?[r]:r||[];return d(()=>{const e={max:20};return l&&(e.clientId=l,e.search=!0),n.clients.find(e)},e=>I(e),[l]),d(()=>{const e=k().map(async t=>a==="clientId"?(await n.clients.find({clientId:t}))[0]:n.clients.findOne({id:t}));return Promise.all(e)},e=>{S(e.filter(t=>!!t).map(t=>({key:t[a],value:t.clientId})))},[]),q(j,{name:o,label:s(u!=="evaluation"?m:"client"),labelIcon:s(u!=="evaluation"?f:"selectClient"),controller:{defaultValue:c||"",rules:{required:{value:C||!1,message:s("required")}}},onFilter:e=>b(e),variant:v,isDisabled:p,selectedOptions:x,options:y.map(e=>({key:e[a],value:e.clientId})),placeholderText:h})};export{T as C};
//# sourceMappingURL=ClientSelect-BY77LEpN.js.map
