{"version":3,"file":"GroupPickerDialog-U3luvxlw.js","sources":["../../../../../../../../../node_modules/.pnpm/@patternfly+react-core@5.4._eb6583d8b0ee541b46a675e70b022816/node_modules/@patternfly/react-core/dist/esm/components/DataList/DataListAction.js","../../../../../../../../../node_modules/.pnpm/@patternfly+react-core@5.4._eb6583d8b0ee541b46a675e70b022816/node_modules/@patternfly/react-core/dist/esm/components/DataList/DataListCheck.js","../../../../../../../src/components/group/GroupPath.tsx","../../../../../../../src/components/group/GroupPickerDialog.tsx"],"sourcesContent":["import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport { css } from '@patternfly/react-styles';\nimport styles from '@patternfly/react-styles/css/components/DataList/data-list.mjs';\nimport { formatBreakpointMods } from '../../helpers/util';\nexport const DataListAction = (_a) => {\n    var { children, className, visibility, \n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    id, 'aria-label': ariaLabel, 'aria-labelledby': ariaLabelledBy, isPlainButtonAction } = _a, props = __rest(_a, [\"children\", \"className\", \"visibility\", \"id\", 'aria-label', 'aria-labelledby', \"isPlainButtonAction\"]);\n    return (React.createElement(\"div\", Object.assign({ className: css(styles.dataListItemAction, formatBreakpointMods(visibility, styles), className) }, props), isPlainButtonAction ? React.createElement(\"div\", { className: css(styles.dataListAction) }, children) : children));\n};\nDataListAction.displayName = 'DataListAction';\n//# sourceMappingURL=DataListAction.js.map","import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport { css } from '@patternfly/react-styles';\nimport styles from '@patternfly/react-styles/css/components/DataList/data-list.mjs';\nexport const DataListCheck = (_a) => {\n    var { className = '', \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    onChange = (event, checked) => { }, isValid = true, isDisabled = false, isChecked = false, checked = false, defaultChecked, otherControls = false } = _a, props = __rest(_a, [\"className\", \"onChange\", \"isValid\", \"isDisabled\", \"isChecked\", \"checked\", \"defaultChecked\", \"otherControls\"]);\n    const check = (React.createElement(\"div\", { className: css(styles.dataListCheck) },\n        React.createElement(\"input\", Object.assign({}, props, { type: \"checkbox\", onChange: (event) => onChange(event, event.currentTarget.checked), \"aria-invalid\": !isValid, disabled: isDisabled }, ([true, false].includes(defaultChecked) && { defaultChecked }), (![true, false].includes(defaultChecked) && { checked: isChecked || checked })))));\n    return (React.createElement(React.Fragment, null,\n        !otherControls && React.createElement(\"div\", { className: css(styles.dataListItemControl, className) }, check),\n        otherControls && check));\n};\nDataListCheck.displayName = 'DataListCheck';\n//# sourceMappingURL=DataListCheck.js.map","import { useState } from \"react\";\r\nimport { Tooltip } from \"@patternfly/react-core\";\r\nimport type { TableTextProps } from \"@patternfly/react-table\";\r\n\r\nimport type GroupRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/groupRepresentation\";\r\n\r\ntype GroupPathProps = TableTextProps & {\r\n  group: GroupRepresentation;\r\n};\r\n\r\nexport const GroupPath = ({\r\n  group: { path },\r\n  onMouseEnter: onMouseEnterProp,\r\n  ...props\r\n}: GroupPathProps) => {\r\n  const [tooltip, setTooltip] = useState(\"\");\r\n  const onMouseEnter = (event: any) => {\r\n    setTooltip(path!);\r\n    onMouseEnterProp?.(event);\r\n  };\r\n  const text = (\r\n    <span onMouseEnter={onMouseEnter} {...props}>\r\n      {path}\r\n    </span>\r\n  );\r\n\r\n  return tooltip !== \"\" ? (\r\n    <Tooltip content={tooltip} isVisible>\r\n      {text}\r\n    </Tooltip>\r\n  ) : (\r\n    text\r\n  );\r\n};\r\n","import type GroupRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/groupRepresentation\";\r\nimport {\r\n  GroupQuery,\r\n  SubGroupQuery,\r\n} from \"@keycloak/keycloak-admin-client/lib/resources/groups\";\r\nimport {\r\n  ListEmptyState,\r\n  PaginatingTableToolbar,\r\n  useFetch,\r\n} from \"@keycloak/keycloak-ui-shared\";\r\nimport {\r\n  Breadcrumb,\r\n  BreadcrumbItem,\r\n  Button,\r\n  DataList,\r\n  DataListAction,\r\n  DataListCell,\r\n  DataListCheck,\r\n  DataListItem,\r\n  DataListItemCells,\r\n  DataListItemRow,\r\n  Modal,\r\n  ModalVariant,\r\n} from \"@patternfly/react-core\";\r\nimport { AngleRightIcon } from \"@patternfly/react-icons\";\r\nimport { useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useAdminClient } from \"../../admin-client\";\r\nimport { GroupPath } from \"./GroupPath\";\r\n\r\nimport \"./group-picker-dialog.css\";\r\n\r\nexport type GroupPickerDialogProps = {\r\n  id?: string;\r\n  type: \"selectOne\" | \"selectMany\";\r\n  filterGroups?: GroupRepresentation[];\r\n  text: { title: string; ok: string };\r\n  canBrowse?: boolean;\r\n  isMove?: boolean;\r\n  onConfirm: (groups: GroupRepresentation[] | undefined) => void;\r\n  onClose: () => void;\r\n};\r\n\r\ntype SelectableGroup = GroupRepresentation & {\r\n  checked?: boolean;\r\n};\r\n\r\nexport const GroupPickerDialog = ({\r\n  id,\r\n  type,\r\n  filterGroups,\r\n  text,\r\n  canBrowse = true,\r\n  isMove = false,\r\n  onClose,\r\n  onConfirm,\r\n}: GroupPickerDialogProps) => {\r\n  const { adminClient } = useAdminClient();\r\n\r\n  const { t } = useTranslation();\r\n  const [selectedRows, setSelectedRows] = useState<SelectableGroup[]>([]);\r\n\r\n  const [navigation, setNavigation] = useState<SelectableGroup[]>([]);\r\n  const [groups, setGroups] = useState<SelectableGroup[]>([]);\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [joinedGroups, setJoinedGroups] = useState<GroupRepresentation[]>([]);\r\n  const [groupId, setGroupId] = useState<string>();\r\n\r\n  const [max, setMax] = useState(10);\r\n  const [first, setFirst] = useState(0);\r\n\r\n  const [count, setCount] = useState(0);\r\n\r\n  const currentGroup = () => navigation[navigation.length - 1];\r\n\r\n  useFetch(\r\n    async () => {\r\n      let group;\r\n      let groups;\r\n      let existingUserGroups;\r\n\r\n      if (!groupId) {\r\n        const args: GroupQuery = {\r\n          first,\r\n          max: max + 1,\r\n        };\r\n        if (filter !== \"\") {\r\n          args.search = filter;\r\n        }\r\n        groups = await adminClient.groups.find(args);\r\n      } else {\r\n        if (!navigation.map(({ id }) => id).includes(groupId)) {\r\n          group = await adminClient.groups.findOne({ id: groupId });\r\n          if (!group) {\r\n            throw new Error(t(\"notFound\"));\r\n          }\r\n        }\r\n\r\n        const args: SubGroupQuery = {\r\n          first,\r\n          max,\r\n          parentId: groupId,\r\n        };\r\n        groups = await adminClient.groups.listSubGroups(args);\r\n      }\r\n\r\n      if (id) {\r\n        existingUserGroups = await adminClient.users.listGroups({\r\n          id,\r\n        });\r\n      }\r\n\r\n      return { group, groups, existingUserGroups };\r\n    },\r\n    async ({ group: selectedGroup, groups, existingUserGroups }) => {\r\n      setJoinedGroups(existingUserGroups || []);\r\n      if (selectedGroup) {\r\n        setNavigation([...navigation, selectedGroup]);\r\n        setCount(selectedGroup.subGroupCount!);\r\n      }\r\n\r\n      groups.forEach((group: SelectableGroup) => {\r\n        group.checked = !!selectedRows.find((r) => r.id === group.id);\r\n      });\r\n      setGroups(groups);\r\n      if (filter !== \"\" || !groupId) {\r\n        setCount(groups.length);\r\n      }\r\n    },\r\n    [groupId, filter, first, max],\r\n  );\r\n\r\n  const isRowDisabled = (row?: GroupRepresentation) => {\r\n    return [\r\n      ...joinedGroups.map((item) => item.id),\r\n      ...(filterGroups || []).map((group) => group.id),\r\n    ].some((group) => group === row?.id);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      variant={filter !== \"\" ? ModalVariant.medium : ModalVariant.small}\r\n      title={t(text.title, {\r\n        group1: filterGroups?.[0]?.name,\r\n        group2: navigation.length ? currentGroup().name : t(\"root\"),\r\n      })}\r\n      isOpen\r\n      onClose={onClose}\r\n      actions={[\r\n        <Button\r\n          data-testid={`${text.ok}-button`}\r\n          key=\"confirm\"\r\n          variant=\"primary\"\r\n          form=\"group-form\"\r\n          onClick={() => {\r\n            onConfirm(\r\n              type === \"selectMany\"\r\n                ? selectedRows\r\n                : navigation.length\r\n                  ? [currentGroup()]\r\n                  : undefined,\r\n            );\r\n          }}\r\n          isDisabled={type === \"selectMany\" && selectedRows.length === 0}\r\n        >\r\n          {t(text.ok)}\r\n        </Button>,\r\n      ]}\r\n    >\r\n      <PaginatingTableToolbar\r\n        count={count}\r\n        first={first}\r\n        max={max}\r\n        onNextClick={setFirst}\r\n        onPreviousClick={setFirst}\r\n        onPerPageSelect={(first, max) => {\r\n          setFirst(first);\r\n          setMax(max);\r\n        }}\r\n        inputGroupName={\"search\"}\r\n        inputGroupOnEnter={(search) => {\r\n          setFilter(search);\r\n          setFirst(0);\r\n          setMax(10);\r\n          setNavigation([]);\r\n          setGroupId(undefined);\r\n        }}\r\n        inputGroupPlaceholder={t(\"searchForGroups\")}\r\n      >\r\n        <Breadcrumb>\r\n          {navigation.length > 0 && (\r\n            <BreadcrumbItem key=\"home\">\r\n              <Button\r\n                variant=\"link\"\r\n                onClick={() => {\r\n                  setGroupId(undefined);\r\n                  setNavigation([]);\r\n                  setFirst(0);\r\n                  setMax(10);\r\n                }}\r\n              >\r\n                {t(\"groups\")}\r\n              </Button>\r\n            </BreadcrumbItem>\r\n          )}\r\n          {navigation.map((group, i) => (\r\n            <BreadcrumbItem key={i}>\r\n              {navigation.length - 1 !== i && (\r\n                <Button\r\n                  variant=\"link\"\r\n                  onClick={() => {\r\n                    setGroupId(group.id);\r\n                    setNavigation([...navigation].slice(0, i));\r\n                    setFirst(0);\r\n                    setMax(10);\r\n                  }}\r\n                >\r\n                  {group.name}\r\n                </Button>\r\n              )}\r\n              {navigation.length - 1 === i && group.name}\r\n            </BreadcrumbItem>\r\n          ))}\r\n        </Breadcrumb>\r\n        <DataList aria-label={t(\"groups\")} isCompact>\r\n          {filter == \"\"\r\n            ? groups.slice(0, max).map((group: SelectableGroup) => (\r\n                <GroupRow\r\n                  key={group.id}\r\n                  group={group}\r\n                  isRowDisabled={isRowDisabled}\r\n                  onSelect={(group) => {\r\n                    setGroupId(group.id);\r\n                    setFirst(0);\r\n                  }}\r\n                  type={type}\r\n                  isSearching={filter !== \"\"}\r\n                  setIsSearching={(boolean) => setFilter(boolean ? \"\" : filter)}\r\n                  selectedRows={selectedRows}\r\n                  setSelectedRows={setSelectedRows}\r\n                  canBrowse={canBrowse}\r\n                />\r\n              ))\r\n            : groups\r\n                ?.map((g) => deepGroup([g]))\r\n                .flat()\r\n                .map((g) => (\r\n                  <GroupRow\r\n                    key={g.id}\r\n                    group={g}\r\n                    isRowDisabled={isRowDisabled}\r\n                    type={type}\r\n                    isSearching\r\n                    selectedRows={selectedRows}\r\n                    setSelectedRows={setSelectedRows}\r\n                    canBrowse={false}\r\n                  />\r\n                ))}\r\n        </DataList>\r\n        {groups.length === 0 && filter === \"\" && (\r\n          <ListEmptyState\r\n            hasIcon={false}\r\n            message={t(\"moveGroupEmpty\")}\r\n            instructions={isMove ? t(\"moveGroupEmptyInstructions\") : undefined}\r\n          />\r\n        )}\r\n        {groups.length === 0 && filter !== \"\" && (\r\n          <ListEmptyState\r\n            message={t(\"noSearchResults\")}\r\n            instructions={t(\"noSearchResultsInstructions\")}\r\n          />\r\n        )}\r\n      </PaginatingTableToolbar>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nfunction deepGroup(groups: GroupRepresentation[]) {\r\n  const flattened: GroupRepresentation[] = [];\r\n  for (const group of groups) {\r\n    flattened.push(group);\r\n    if (group.subGroups && group.subGroups.length > 0) {\r\n      flattened.push(...deepGroup(group.subGroups));\r\n    }\r\n  }\r\n  return flattened;\r\n}\r\n\r\ntype GroupRowProps = {\r\n  group: SelectableGroup;\r\n  type: \"selectOne\" | \"selectMany\";\r\n  isRowDisabled: (row?: GroupRepresentation) => boolean;\r\n  isSearching: boolean;\r\n  setIsSearching?: (value: boolean) => void;\r\n  onSelect?: (group: GroupRepresentation) => void;\r\n  selectedRows: SelectableGroup[];\r\n  setSelectedRows: (groups: SelectableGroup[]) => void;\r\n  canBrowse: boolean;\r\n};\r\n\r\nconst GroupRow = ({\r\n  group,\r\n  type,\r\n  isRowDisabled,\r\n  isSearching,\r\n  setIsSearching,\r\n  onSelect,\r\n  selectedRows,\r\n  setSelectedRows,\r\n  canBrowse,\r\n}: GroupRowProps) => {\r\n  const { t } = useTranslation();\r\n\r\n  return (\r\n    <DataListItem\r\n      aria-labelledby={group.name}\r\n      key={group.id}\r\n      id={group.id}\r\n      onClick={(e) => {\r\n        if (type === \"selectOne\") {\r\n          onSelect?.(group);\r\n        } else if (\r\n          (e.target as HTMLInputElement).type !== \"checkbox\" &&\r\n          group.subGroupCount !== 0\r\n        ) {\r\n          onSelect?.(group);\r\n          setIsSearching?.(false);\r\n        }\r\n      }}\r\n    >\r\n      <DataListItemRow\r\n        className={`join-group-dialog-row${\r\n          isRowDisabled(group) ? \"-m-disabled\" : \"\"\r\n        }`}\r\n        data-testid={group.name}\r\n      >\r\n        {type === \"selectMany\" && (\r\n          <DataListCheck\r\n            className=\"kc-join-group-modal-check\"\r\n            data-testid={`${group.name}-check`}\r\n            aria-label={group.name}\r\n            checked={group.checked}\r\n            isDisabled={isRowDisabled(group)}\r\n            onChange={(_event, checked) => {\r\n              group.checked = checked;\r\n              let newSelectedRows: SelectableGroup[] = [];\r\n              if (!group.checked) {\r\n                newSelectedRows = selectedRows.filter((r) => r.id !== group.id);\r\n              } else {\r\n                newSelectedRows = [...selectedRows, group];\r\n              }\r\n\r\n              setSelectedRows(newSelectedRows);\r\n            }}\r\n            aria-labelledby={`select-${group.name}`}\r\n          />\r\n        )}\r\n\r\n        <DataListItemCells\r\n          dataListCells={[\r\n            <DataListCell\r\n              key={`name-${group.id}`}\r\n              className=\"keycloak-groups-group-path\"\r\n            >\r\n              {isSearching ? (\r\n                <GroupPath id={`select-${group.name}`} group={group} />\r\n              ) : (\r\n                <span id={`select-${group.name}`}>{group.name}</span>\r\n              )}\r\n            </DataListCell>,\r\n          ]}\r\n        />\r\n        <DataListAction\r\n          id=\"actions\"\r\n          aria-labelledby={`select-${group.name}`}\r\n          aria-label={t(\"groupName\")}\r\n          isPlainButtonAction\r\n        >\r\n          {(canBrowse || type === \"selectOne\") && group.subGroupCount !== 0 && (\r\n            <Button variant=\"link\" aria-label={t(\"select\")}>\r\n              <AngleRightIcon />\r\n            </Button>\r\n          )}\r\n        </DataListAction>\r\n      </DataListItemRow>\r\n    </DataListItem>\r\n  );\r\n};\r\n"],"names":["DataListAction","_a","children","className","visibility","id","ariaLabel","ariaLabelledBy","isPlainButtonAction","props","__rest","React","css","styles","formatBreakpointMods","DataListCheck","onChange","event","checked","isValid","isDisabled","isChecked","defaultChecked","otherControls","check","GroupPath","path","onMouseEnterProp","tooltip","setTooltip","useState","text","jsx","Tooltip","GroupPickerDialog","type","filterGroups","canBrowse","isMove","onClose","onConfirm","adminClient","useAdminClient","t","useTranslation","selectedRows","setSelectedRows","navigation","setNavigation","groups","setGroups","filter","setFilter","joinedGroups","setJoinedGroups","groupId","setGroupId","max","setMax","first","setFirst","count","setCount","currentGroup","useFetch","group","existingUserGroups","args","selectedGroup","r","isRowDisabled","row","item","Modal","ModalVariant","Button","jsxs","PaginatingTableToolbar","search","Breadcrumb","BreadcrumbItem","i","DataList","GroupRow","boolean","g","deepGroup","ListEmptyState","flattened","isSearching","setIsSearching","onSelect","DataListItem","e","DataListItemRow","_event","newSelectedRows","DataListItemCells","DataListCell","AngleRightIcon"],"mappings":"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","x_google_ignoreList":[0,1]}