import{jsx as e,jsxs as h,Fragment as T}from"react/jsx-runtime";import{useState as y,useMemo as $}from"react";import{u as k,a as F,_ as x,ai as O,aj as f,o as A,al as u,an as P,ao as _,T as g,ak as D,aM as I,aN as j,D as v}from"./main-o1hptXRo.js";import{g as E,b as L,f as M,c as V,A as m}from"./ClientScopeTypes-D2w5c8Pp.js";import{F as N}from"./filter-icon-DYNmdQ7O.js";const J=({clientId:o,selectedRows:c,refresh:r})=>{const{adminClient:p}=k(),{t:l}=F(),[i,t]=y(!1),{addAlert:s,addError:a}=x();return e(O,{"aria-label":"change-type-to",onOpenChange:d=>t(d),isOpen:i,toggle:d=>e(u,{id:"change-type-dropdown",isDisabled:c.length===0,ref:d,onClick:()=>t(!i),isExpanded:i,children:l("changeTypeTo")}),onSelect:async(d,S)=>{try{await Promise.all(c.map(n=>o?M(p,o,n,n.type,S):V(p,n,S))),t(!1),r(),s(l("clientScopeSuccess"),A.success)}catch(n){a("clientScopeError",n)}},children:e(f,{children:E(l,o?void 0:L)})})},b=["all","saml","openid-connect"],K=(o="")=>c=>c.name?.includes(o),Q=o=>c=>o===m.none||c.type===o,R=o=>c=>o==="all"||c.protocol===o,w=({searchType:o,withProtocol:c=!1,onSelect:r})=>{const{t:p}=F(),[l,i]=y(!1),t=a=>e(v,{onClick:()=>{r(a),i(!1)},children:p(`clientScopeSearch.${a}`)},a),s=[t("name"),t("type")];return c&&s.push(t("protocol")),e(I,{onOpenChange:a=>i(a),toggle:a=>h(u,{"data-testid":"clientScopeSearch",ref:a,id:"toggle-id",onClick:()=>i(!l),children:[e(N,{})," ",p(`clientScopeSearch.${o}`)]}),isOpen:l,children:e(j,{children:s})})},U=({searchType:o,onSelect:c,type:r,onType:p,protocol:l,onProtocol:i})=>{const{t}=F(),[s,a]=y(!1),d=P(),S=$(()=>d(_.OpenId4VCI)?[...b,"oid4vc"]:b,[d]);return h(T,{children:[o==="type"&&h(T,{children:[e(g,{children:e(w,{searchType:o,onSelect:c,withProtocol:!!l})}),e(g,{children:e(O,{toggle:n=>e(u,{"data-testid":"clientScopeSearchType",ref:n,isExpanded:s,onClick:()=>a(!s),children:r===m.none?t("allTypes"):t(`clientScopeTypes.${r}`)}),onOpenChange:n=>a(n),isOpen:s,selected:r===m.none?t("allTypes"):t(`clientScopeTypes.${r}`),onSelect:(n,C)=>{p(C),a(!1)},children:h(f,{children:[e(D,{value:m.none,children:t("allTypes")}),E(t)]})})})]}),o==="protocol"&&!!l&&h(T,{children:[e(g,{children:e(w,{searchType:o,onSelect:c,withProtocol:!0})}),e(g,{children:e(O,{toggle:n=>e(u,{"data-testid":"clientScopeSearchProtocol",ref:n,isExpanded:s,onClick:()=>a(!s),children:t(`protocolTypes.${l}`)}),onOpenChange:n=>a(n),isOpen:s,selected:t(`protocolTypes.${l}`),onSelect:(n,C)=>{i?.(C),a(!1)},children:e(f,{children:S.map(n=>e(D,{value:n,children:t(`protocolTypes.${n}`)},n))})})})]})]})};export{J as C,U as S,w as a,K as n,R as p,Q as t};
//# sourceMappingURL=SearchFilter-DrmfdyKI.js.map
