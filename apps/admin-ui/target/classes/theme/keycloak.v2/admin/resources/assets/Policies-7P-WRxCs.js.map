{"version":3,"file":"Policies-7P-WRxCs.js","sources":["../../../../../../../../../node_modules/.pnpm/@patternfly+react-core@5.4._eb6583d8b0ee541b46a675e70b022816/node_modules/@patternfly/react-core/dist/esm/components/Panel/PanelHeader.js","../../../../../../../../../node_modules/.pnpm/@patternfly+react-core@5.4._eb6583d8b0ee541b46a675e70b022816/node_modules/@patternfly/react-core/dist/esm/components/Text/TextList.js","../../../../../../../../../node_modules/.pnpm/@patternfly+react-core@5.4._eb6583d8b0ee541b46a675e70b022816/node_modules/@patternfly/react-core/dist/esm/components/Text/TextListItem.js","../../../../../../../src/clients/authorization/DetailDescription.tsx","../../../../../../../src/clients/authorization/MoreLabel.tsx","../../../../../../../src/clients/authorization/SearchDropdown.tsx","../../../../../../../src/clients/authorization/Policies.tsx"],"sourcesContent":["import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Panel/panel.mjs';\nimport { css } from '@patternfly/react-styles';\nexport const PanelHeader = (_a) => {\n    var { className, children } = _a, props = __rest(_a, [\"className\", \"children\"]);\n    return (React.createElement(\"div\", Object.assign({ className: css(styles.panelHeader, className) }, props), children));\n};\nPanelHeader.displayName = 'PanelHeader';\n//# sourceMappingURL=PanelHeader.js.map","import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Content/content.mjs';\nimport { css } from '@patternfly/react-styles';\nexport var TextListVariants;\n(function (TextListVariants) {\n    TextListVariants[\"ul\"] = \"ul\";\n    TextListVariants[\"ol\"] = \"ol\";\n    TextListVariants[\"dl\"] = \"dl\";\n})(TextListVariants || (TextListVariants = {}));\nexport const TextList = (_a) => {\n    var { children = null, className = '', component = TextListVariants.ul, isPlain = false } = _a, props = __rest(_a, [\"children\", \"className\", \"component\", \"isPlain\"]);\n    const Component = component;\n    return (React.createElement(Component, Object.assign({}, props, { className: css(isPlain && styles.modifiers.plain, className) }), children));\n};\nTextList.displayName = 'TextList';\n//# sourceMappingURL=TextList.js.map","import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport { css } from '@patternfly/react-styles';\nexport var TextListItemVariants;\n(function (TextListItemVariants) {\n    TextListItemVariants[\"li\"] = \"li\";\n    TextListItemVariants[\"dt\"] = \"dt\";\n    TextListItemVariants[\"dd\"] = \"dd\";\n})(TextListItemVariants || (TextListItemVariants = {}));\nexport const TextListItem = (_a) => {\n    var { children = null, className = '', component = TextListItemVariants.li } = _a, props = __rest(_a, [\"children\", \"className\", \"component\"]);\n    const Component = component;\n    return (React.createElement(Component, Object.assign({}, props, { className: css(className) }), children));\n};\nTextListItem.displayName = 'TextListItem';\n//# sourceMappingURL=TextListItem.js.map","import {\r\n  DescriptionListDescription,\r\n  DescriptionListGroup,\r\n  DescriptionListTerm,\r\n} from \"@patternfly/react-core\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link, Path } from \"react-router-dom\";\r\n\r\ntype DetailDescriptionProps<T> = {\r\n  name: string;\r\n  array?: string[] | T[];\r\n  convert?: (obj: T) => string;\r\n};\r\n\r\nexport function DetailDescription<T>(props: DetailDescriptionProps<T>) {\r\n  return <DetailDescriptionLink {...props} />;\r\n}\r\n\r\ntype DetailDescriptionLinkProps<T> = DetailDescriptionProps<T> & {\r\n  link?: (element: T) => Partial<Path>;\r\n};\r\n\r\nexport function DetailDescriptionLink<T>({\r\n  name,\r\n  array,\r\n  convert,\r\n  link,\r\n}: DetailDescriptionLinkProps<T>) {\r\n  const { t } = useTranslation();\r\n  return (\r\n    <DescriptionListGroup>\r\n      <DescriptionListTerm>{t(name)}</DescriptionListTerm>\r\n      <DescriptionListDescription>\r\n        {array?.map((element) => {\r\n          const value =\r\n            typeof element === \"string\" ? element : convert!(element);\r\n          return link ? (\r\n            <Link key={value} to={link(element as T)} className=\"pf-v5-u-pr-sm\">\r\n              {value}\r\n            </Link>\r\n          ) : (\r\n            <span key={value} className=\"pf-v5-u-pr-sm\">\r\n              {value}\r\n            </span>\r\n          );\r\n        })}\r\n        {array?.length === 0 && <i>{t(\"none\")}</i>}\r\n      </DescriptionListDescription>\r\n    </DescriptionListGroup>\r\n  );\r\n}\r\n","import { useTranslation } from \"react-i18next\";\r\nimport { Label } from \"@patternfly/react-core\";\r\n\r\ntype MoreLabelProps = {\r\n  array: unknown[] | undefined;\r\n};\r\n\r\nexport const MoreLabel = ({ array }: MoreLabelProps) => {\r\n  const { t } = useTranslation();\r\n\r\n  if (!array || array.length <= 1) {\r\n    return null;\r\n  }\r\n  return <Label color=\"blue\">{t(\"more\", { count: array.length - 1 })}</Label>;\r\n};\r\n","import type PolicyProviderRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/policyProviderRepresentation\";\r\nimport { SelectControl, TextControl } from \"@keycloak/keycloak-ui-shared\";\r\nimport {\r\n  ActionGroup,\r\n  Button,\r\n  Dropdown,\r\n  Form,\r\n  MenuToggle,\r\n} from \"@patternfly/react-core\";\r\nimport { useEffect } from \"react\";\r\nimport { FormProvider, useForm } from \"react-hook-form\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport useToggle from \"../../utils/useToggle\";\r\n\r\nimport \"./search-dropdown.css\";\r\n\r\nexport type SearchForm = {\r\n  name?: string;\r\n  resource?: string;\r\n  scope?: string;\r\n  type?: string;\r\n  uri?: string;\r\n  owner?: string;\r\n};\r\n\r\ntype SearchDropdownProps = {\r\n  types?: PolicyProviderRepresentation[] | PolicyProviderRepresentation[];\r\n  search: SearchForm;\r\n  onSearch: (form: SearchForm) => void;\r\n  type: \"resource\" | \"policy\" | \"permission\";\r\n};\r\n\r\nexport const SearchDropdown = ({\r\n  types,\r\n  search,\r\n  onSearch,\r\n  type,\r\n}: SearchDropdownProps) => {\r\n  const { t } = useTranslation();\r\n  const form = useForm<SearchForm>({ mode: \"onChange\" });\r\n  const {\r\n    reset,\r\n    formState: { isDirty },\r\n    handleSubmit,\r\n  } = form;\r\n\r\n  const [open, toggle] = useToggle();\r\n\r\n  const submit = (form: SearchForm) => {\r\n    toggle();\r\n    onSearch(form);\r\n  };\r\n\r\n  useEffect(() => reset(search), [search]);\r\n\r\n  return (\r\n    <Dropdown\r\n      onOpenChange={toggle}\r\n      toggle={(ref) => (\r\n        <MenuToggle\r\n          data-testid=\"searchdropdown_dorpdown\"\r\n          ref={ref}\r\n          onClick={toggle}\r\n          className=\"keycloak__client_authentication__searchdropdown\"\r\n        >\r\n          {type === \"resource\" && t(\"searchClientAuthorizationResource\")}\r\n          {type === \"policy\" && t(\"searchClientAuthorizationPolicy\")}\r\n          {type === \"permission\" && t(\"searchClientAuthorizationPermission\")}\r\n        </MenuToggle>\r\n      )}\r\n      isOpen={open}\r\n    >\r\n      <FormProvider {...form}>\r\n        <Form\r\n          isHorizontal\r\n          className=\"keycloak__client_authentication__searchdropdown_form\"\r\n          onSubmit={handleSubmit(submit)}\r\n        >\r\n          <TextControl name=\"name\" label={t(\"name\")} />\r\n          {type === \"resource\" && (\r\n            <>\r\n              <TextControl name=\"type\" label={t(\"type\")} />\r\n              <TextControl name=\"uris\" label={t(\"uris\")} />\r\n              <TextControl name=\"owner\" label={t(\"owner\")} />\r\n            </>\r\n          )}\r\n          {type !== \"resource\" && type !== \"policy\" && (\r\n            <TextControl name=\"resource\" label={t(\"resource\")} />\r\n          )}\r\n          {type !== \"policy\" && <TextControl name=\"scope\" label={t(\"scope\")} />}\r\n          {type !== \"resource\" && (\r\n            <SelectControl\r\n              name=\"type\"\r\n              label={t(\"type\")}\r\n              controller={{\r\n                defaultValue: \"\",\r\n              }}\r\n              options={[\r\n                { key: \"\", value: t(\"allTypes\") },\r\n                ...(types || []).map(({ type, name }) => ({\r\n                  key: type!,\r\n                  value: name!,\r\n                })),\r\n              ]}\r\n            />\r\n          )}\r\n          <ActionGroup>\r\n            <Button\r\n              variant=\"primary\"\r\n              type=\"submit\"\r\n              data-testid=\"search-btn\"\r\n              isDisabled={!isDirty}\r\n            >\r\n              {t(\"search\")}\r\n            </Button>\r\n            <Button\r\n              variant=\"link\"\r\n              data-testid=\"revert-btn\"\r\n              onClick={() => onSearch({})}\r\n            >\r\n              {t(\"clear\")}\r\n            </Button>\r\n          </ActionGroup>\r\n        </Form>\r\n      </FormProvider>\r\n    </Dropdown>\r\n  );\r\n};\r\n","import type PolicyProviderRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/policyProviderRepresentation\";\r\nimport type PolicyRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/policyRepresentation\";\r\nimport {\r\n  ListEmptyState,\r\n  PaginatingTableToolbar,\r\n  useAlerts,\r\n  useFetch,\r\n} from \"@keycloak/keycloak-ui-shared\";\r\nimport {\r\n  Alert,\r\n  AlertVariant,\r\n  Button,\r\n  DescriptionList,\r\n  PageSection,\r\n  ToolbarItem,\r\n} from \"@patternfly/react-core\";\r\nimport {\r\n  ExpandableRowContent,\r\n  Table,\r\n  Tbody,\r\n  Td,\r\n  Th,\r\n  Thead,\r\n  Tr,\r\n} from \"@patternfly/react-table\";\r\nimport { useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useAdminClient } from \"../../admin-client\";\r\nimport { useConfirmDialog } from \"../../components/confirm-dialog/ConfirmDialog\";\r\nimport { KeycloakSpinner } from \"@keycloak/keycloak-ui-shared\";\r\nimport { useRealm } from \"../../context/realm-context/RealmContext\";\r\nimport { toUpperCase } from \"../../util\";\r\nimport useToggle from \"../../utils/useToggle\";\r\nimport { toCreatePolicy } from \"../routes/NewPolicy\";\r\nimport { toPermissionDetails } from \"../routes/PermissionDetails\";\r\nimport { toPolicyDetails } from \"../routes/PolicyDetails\";\r\nimport { DetailDescriptionLink } from \"./DetailDescription\";\r\nimport { MoreLabel } from \"./MoreLabel\";\r\nimport { NewPolicyDialog } from \"./NewPolicyDialog\";\r\nimport { SearchDropdown, SearchForm } from \"./SearchDropdown\";\r\nimport { useIsAdminPermissionsClient } from \"../../utils/useIsAdminPermissionsClient\";\r\nimport { toCreatePermissionPolicy } from \"../../permissions-configuration/routes/NewPermissionPolicy\";\r\nimport { toPermissionPolicyDetails } from \"../../permissions-configuration/routes/PermissionPolicyDetails\";\r\n\r\ntype PoliciesProps = {\r\n  clientId: string;\r\n  isDisabled?: boolean;\r\n};\r\n\r\ntype ExpandablePolicyRepresentation = PolicyRepresentation & {\r\n  dependentPolicies?: PolicyRepresentation[];\r\n  isExpanded: boolean;\r\n};\r\n\r\nconst DependentPoliciesRenderer = ({\r\n  row,\r\n}: {\r\n  row: ExpandablePolicyRepresentation;\r\n}) => {\r\n  return (\r\n    <>\r\n      {row.dependentPolicies?.[0]?.name}{\" \"}\r\n      <MoreLabel array={row.dependentPolicies} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport const AuthorizationPolicies = ({\r\n  clientId,\r\n  isDisabled = false,\r\n}: PoliciesProps) => {\r\n  const { adminClient } = useAdminClient();\r\n\r\n  const { t } = useTranslation();\r\n  const { addAlert, addError } = useAlerts();\r\n  const { realm } = useRealm();\r\n  const navigate = useNavigate();\r\n\r\n  const [policies, setPolicies] = useState<ExpandablePolicyRepresentation[]>();\r\n  const [selectedPolicy, setSelectedPolicy] =\r\n    useState<ExpandablePolicyRepresentation>();\r\n  const [policyProviders, setPolicyProviders] =\r\n    useState<PolicyProviderRepresentation[]>();\r\n\r\n  const [key, setKey] = useState(0);\r\n  const refresh = () => setKey(key + 1);\r\n\r\n  const [max, setMax] = useState(10);\r\n  const [first, setFirst] = useState(0);\r\n  const [search, setSearch] = useState<SearchForm>({});\r\n  const [newDialog, toggleDialog] = useToggle();\r\n  const isAdminPermissionsClient = useIsAdminPermissionsClient(clientId);\r\n\r\n  useFetch(\r\n    async () => {\r\n      const policies = await adminClient.clients.listPolicies({\r\n        first,\r\n        max: max + 1,\r\n        id: clientId,\r\n        permission: \"false\",\r\n        ...search,\r\n      });\r\n\r\n      return await Promise.all([\r\n        adminClient.clients.listPolicyProviders({ id: clientId }),\r\n        ...(policies || []).map(async (policy) => {\r\n          const dependentPolicies =\r\n            await adminClient.clients.listDependentPolicies({\r\n              id: clientId,\r\n              policyId: policy.id!,\r\n            });\r\n\r\n          return {\r\n            ...policy,\r\n            dependentPolicies,\r\n            isExpanded: false,\r\n          };\r\n        }),\r\n      ]);\r\n    },\r\n    ([providers, ...policies]) => {\r\n      setPolicyProviders(\r\n        providers.filter((p) => p.type !== \"resource\" && p.type !== \"scope\"),\r\n      );\r\n      setPolicies(policies);\r\n    },\r\n    [key, search, first, max],\r\n  );\r\n\r\n  const [toggleDeleteDialog, DeleteConfirm] = useConfirmDialog({\r\n    titleKey: \"deletePolicy\",\r\n    children: (\r\n      <>\r\n        {t(\"deletePolicyConfirm\")}\r\n        {selectedPolicy?.dependentPolicies &&\r\n          selectedPolicy.dependentPolicies.length > 0 && (\r\n            <Alert\r\n              variant=\"warning\"\r\n              isInline\r\n              isPlain\r\n              component=\"p\"\r\n              title={t(\"deletePolicyWarning\")}\r\n              className=\"pf-v5-u-pt-lg\"\r\n            >\r\n              <p className=\"pf-v5-u-pt-xs\">\r\n                {selectedPolicy.dependentPolicies.map((policy) => (\r\n                  <strong key={policy.id} className=\"pf-v5-u-pr-md\">\r\n                    {policy.name}\r\n                  </strong>\r\n                ))}\r\n              </p>\r\n            </Alert>\r\n          )}\r\n      </>\r\n    ),\r\n    continueButtonLabel: \"confirm\",\r\n    onConfirm: async () => {\r\n      try {\r\n        await adminClient.clients.delPolicy({\r\n          id: clientId,\r\n          policyId: selectedPolicy?.id!,\r\n        });\r\n        addAlert(t(\"policyDeletedSuccess\"), AlertVariant.success);\r\n        refresh();\r\n      } catch (error) {\r\n        addError(\"policyDeletedError\", error);\r\n      }\r\n    },\r\n  });\r\n\r\n  if (!policies) {\r\n    return <KeycloakSpinner />;\r\n  }\r\n\r\n  const noData = policies.length === 0;\r\n  const searching = Object.keys(search).length !== 0;\r\n  return (\r\n    <PageSection variant=\"light\" className=\"pf-v5-u-p-0\">\r\n      <DeleteConfirm />\r\n      {(!noData || searching) && (\r\n        <>\r\n          {newDialog && (\r\n            <NewPolicyDialog\r\n              policyProviders={policyProviders}\r\n              onSelect={(p) =>\r\n                navigate(\r\n                  isAdminPermissionsClient\r\n                    ? toCreatePermissionPolicy({\r\n                        realm,\r\n                        permissionClientId: clientId,\r\n                        policyType: p.type!,\r\n                      })\r\n                    : toCreatePolicy({\r\n                        id: clientId,\r\n                        realm,\r\n                        policyType: p.type!,\r\n                      }),\r\n                )\r\n              }\r\n              toggleDialog={toggleDialog}\r\n            />\r\n          )}\r\n          <PaginatingTableToolbar\r\n            count={policies.length}\r\n            first={first}\r\n            max={max}\r\n            onNextClick={setFirst}\r\n            onPreviousClick={setFirst}\r\n            onPerPageSelect={(first, max) => {\r\n              setFirst(first);\r\n              setMax(max);\r\n            }}\r\n            toolbarItem={\r\n              <>\r\n                <ToolbarItem>\r\n                  <SearchDropdown\r\n                    types={policyProviders}\r\n                    search={search}\r\n                    onSearch={setSearch}\r\n                    type=\"policy\"\r\n                  />\r\n                </ToolbarItem>\r\n                <ToolbarItem>\r\n                  <Button\r\n                    data-testid=\"createPolicy\"\r\n                    onClick={() => {\r\n                      toggleDialog();\r\n                    }}\r\n                    isDisabled={isDisabled}\r\n                  >\r\n                    {isAdminPermissionsClient\r\n                      ? t(\"createPermissionPolicy\")\r\n                      : t(\"createPolicy\")}\r\n                  </Button>\r\n                </ToolbarItem>\r\n              </>\r\n            }\r\n          >\r\n            {!noData && (\r\n              <Table aria-label={t(\"resources\")} variant=\"compact\">\r\n                <Thead>\r\n                  <Tr>\r\n                    <Th aria-hidden=\"true\" />\r\n                    <Th>{t(\"name\")}</Th>\r\n                    <Th>{t(\"type\")}</Th>\r\n                    <Th>{t(\"dependentPermission\")}</Th>\r\n                    <Th>{t(\"description\")}</Th>\r\n                    <Th aria-hidden=\"true\" />\r\n                  </Tr>\r\n                </Thead>\r\n                {policies.map((policy, rowIndex) => (\r\n                  <Tbody key={policy.id} isExpanded={policy.isExpanded}>\r\n                    <Tr>\r\n                      <Td\r\n                        expand={{\r\n                          rowIndex,\r\n                          isExpanded: policy.isExpanded,\r\n                          onToggle: (_, rowIndex) => {\r\n                            const rows = policies.map((policy, index) =>\r\n                              index === rowIndex\r\n                                ? { ...policy, isExpanded: !policy.isExpanded }\r\n                                : policy,\r\n                            );\r\n                            setPolicies(rows);\r\n                          },\r\n                        }}\r\n                      />\r\n                      <Td data-testid={`name-column-${policy.name}`}>\r\n                        {isAdminPermissionsClient ? (\r\n                          <Link\r\n                            to={toPermissionPolicyDetails({\r\n                              realm,\r\n                              permissionClientId: clientId,\r\n                              policyId: policy.id!,\r\n                              policyType: policy.type!,\r\n                            })}\r\n                          >\r\n                            {policy.name}\r\n                          </Link>\r\n                        ) : (\r\n                          <Link\r\n                            to={toPolicyDetails({\r\n                              realm,\r\n                              id: clientId,\r\n                              policyType: policy.type!,\r\n                              policyId: policy.id!,\r\n                            })}\r\n                          >\r\n                            {policy.name}\r\n                          </Link>\r\n                        )}\r\n                      </Td>\r\n                      <Td>{toUpperCase(policy.type!)}</Td>\r\n                      <Td>\r\n                        <DependentPoliciesRenderer row={policy} />\r\n                      </Td>\r\n                      <Td>{policy.description}</Td>\r\n                      {!isDisabled && (\r\n                        <Td\r\n                          actions={{\r\n                            items: [\r\n                              {\r\n                                title: t(\"delete\"),\r\n                                onClick: () => {\r\n                                  setSelectedPolicy(policy);\r\n                                  toggleDeleteDialog();\r\n                                },\r\n                              },\r\n                            ],\r\n                          }}\r\n                        />\r\n                      )}\r\n                    </Tr>\r\n                    <Tr\r\n                      key={`child-${policy.id}`}\r\n                      isExpanded={policy.isExpanded}\r\n                    >\r\n                      <Td />\r\n                      <Td colSpan={3 + (isDisabled ? 0 : 1)}>\r\n                        <ExpandableRowContent>\r\n                          {policy.isExpanded && !isAdminPermissionsClient && (\r\n                            <DescriptionList\r\n                              isHorizontal\r\n                              className=\"keycloak_resource_details\"\r\n                            >\r\n                              <DetailDescriptionLink\r\n                                name=\"dependentPermission\"\r\n                                array={policy.dependentPolicies}\r\n                                convert={(p) => p.name!}\r\n                                link={(permission) =>\r\n                                  toPermissionDetails({\r\n                                    realm,\r\n                                    id: clientId,\r\n                                    permissionId: permission.id!,\r\n                                    permissionType: permission.type!,\r\n                                  })\r\n                                }\r\n                              />\r\n                            </DescriptionList>\r\n                          )}\r\n                          {policy.isExpanded && isAdminPermissionsClient && (\r\n                            <>\r\n                              <Th>{t(\"dependentPermission\")}</Th>\r\n                              {policy.dependentPolicies!.map(\r\n                                (dependentPolicy, index) => (\r\n                                  <Td key={index}>\r\n                                    <span style={{ marginLeft: \"8px\" }}>\r\n                                      {dependentPolicy.name}\r\n                                    </span>\r\n                                  </Td>\r\n                                ),\r\n                              )}\r\n                            </>\r\n                          )}\r\n                        </ExpandableRowContent>\r\n                      </Td>\r\n                    </Tr>\r\n                  </Tbody>\r\n                ))}\r\n              </Table>\r\n            )}\r\n          </PaginatingTableToolbar>\r\n        </>\r\n      )}\r\n      {noData && searching && (\r\n        <ListEmptyState\r\n          isSearchVariant\r\n          isDisabled={isDisabled}\r\n          message={t(\"noSearchResults\")}\r\n          instructions={t(\"noSearchResultsInstructions\")}\r\n        />\r\n      )}\r\n      {noData && !searching && (\r\n        <>\r\n          {newDialog && (\r\n            <NewPolicyDialog\r\n              policyProviders={policyProviders?.filter(\r\n                (p) => p.type !== \"aggregate\",\r\n              )}\r\n              onSelect={(p) =>\r\n                navigate(\r\n                  isAdminPermissionsClient\r\n                    ? toCreatePermissionPolicy({\r\n                        realm,\r\n                        permissionClientId: clientId,\r\n                        policyType: p.type!,\r\n                      })\r\n                    : toCreatePolicy({\r\n                        id: clientId,\r\n                        realm,\r\n                        policyType: p.type!,\r\n                      }),\r\n                )\r\n              }\r\n              toggleDialog={toggleDialog}\r\n            />\r\n          )}\r\n          <ListEmptyState\r\n            message={t(\"emptyPolicies\")}\r\n            instructions={\r\n              isAdminPermissionsClient\r\n                ? t(\"emptyPermissionPoliciesInstructions\")\r\n                : t(\"emptyPoliciesInstructions\")\r\n            }\r\n            isDisabled={isDisabled}\r\n            primaryActionText={\r\n              isAdminPermissionsClient\r\n                ? t(\"createPermissionPolicy\")\r\n                : t(\"createPolicy\")\r\n            }\r\n            onPrimaryAction={() => toggleDialog()}\r\n          />\r\n        </>\r\n      )}\r\n    </PageSection>\r\n  );\r\n};\r\n"],"names":["PanelHeader","_a","className","children","props","__rest","React","css","styles","TextListVariants","TextList","component","isPlain","Component","TextListItemVariants","TextListItem","DetailDescription","jsx","DetailDescriptionLink","name","array","convert","link","t","useTranslation","DescriptionListGroup","DescriptionListTerm","DescriptionListDescription","element","value","Link","MoreLabel","Label","SearchDropdown","types","search","onSearch","type","form","useForm","reset","isDirty","handleSubmit","open","toggle","useToggle","submit","useEffect","Dropdown","ref","jsxs","MenuToggle","FormProvider","Form","TextControl","Fragment","SelectControl","ActionGroup","Button","DependentPoliciesRenderer","row","AuthorizationPolicies","clientId","isDisabled","adminClient","useAdminClient","addAlert","addError","useAlerts","realm","useRealm","navigate","useNavigate","policies","setPolicies","useState","selectedPolicy","setSelectedPolicy","policyProviders","setPolicyProviders","key","setKey","refresh","max","setMax","first","setFirst","setSearch","newDialog","toggleDialog","isAdminPermissionsClient","useIsAdminPermissionsClient","useFetch","policy","dependentPolicies","providers","p","toggleDeleteDialog","DeleteConfirm","useConfirmDialog","Alert","AlertVariant","error","KeycloakSpinner","noData","searching","PageSection","NewPolicyDialog","toCreatePermissionPolicy","toCreatePolicy","PaginatingTableToolbar","ToolbarItem","Table","Thead","Tr","Th","rowIndex","Tbody","Td","_","rows","index","toPermissionPolicyDetails","toPolicyDetails","toUpperCase","ExpandableRowContent","DescriptionList","permission","toPermissionDetails","dependentPolicy","ListEmptyState"],"mappings":"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","x_google_ignoreList":[0,1,2]}