import{jsx as n,jsxs as d,Fragment as p}from"react/jsx-runtime";import{useState as w}from"react";import{a as c,O as E,W as I,a0 as g,R as j,S as U,a3 as x,N as l,Q as s,U as h,e as q,bj as D,c as C}from"./main-o1hptXRo.js";import{D as _}from"./SwitchControl-CU1bUhmR.js";import{J as F}from"./JwksSettings-DiafDiDg.js";/* empty css                           */import{E as H}from"./ExpandableSection-wnspFC3f.js";import{C as M}from"./ClientIdSecret-D0qwvhDE.js";import{R as y,D as N}from"./RedirectUrl-DrdV0T_4.js";const A=({label:t,children:a})=>{const{t:e}=c();return n(E,{label:e(t),fieldId:t,labelIcon:n(I,{helpText:e(`${t}Help`),fieldLabelId:t}),children:a})},T=({label:t,field:a,fieldType:e="string",isReadOnly:i=!1,defaultValue:o})=>{const{t:r}=c(),{control:m}=g();return n(A,{label:t,children:n(j,{name:a,defaultValue:o||(e==="string"?"false":!1),control:m,render:({field:u})=>n(U,{id:t,label:r("on"),labelOff:r("off"),isChecked:e==="string"?u.value==="true":u.value,onChange:(f,b)=>u.onChange(e==="string"?""+b:b),isDisabled:i,"aria-label":t})})})},z=({label:t,field:a,isReadOnly:e=!1})=>{const{register:i}=g();return n(A,{label:t,children:n(x,{id:t,"data-testid":t,readOnly:e,...i(a)})})},v=["plain","S256"],S=({readOnly:t,isOIDC:a})=>{const{t:e}=c(),{control:i}=g(),o=l({control:i,name:"config.validateSignature"}),r=l({control:i,name:"config.pkceEnabled"}),m=l({control:i,name:"config.jwtAuthorizationGrantEnabled"}),u=l({control:i,name:"config.supportsClientAssertions"});return d("div",{className:"pf-v5-c-form pf-m-horizontal",children:[n(s,{name:"config.authorizationUrl",label:e("authorizationUrl"),type:"url",readOnly:t,rules:{required:e("required")}}),n(s,{name:"config.tokenUrl",label:e("tokenUrl"),type:"url",readOnly:t,rules:{required:e("required")}}),a&&n(s,{name:"config.logoutUrl",label:e("logoutUrl"),readOnly:t}),n(s,{name:"config.userInfoUrl",label:e("userInfoUrl"),readOnly:t,rules:{required:a?"":e("required")}}),n(s,{name:"config.tokenIntrospectionUrl",label:e("tokenIntrospectionUrl"),type:"url",readOnly:t}),a&&n(s,{name:"config.issuer",label:e("issuer"),readOnly:t}),a&&d(p,{children:[n(_,{name:"config.validateSignature",label:e("validateSignature"),labelIcon:e("validateSignatureHelp"),isDisabled:t,stringify:!0}),(o==="true"||m==="true"||u=="true")&&n(F,{readOnly:t})]}),n(_,{name:"config.pkceEnabled",label:e("pkceEnabled"),isDisabled:t,stringify:!0}),r==="true"&&n(h,{name:"config.pkceMethod",label:e("pkceMethod"),labelIcon:e("pkceMethodHelp"),controller:{defaultValue:v[0]},options:v.map(f=>({key:f,value:e(f)}))})]})},K=({readOnly:t,isOIDC:a})=>{const{t:e}=c(),[i,o]=w(!1);return d(p,{children:[t&&n(H,{className:"keycloak__discovery-settings__metadata",toggleText:e(i?"hideMetaData":"showMetaData"),onToggle:()=>o(!i),isExpanded:i,children:n(S,{readOnly:t,isOIDC:a})}),!t&&n(S,{readOnly:t,isOIDC:a})]})},k=["client_secret_post","client_secret_basic","client_secret_basic_unencoded","client_secret_jwt","private_key_jwt"],L=({create:t=!0})=>{const a=q().providers.clientSignature.providers,{t:e}=c(),{control:i}=g(),o=l({control:i,name:"config.clientAuthMethod"});return d(p,{children:[n(h,{name:"config.clientAuthMethod",label:e("clientAuthentication"),labelIcon:e("clientAuthenticationHelp"),options:k.map(r=>({key:r,value:e(`clientAuthentications.${r}`)})),controller:{defaultValue:k[0]}}),n(M,{secretRequired:o!=="private_key_jwt",create:t}),n(h,{name:"config.clientAssertionSigningAlg",label:e("clientAssertionSigningAlg"),labelIcon:e("clientAssertionSigningAlgHelp"),options:[{key:"",value:e("algorithmNotSpecified")},...D(a).map(r=>({key:r,value:r}))],controller:{defaultValue:""}}),(o==="private_key_jwt"||o==="client_secret_jwt")&&n(z,{field:"config.clientAssertionAudience",label:"clientAssertionAudience"}),o==="private_key_jwt"&&n(T,{field:"config.jwtX509HeadersEnabled",label:"jwtX509HeadersEnabled"})]})},B=()=>{const{t}=c(),{tab:a}=C(),{control:e}=g(),i=l({control:e,name:"alias"});return d(p,{children:[n(y,{id:i}),n(s,{name:"alias",label:t("alias"),labelIcon:t("aliasHelp"),readOnly:a==="settings",rules:{required:t("required")}}),n(s,{name:"displayName",label:t("displayName")}),n(N,{})]})};export{K as D,A as F,B as O,T as S,z as T,L as a};
//# sourceMappingURL=OIDCGeneralSettings-ItScBFVN.js.map
