import{jsx as f}from"react/jsx-runtime";import{a as C,dX as b}from"./main-o1hptXRo.js";import{useState as u,useEffect as p,useMemo as h}from"react";import{c as S}from"./FormAccess-BnhQnYb9.js";function T(r){const[e,s]=u(null),[a,o]=u(null);function n(t){o({name:t.name,state:t.state})}return p(()=>{s(null),o(null),navigator.permissions.query({name:r}).then(t=>{s(t),n(t)})},[r]),p(()=>{if(!e)return;function t(){e&&n(e)}return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[e]),a}const D=({id:r,label:e,text:s,variant:a="plain"})=>{const{t:o}=C(),n=b(),l=T("clipboard-write")?.state==="denied",[i,c]=u(0),d=h(()=>{if(l)return"clipboardCopyDenied";switch(i){case 0:return"copyToClipboard";case 1:return"copySuccess";case 2:return"clipboardCopyError"}},[l,i]);p(()=>{if(i!==0)return n(()=>c(0),1e3)},[i,n]);const y=async m=>{try{await navigator.clipboard.writeText(m),c(1)}catch{c(2)}};return f(S,{id:`copy-button-${r}`,textId:e,"aria-label":o("copyToClipboard"),onClick:()=>y(s),exitDelay:600,variant:a,children:o(d)})};export{D as C};
//# sourceMappingURL=CopyToClipboardButton-Cl576S4v.js.map
