import{jsxs as L,jsx as t}from"react/jsx-runtime";import{u as R,a as b,_ as A,b as B,c as V,d as u,e as k,B as E,P as w,x as N,v as _,f as c,T as $,g as F,L as f,h as G,t as H}from"./main-o1hptXRo.js";import{useState as d}from"react";import{u as O}from"./ConfirmDialog-BkU7melV.js";import{V as j}from"./ViewHeader-BDBsroi3.js";import{P as p}from"./constants-BclHbWtx.js";import"react-dom";const q=({obj:s,field:a})=>{const{realm:i}=u(),o=G(s,a);return t(f,{to:H({realm:i,providerId:s.providerId,id:s.id}),children:o},o)};function Z(){const{adminClient:s}=R(),{t:a}=b(),{addAlert:i,addError:o}=A(),g=B(),{providerId:y}=V(),[l,I]=d(0),v=()=>I(l+1),{realm:m,realmRepresentation:h}=u(),[D,P]=d(),{componentTypes:C}=k(),r=C?.[p]?.find(e=>e.id===y),K=async()=>{const e={parent:h?.id,type:p};return await s.components.find({...e})},[x,S]=O({titleKey:"itemDeleteConfirmTitle",messageKey:"itemDeleteConfirm",continueButtonLabel:"delete",continueButtonVariant:E.danger,onConfirm:async()=>{try{await s.components.del({id:D.id}),i(a("itemDeletedSuccess")),v()}catch(e){o("itemSaveError",e)}}});return L(w,{variant:"light",className:"pf-v5-u-p-0",children:[t(S,{}),t(j,{titleKey:r.id,subKey:r.helpText,divider:!1}),t(N,{toolbarItem:t($,{children:t(F,{component:e=>t(f,{...e,to:c({realm:m,providerId:r.id})}),children:a("createItem")})}),actionResolver:e=>[{title:a("delete"),onClick(){P(e.data),x()}}],searchPlaceholderKey:"searchItem",loader:K,columns:[...(r.metadata.displayFields||r.properties.slice(0,3).map(e=>e.name)).map((e,T)=>({name:`config.${e}[0]`,displayKey:r.properties.find(n=>n.name===e).label,cellRenderer:T===0?n=>t(q,{obj:n,field:`config.${e}`}):void 0}))],ariaLabelKey:"list",emptyState:t(_,{hasIcon:!0,message:a("noItems"),instructions:a("noItemsInstructions"),primaryActionText:a("createItem"),onPrimaryAction:()=>g(c({realm:m,providerId:r.id}))})},l)]})}export{Z as default};
//# sourceMappingURL=PageList-CwcBF7QK.js.map
