import{jsxs as a,Fragment as I,jsx as e}from"react/jsx-runtime";import{useMemo as b}from"react";import{u as S,a as k,j as A,e as V,_ as C,b as F,d as j,bl as x,P as D,l as G,A as w,g as l,L as E,cJ as H,o as K,cK as L}from"./main-o1hptXRo.js";import{D as T}from"./DynamicComponents-CnLlz98z.js";import{F as _}from"./FormAccess-BnhQnYb9.js";import{V as z}from"./ViewHeader-BDBsroi3.js";import{u as B}from"./useParams-CGVhlaFZ.js";import{G as J}from"./GeneralSettings-kFOwOYCU.js";import"react-dom";import"./ClientSelect-BY77LEpN.js";import"./IdentityProviderSelect-rmWlUbIg.js";import"./GroupPickerDialog-U3luvxlw.js";import"./DataListItemRow-B_0B-ko6.js";import"./ActionListItem-Cy-NQlq4.js";import"./MultiLineInput-OP0faqms.js";import"./RoleMapping-BOcI-Nkp.js";import"./translationFormatter-DQJeO7lr.js";import"./ConfirmDialog-BkU7melV.js";import"./useLocaleSort-C-diWts5.js";import"./CodeEditor-C4IS5oxi.js";import"./ClientIdSecret-D0qwvhDE.js";import"./RedirectUrl-DrdV0T_4.js";function lr(){const{adminClient:p}=S(),{t:i}=k(),{providerId:r}=B(),o=A({mode:"onChange"}),n=V(),d=b(()=>{const t=["org.keycloak.broker.social.SocialIdentityProvider","org.keycloak.broker.provider.IdentityProvider"];for(const s of t){const c=n.componentTypes?.[s]?.find(({id:h})=>h===r);if(c)return c}},[n,r]),{handleSubmit:u,formState:{isValid:f}}=o,{addAlert:v,addError:y}=C(),g=F(),{realm:m}=j(),P=async t=>{try{await p.identityProviders.create({...t,providerId:r,alias:t.alias}),v(i("createIdentityProviderSuccess"),K.success),g(L({realm:m,providerId:r,alias:t.alias,tab:"settings"}))}catch(s){y("createError",s)}};return o.getValues("alias")||o.setValue("alias",r),a(I,{children:[e(z,{titleKey:i("addIdentityProvider",{provider:x(r)})}),e(D,{variant:"light",children:a(_,{role:"manage-identity-providers",isHorizontal:!0,onSubmit:u(P),children:[a(G,{...o,children:[e(J,{id:r}),d&&e(T,{stringify:!0,properties:d.properties})]}),a(w,{children:[e(l,{isDisabled:!f,variant:"primary",type:"submit","data-testid":"createProvider",children:i("add")}),e(l,{variant:"link","data-testid":"cancel",component:t=>e(E,{...t,to:H({realm:m})}),children:i("cancel")})]})]})})]})}export{lr as default};
//# sourceMappingURL=AddIdentityProvider-Cs4I_w8G.js.map
