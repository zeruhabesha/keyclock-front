{"version":3,"file":"TranslatableField-C01MzTTh.js","sources":["../../../../../../../../../node_modules/.pnpm/@patternfly+react-icons@5.4_f39c5b970058b42208dac3bfc1f9d8fb/node_modules/@patternfly/react-icons/dist/esm/icons/globe-route-icon.js","../../../../../../../src/realm-settings/user-profile/attribute/AddTranslationsDialog.tsx","../../../../../../../src/realm-settings/user-profile/attribute/TranslatableField.tsx"],"sourcesContent":["import { createIcon } from '../createIcon';\n\nexport const GlobeRouteIconConfig = {\n  name: 'GlobeRouteIcon',\n  height: 1024,\n  width: 1306,\n  svgPath: 'M1300.9,363.7 L1179,485.8 C1169,495.9 1151.7,488.8 1151.7,474.5 L1151.7,416 L816.4,416 C812.4,416 809,413.8 808.5,409.8 C805.3,386 801,362.733333 795.6,340 C792.3,326 788.5,312.4 784.4,299.2 C782.8,294 786.6,288 792,288 L1151.5,288 L1151.5,230.6 C1151.5,216.4 1168.7,209.2 1178.8,219.3 L1300.8,341 C1303.9,344.1 1306,348.2 1306,352.3 C1306,356.4 1303.9,360.5 1300.9,363.7 Z M469.2,746.7 L347.3,868.8 C337.3,878.9 320,871.8 320,857.5 L320,800 L16,800 C7.2,800 0,792.3 0,783.5 L0,687.5 C0,678.7 7.2,672 16,672 L320,672 L320,613.8 C320,599.6 337.2,592.4 347.3,602.5 L469.2,724.1 C475.430133,730.34524 475.430133,740.45476 469.2,746.7 Z M1087.6,495.6 C1087.38293,486.920039 1080.28267,479.997286 1071.6,480 L640,480 L640,352 L722.2,352 C727.4,352 731.3,346.5 729.9,341.5 C725.605596,325.013205 720.465463,308.75837 714.5,292.8 C713.258024,289.782121 710.260604,287.863772 707,288 L640,288 L640,101.7 C652.442178,106.259896 664.111225,112.70148 674.6,120.8 C699.3,139.4 723,168.1 743.1,203.9 C746.5,210 751.7,218.7 761.1,218.7 L809.4,218.7 C812.128705,218.672447 814.65964,217.271114 816.131205,214.973053 C817.602771,212.674992 817.816638,209.789922 816.7,207.3 C804.114384,179.721505 788.769504,153.487791 770.9,129 C818.290474,149.304728 861.543068,178.15109 898.5,214.1 C901.47783,216.980555 905.45693,218.593703 909.6,218.6 L971.4,218.6 C974.505675,218.614157 977.338903,216.829582 978.667492,214.022401 C979.996082,211.21522 979.579921,207.892766 977.6,205.5 C889.8,100 757.8,32.6 609.9,32 L605.5,32 C342.5,33.4 128,251.4 128,514.8 L128,528 C128,538.8 132.7,582.4 136.2,601 C136.9,604.8 140.2,608 144.1,608 L193,608 C198.1,608 201.9,602.8 200.8,597.8 C197.100285,580.050867 194.561569,562.079428 193.2,544 L576,544 L576,672 L533.4,672 C530.21925,671.879321 527.2913,673.725708 526.029429,676.647935 C524.767558,679.570163 525.43119,682.96746 527.7,685.2 L566.6,724.2 C572.610093,730.186212 575.992058,738.317319 576,746.8 L576,922.3 C563.557822,917.740104 551.888775,911.29852 541.4,903.2 C521.8,888.5 502.9,867.3 485.8,841.4 C484.483494,839.398843 482.339547,838.092908 479.95744,837.84114 C477.575334,837.589373 475.205755,838.418269 473.5,840.1 L438.9,874.7 C436.17839,877.437565 435.799809,881.728158 438,884.9 C440.4,888.3 442.8,891.7 445.2,895 C440.7,893.1 436.3,891.1 431.9,889.1 C428.86068,887.698101 425.269908,888.336461 422.9,890.7 L387,926.5 C385.206339,928.31874 384.380991,930.880062 384.775333,933.403854 C385.169676,935.927646 386.737022,938.11511 389,939.3 C456.763878,974.049946 531.84563,992.117563 608,992.00057 C862.3,992.00057 1070.5,794.3 1087,544.1 C1087.7,533.5 1088,522.9 1088,512.1 L1087.6,495.6 Z M338.6,480 L193.2,480 C196.476568,435.937781 206.913411,392.704253 224.1,352 L353.5,352 C345.141453,394.203188 340.159019,437.005305 338.6,480 L338.6,480 Z M257.8,288 C273.983601,262.695367 292.787318,239.165581 313.9,217.8 C351.55,180.03315 396.130875,149.88249 445.2,129 C413.9,171.2 387.8,225.9 369.3,288 L257.8,288 Z M576,480 L402.6,480 C404.246384,436.941681 409.667166,394.110815 418.8,352 L576,352 L576,480 Z M576,288 L436.4,288 C446.6,257.5 458.8,229.1 472.9,204 C493,168.2 516.7,139.5 541.4,120.9 C551.888775,112.80148 563.557822,106.359896 576,101.8 L576,288 Z M575.8,87.6 L576.7,87.6 L576.7,86.7 L575.8,86.7 L575.8,87.6 Z M640,544 L813.4,544 C811.819116,587.052386 806.465269,629.883162 797.4,672 L640,672 L640,544 Z M674.6,903.1 C664.111225,911.19852 652.442178,917.640104 640,922.2 L640,736 L779.9,736 C770.41424,765.137744 758.088355,793.272917 743.1,820 C723,855.8 699.3,884.6 674.6,903.1 L674.6,903.1 Z M902.2,806.2 C864.55,843.96685 819.969125,874.11751 770.9,895 C802.3,852.5 828.4,798.1 847,735.5 L959,735.5 C942.666041,761.042003 923.622375,784.746003 902.2,806.2 L902.2,806.2 Z M992.3,671.5 L862.7,671.5 C870.9358,629.451226 875.850963,586.819718 877.4,544 L1022.8,544 C1019.55195,587.863016 1009.25313,630.915455 992.3,671.5 L992.3,671.5 Z',\n  yOffset: 0,\n  xOffset: 0,\n};\n\nexport const GlobeRouteIcon = createIcon(GlobeRouteIconConfig);\n\nexport default GlobeRouteIcon;","import {\r\n  ListEmptyState,\r\n  PaginatingTableToolbar,\r\n  useFetch,\r\n} from \"@keycloak/keycloak-ui-shared\";\r\nimport {\r\n  Button,\r\n  Flex,\r\n  FlexItem,\r\n  Form,\r\n  FormGroup,\r\n  Label,\r\n  Modal,\r\n  ModalVariant,\r\n  Text,\r\n  TextContent,\r\n  TextInput,\r\n  TextVariants,\r\n} from \"@patternfly/react-core\";\r\nimport { SearchIcon } from \"@patternfly/react-icons\";\r\nimport { Table, Tbody, Td, Th, Thead, Tr } from \"@patternfly/react-table\";\r\nimport { useState } from \"react\";\r\nimport { useFormContext } from \"react-hook-form\";\r\nimport { Trans, useTranslation } from \"react-i18next\";\r\nimport { useAdminClient } from \"../../../admin-client\";\r\nimport { useRealm } from \"../../../context/realm-context/RealmContext\";\r\nimport { useWhoAmI } from \"../../../context/whoami/WhoAmI\";\r\nimport { beerify, localeToDisplayName } from \"../../../util\";\r\nimport useLocale from \"../../../utils/useLocale\";\r\nimport { Translation, TranslationForm } from \"./TranslatableField\";\r\n\r\ntype AddTranslationsDialogProps = {\r\n  orgKey: string;\r\n  translationKey: string;\r\n  fieldName: string;\r\n  toggleDialog: () => void;\r\n  predefinedAttributes?: string[];\r\n};\r\n\r\nexport const AddTranslationsDialog = ({\r\n  orgKey,\r\n  translationKey,\r\n  fieldName,\r\n  toggleDialog,\r\n  predefinedAttributes,\r\n}: AddTranslationsDialogProps) => {\r\n  const { adminClient } = useAdminClient();\r\n  const { t } = useTranslation();\r\n  const { realm: realmName, realmRepresentation: realm } = useRealm();\r\n  const combinedLocales = useLocale();\r\n  const { whoAmI } = useWhoAmI();\r\n  const [max, setMax] = useState(10);\r\n  const [first, setFirst] = useState(0);\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [translations, setTranslations] = useState<TranslationForm[]>([]);\r\n  const prefix = `translation.${beerify(translationKey)}`;\r\n\r\n  const {\r\n    register,\r\n    setValue,\r\n    getValues,\r\n    formState: { isValid },\r\n  } = useFormContext();\r\n\r\n  const setupForm = (translation: Translation) => {\r\n    translation[translationKey].forEach((translation, rowIndex) => {\r\n      const valueKey = `${prefix}.${rowIndex}.value`;\r\n      setValue(`${prefix}.${rowIndex}.locale`, translation.locale || \"\");\r\n      setValue(\r\n        valueKey,\r\n        getValues(valueKey) ||\r\n          translation.value ||\r\n          (t(orgKey) !== orgKey ? t(orgKey) : \"\"),\r\n      );\r\n    });\r\n  };\r\n\r\n  useFetch(\r\n    async () => {\r\n      const selectedLocales = combinedLocales\r\n        .filter((l) =>\r\n          localeToDisplayName(l, whoAmI.locale)\r\n            ?.toLocaleLowerCase(realm?.defaultLocale)\r\n            ?.includes(filter.toLocaleLowerCase(realm?.defaultLocale)),\r\n        )\r\n        .slice(first, first + max + 1);\r\n\r\n      const results = await Promise.all(\r\n        selectedLocales.map((selectedLocale) =>\r\n          adminClient.realms.getRealmLocalizationTexts({\r\n            realm: realmName,\r\n            selectedLocale,\r\n          }),\r\n        ),\r\n      );\r\n\r\n      return results.map((result, index) => ({\r\n        locale: selectedLocales[index],\r\n        value: result[translationKey],\r\n      }));\r\n    },\r\n    (fetchedData) => {\r\n      setTranslations(fetchedData);\r\n      setupForm({ [translationKey]: fetchedData });\r\n    },\r\n    [combinedLocales, first, max, filter],\r\n  );\r\n\r\n  return (\r\n    <Modal\r\n      variant={ModalVariant.medium}\r\n      title={t(\"addTranslationsModalTitle\")}\r\n      isOpen\r\n      onClose={toggleDialog}\r\n      actions={[\r\n        <Button\r\n          key=\"ok\"\r\n          data-testid=\"okTranslationBtn\"\r\n          variant=\"primary\"\r\n          form=\"add-translation\"\r\n          isDisabled={!isValid}\r\n          onClick={toggleDialog}\r\n        >\r\n          {t(\"addTranslationDialogOkBtn\")}\r\n        </Button>,\r\n        <Button\r\n          key=\"cancel\"\r\n          data-testid=\"cancelTranslationBtn\"\r\n          variant=\"link\"\r\n          onClick={() => {\r\n            setupForm({ [translationKey]: translations });\r\n            toggleDialog();\r\n          }}\r\n        >\r\n          {t(\"cancel\")}\r\n        </Button>,\r\n      ]}\r\n    >\r\n      <Flex\r\n        direction={{ default: \"column\" }}\r\n        spaceItems={{ default: \"spaceItemsNone\" }}\r\n      >\r\n        <FlexItem>\r\n          <Trans\r\n            i18nKey=\"addTranslationsModalTitle\"\r\n            values={{ fieldName: t(fieldName) }}\r\n          >\r\n            You are able to translate the fieldName based on your locale or\r\n            <strong>location</strong>\r\n          </Trans>\r\n        </FlexItem>\r\n        <FlexItem>\r\n          <Form id=\"add-translation\" data-testid=\"addTranslationForm\">\r\n            <FormGroup label={t(\"translationKey\")} fieldId=\"translationKey\">\r\n              <TextInput\r\n                id=\"translationKey\"\r\n                label={t(\"translationKey\")}\r\n                data-testid=\"translation-key\"\r\n                isDisabled\r\n                value={\r\n                  predefinedAttributes?.includes(orgKey)\r\n                    ? `\\${${orgKey}}`\r\n                    : `\\${${translationKey}}`\r\n                }\r\n              />\r\n            </FormGroup>\r\n            <FlexItem>\r\n              <TextContent>\r\n                <Text\r\n                  className=\"pf-v5-u-font-size-sm pf-v5-u-font-weight-bold\"\r\n                  component={TextVariants.p}\r\n                >\r\n                  {t(\"translationsTableHeading\")}\r\n                </Text>\r\n              </TextContent>\r\n              <PaginatingTableToolbar\r\n                count={translations.length}\r\n                first={first}\r\n                max={max}\r\n                onNextClick={setFirst}\r\n                onPreviousClick={setFirst}\r\n                onPerPageSelect={(first, max) => {\r\n                  setFirst(first);\r\n                  setMax(max);\r\n                }}\r\n                inputGroupName={\"search\"}\r\n                inputGroupOnEnter={(search) => {\r\n                  setFilter(search);\r\n                  setFirst(0);\r\n                  setMax(10);\r\n                }}\r\n                inputGroupPlaceholder={t(\"searchForLanguage\")}\r\n              >\r\n                {translations.length === 0 && filter && (\r\n                  <ListEmptyState\r\n                    hasIcon\r\n                    icon={SearchIcon}\r\n                    isSearchVariant\r\n                    message={t(\"noSearchResults\")}\r\n                    instructions={t(\"noLanguagesSearchResultsInstructions\")}\r\n                  />\r\n                )}\r\n                {translations.length !== 0 && (\r\n                  <Table\r\n                    aria-label={t(\"addTranslationsDialogRowsTable\")}\r\n                    data-testid=\"add-translations-dialog-rows-table\"\r\n                  >\r\n                    <Thead>\r\n                      <Tr>\r\n                        <Th className=\"pf-v5-u-py-lg\">\r\n                          {t(\"supportedLanguagesTableColumnName\")}\r\n                        </Th>\r\n                        <Th className=\"pf-v5-u-py-lg\">\r\n                          {t(\"translationTableColumnName\")}\r\n                        </Th>\r\n                      </Tr>\r\n                    </Thead>\r\n                    <Tbody>\r\n                      {translations.slice(0, max).map((translation, index) => (\r\n                        <Tr key={index}>\r\n                          <Td dataLabel={t(\"supportedLanguage\")}>\r\n                            {localeToDisplayName(\r\n                              translation.locale,\r\n                              whoAmI.locale,\r\n                            )}\r\n                            {translation.locale === realm?.defaultLocale && (\r\n                              <Label className=\"pf-v5-u-ml-xs\" color=\"blue\">\r\n                                {t(\"defaultLanguage\")}\r\n                              </Label>\r\n                            )}\r\n                          </Td>\r\n                          <Td>\r\n                            <TextInput\r\n                              id={`${prefix}.${index}.value`}\r\n                              data-testid={`translation-value-${index}`}\r\n                              {...register(`${prefix}.${index}.value`, {\r\n                                required: {\r\n                                  value:\r\n                                    translation.locale === realm?.defaultLocale,\r\n                                  message: t(\"required\"),\r\n                                },\r\n                              })}\r\n                            />\r\n                          </Td>\r\n                        </Tr>\r\n                      ))}\r\n                    </Tbody>\r\n                  </Table>\r\n                )}\r\n              </PaginatingTableToolbar>\r\n            </FlexItem>\r\n          </Form>\r\n        </FlexItem>\r\n      </Flex>\r\n    </Modal>\r\n  );\r\n};\r\n","import KeycloakAdminClient from \"@keycloak/keycloak-admin-client\";\r\nimport RealmRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/realmRepresentation\";\r\nimport { FormErrorText } from \"@keycloak/keycloak-ui-shared\";\r\nimport {\r\n  Alert,\r\n  Button,\r\n  FormHelperText,\r\n  InputGroup,\r\n  InputGroupItem,\r\n  TextInput,\r\n} from \"@patternfly/react-core\";\r\nimport { GlobeRouteIcon } from \"@patternfly/react-icons\";\r\nimport { TFunction } from \"i18next\";\r\nimport { useEffect } from \"react\";\r\nimport { useFormContext, useWatch } from \"react-hook-form\";\r\nimport { Trans, useTranslation } from \"react-i18next\";\r\nimport { useRealm } from \"../../../context/realm-context/RealmContext\";\r\nimport { i18n } from \"../../../i18n/i18n\";\r\nimport { beerify, debeerify } from \"../../../util\";\r\nimport useToggle from \"../../../utils/useToggle\";\r\nimport { AddTranslationsDialog } from \"./AddTranslationsDialog\";\r\n\r\nexport type TranslationForm = {\r\n  locale: string;\r\n  value: string;\r\n};\r\n\r\nexport type Translation = Record<string, TranslationForm[]>;\r\n\r\nexport type Translations = {\r\n  translation: Translation;\r\n};\r\n\r\ntype SaveTranslationsProps = {\r\n  adminClient: KeycloakAdminClient;\r\n  realmName: string;\r\n  translationsData: Translations;\r\n};\r\n\r\nexport const saveTranslations = async ({\r\n  adminClient,\r\n  realmName,\r\n  translationsData,\r\n}: SaveTranslationsProps) => {\r\n  await Promise.all(\r\n    Object.entries(translationsData.translation)\r\n      .map(([key, translation]) =>\r\n        translation\r\n          .filter((translation) => translation.value.trim() !== \"\")\r\n          .map((translation) =>\r\n            adminClient.realms.addLocalization(\r\n              {\r\n                realm: realmName,\r\n                selectedLocale: translation.locale,\r\n                key: debeerify(key),\r\n              },\r\n              translation.value,\r\n            ),\r\n          ),\r\n      )\r\n      .flat(),\r\n  );\r\n  await i18n.reloadResources();\r\n};\r\n\r\ntype TranslatableFieldProps = {\r\n  attributeName: string;\r\n  prefix: string;\r\n  fieldName: string;\r\n  predefinedAttributes?: string[];\r\n};\r\n\r\nfunction hasTranslation(value: string, t: TFunction) {\r\n  return t(value) === value && value !== \"\";\r\n}\r\n\r\nexport const TranslatableField = ({\r\n  attributeName,\r\n  prefix,\r\n  fieldName,\r\n  predefinedAttributes,\r\n}: TranslatableFieldProps) => {\r\n  const { t } = useTranslation();\r\n  const { realmRepresentation: realm } = useRealm();\r\n  const { register, control, getFieldState, setValue } = useFormContext();\r\n  const [open, toggle] = useToggle();\r\n\r\n  const value = useWatch({ control, name: attributeName });\r\n\r\n  const key = `${prefix}.${value}`;\r\n  const translationPrefix = `translation.${beerify(key)}`;\r\n  const requiredTranslationName = `${translationPrefix}.0.value`;\r\n\r\n  useEffect(() => {\r\n    if (predefinedAttributes?.includes(value)) {\r\n      return;\r\n    }\r\n    if (realm?.internationalizationEnabled && value) {\r\n      setValue(fieldName, `\\${${prefix}.${value}}`);\r\n    }\r\n  }, [value]);\r\n\r\n  function isTranslationRequired(\r\n    value: string,\r\n    t: TFunction,\r\n    realm?: RealmRepresentation,\r\n  ) {\r\n    return (\r\n      realm?.internationalizationEnabled && open && hasTranslation(value, t)\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {isTranslationRequired(value, t, realm) && (\r\n        <input\r\n          type=\"hidden\"\r\n          data-testid=\"requiredTranslationName\"\r\n          {...register(requiredTranslationName, { required: t(\"required\") })}\r\n        />\r\n      )}\r\n      {open && (\r\n        <AddTranslationsDialog\r\n          orgKey={value}\r\n          translationKey={`${prefix}.${value}`}\r\n          fieldName={fieldName}\r\n          predefinedAttributes={predefinedAttributes}\r\n          toggleDialog={toggle}\r\n        />\r\n      )}\r\n      <InputGroup>\r\n        <InputGroupItem isFill>\r\n          <TextInput\r\n            id={`kc-attribute-${fieldName}`}\r\n            data-testid={`attributes-${fieldName}`}\r\n            isDisabled={realm?.internationalizationEnabled}\r\n            {...register(fieldName)}\r\n          />\r\n        </InputGroupItem>\r\n        {realm?.internationalizationEnabled && (\r\n          <InputGroupItem>\r\n            <Button\r\n              variant=\"link\"\r\n              className=\"pf-m-plain\"\r\n              data-testid={`addAttribute${fieldName}TranslationBtn`}\r\n              aria-label={t(\"addAttributeTranslation\", { fieldName })}\r\n              onClick={toggle}\r\n              icon={<GlobeRouteIcon />}\r\n            />\r\n          </InputGroupItem>\r\n        )}\r\n      </InputGroup>\r\n      {realm?.internationalizationEnabled && (\r\n        <FormHelperText>\r\n          <Alert\r\n            variant=\"info\"\r\n            isInline\r\n            isPlain\r\n            title={\r\n              <Trans\r\n                i18nKey=\"addTranslationsModalSubTitle\"\r\n                values={{ fieldName: t(fieldName) }}\r\n              >\r\n                You are able to translate the fieldName based on your locale or\r\n                <strong>location</strong>\r\n              </Trans>\r\n            }\r\n          />\r\n          {getFieldState(requiredTranslationName).error && (\r\n            <FormErrorText message={t(\"required\")} />\r\n          )}\r\n        </FormHelperText>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n"],"names":["GlobeRouteIconConfig","GlobeRouteIcon","createIcon","AddTranslationsDialog","orgKey","translationKey","fieldName","toggleDialog","predefinedAttributes","adminClient","useAdminClient","t","useTranslation","realmName","realm","useRealm","combinedLocales","useLocale","whoAmI","useWhoAmI","max","setMax","useState","first","setFirst","filter","setFilter","translations","setTranslations","prefix","beerify","register","setValue","getValues","isValid","useFormContext","setupForm","translation","rowIndex","valueKey","useFetch","selectedLocales","l","localeToDisplayName","selectedLocale","result","index","fetchedData","jsx","Modal","ModalVariant","Button","jsxs","Flex","FlexItem","Trans","Form","FormGroup","TextInput","TextContent","Text","TextVariants","PaginatingTableToolbar","search","ListEmptyState","SearchIcon","Table","Thead","Tr","Th","Tbody","Td","Label","saveTranslations","translationsData","key","debeerify","i18n","hasTranslation","value","TranslatableField","attributeName","control","getFieldState","open","toggle","useToggle","useWatch","requiredTranslationName","useEffect","isTranslationRequired","Fragment","InputGroup","InputGroupItem","FormHelperText","Alert","FormErrorText"],"mappings":"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","x_google_ignoreList":[0]}