import{jsxs as l,Fragment as z,jsx as e}from"react/jsx-runtime";import{a as T,a0 as D,b3 as i,an as j,aS as P,O as w,R as c,S as x,W as s,bQ as V,bR as h,bw as u,bx as n,cc as b,ao as f,U as L,Q as y,aO as N}from"./main-o1hptXRo.js";import{D as I}from"./SwitchControl-CU1bUhmR.js";import{F as E}from"./FormAccess-BnhQnYb9.js";import{I as _,a as O}from"./IdentityProviderSelect-rmWlUbIg.js";const Q=({unWrap:k,protocol:r})=>{const{t:a}=T(),{control:d,watch:C,setValue:g}=D(),A=r||C("protocol"),o=C("publicClient"),v=C("authorizationServicesEnabled"),G=C(i("attributes.oauth2.jwt.authorization.grant.enabled"),!1),p=j(),{hasSomeAccess:F}=P(),S=F("view-identity-providers");return l(E,{isHorizontal:!0,role:"manage-clients",unWrap:k,className:"keycloak__capability-config__form","data-testid":"capability-config-form",children:[A==="openid-connect"&&l(z,{children:[e(w,{hasNoPaddingTop:!0,label:a("clientAuthentication"),fieldId:"kc-authentication",labelIcon:e(s,{helpText:a("authenticationHelp"),fieldLabelId:"authentication"}),children:e(c,{name:"publicClient",defaultValue:!1,control:d,render:({field:t})=>e(x,{"data-testid":"authentication",id:"kc-authentication",label:a("on"),labelOff:a("off"),isChecked:!t.value,onChange:(H,m)=>{t.onChange(!m),m||(g("authorizationServicesEnabled",!1),g("serviceAccountsEnabled",!1),g(i("attributes.oidc.ciba.grant.enabled"),!1),g(i("attributes.standard.token.exchange.enabled"),!1),g(i("attributes.oauth2.jwt.authorization.grant.enabled"),!1))},"aria-label":a("clientAuthentication")})})}),e(w,{hasNoPaddingTop:!0,label:a("clientAuthorization"),fieldId:"kc-authorization",labelIcon:e(s,{helpText:a("authorizationHelp"),fieldLabelId:"authorization"}),children:e(c,{name:"authorizationServicesEnabled",defaultValue:!1,control:d,render:({field:t})=>e(x,{"data-testid":"authorization",id:"kc-authorization-switch",label:a("on"),labelOff:a("off"),isChecked:t.value&&!o,onChange:(H,m)=>{t.onChange(m),m&&g("serviceAccountsEnabled",!0)},isDisabled:o,"aria-label":a("clientAuthorization")})})}),e(w,{hasNoPaddingTop:!0,label:a("authenticationFlow"),fieldId:"kc-flow",children:l(V,{id:"authenticationFlowGrid",hasGutter:!0,children:[e(h,{lg:4,sm:6,children:e(c,{name:"standardFlowEnabled",defaultValue:!0,control:d,render:({field:t})=>l(u,{children:[e(n,{children:e(b,{"data-testid":"standard",label:a("standardFlow"),id:"kc-flow-standard",isChecked:t.value?.toString()==="true",onChange:t.onChange})}),e(n,{children:e(s,{helpText:a("standardFlowHelp"),fieldLabelId:"standardFlow"})})]})})}),e(h,{lg:8,sm:6,children:e(c,{name:"directAccessGrantsEnabled",defaultValue:!1,control:d,render:({field:t})=>l(u,{children:[e(n,{children:e(b,{"data-testid":"direct",label:a("directAccess"),id:"kc-flow-direct",isChecked:t.value,onChange:t.onChange})}),e(n,{children:e(s,{helpText:a("directAccessHelp"),fieldLabelId:"directAccess"})})]})})}),e(h,{lg:4,sm:6,children:e(c,{name:"implicitFlowEnabled",defaultValue:!0,control:d,render:({field:t})=>l(u,{children:[e(n,{children:e(b,{"data-testid":"implicit",label:a("implicitFlow"),id:"kc-flow-implicit",isChecked:t.value?.toString()==="true",onChange:t.onChange})}),e(n,{children:e(s,{helpText:a("implicitFlowHelp"),fieldLabelId:"implicitFlow"})})]})})}),e(h,{lg:8,sm:6,children:e(c,{name:"serviceAccountsEnabled",defaultValue:!1,control:d,render:({field:t})=>l(u,{children:[e(n,{children:e(b,{"data-testid":"service-account",label:a("serviceAccount"),id:"kc-flow-service-account",isChecked:t.value?.toString()==="true"||o&&v,onChange:t.onChange,isDisabled:o&&!v||!o&&v})}),e(n,{children:e(s,{helpText:a("serviceAccountHelp"),fieldLabelId:"serviceAccount"})})]})})}),p(f.StandardTokenExchangeV2)&&e(h,{lg:8,sm:6,children:e(c,{name:i("attributes.standard.token.exchange.enabled"),defaultValue:!1,control:d,render:({field:t})=>l(u,{children:[e(n,{children:e(b,{"data-testid":"standard-token-exchange-enabled",label:a("standardTokenExchangeEnabled"),id:"kc-standard-token-exchange-enabled",name:"standard-token-exchange-enabled",isChecked:t.value.toString()==="true"&&!o,onChange:t.onChange,isDisabled:o})}),e(n,{children:e(s,{helpText:a("standardTokenExchangeEnabledHelp"),fieldLabelId:"standardTokenExchangeEnabled"})})]})})}),p(f.JWTAuthorizationGrant)&&e(h,{lg:8,sm:6,children:e(c,{name:i("attributes.oauth2.jwt.authorization.grant.enabled"),defaultValue:!1,control:d,render:({field:t})=>l(u,{children:[e(n,{children:e(b,{"data-testid":"jwt-authorization-grant-enabled",label:a("jwtAuthorizationGrantEnabled"),id:"kc-jwt-authorization-grant-enabled",name:"jwt-authorization-grant-enabled",isChecked:t.value.toString()==="true"&&!o,onChange:t.onChange,isDisabled:o})}),e(n,{children:e(s,{helpText:a("jwtAuthorizationGrantEnabledHelp"),fieldLabelId:"jwtAuthorizationGrantEnabled"})})]})})}),p(f.DeviceFlow)&&e(h,{lg:8,sm:6,children:e(c,{name:i("attributes.oauth2.device.authorization.grant.enabled"),defaultValue:!1,control:d,render:({field:t})=>l(u,{children:[e(n,{children:e(b,{"data-testid":"oauth-device-authorization-grant",label:a("oauthDeviceAuthorizationGrant"),id:"kc-oauth-device-authorization-grant",name:"oauth2.device.authorization.grant.enabled",isChecked:t.value.toString()==="true",onChange:t.onChange})}),e(n,{children:e(s,{helpText:a("oauthDeviceAuthorizationGrantHelp"),fieldLabelId:"oauthDeviceAuthorizationGrant"})})]})})}),e(h,{lg:8,sm:6,children:e(c,{name:i("attributes.oidc.ciba.grant.enabled"),defaultValue:!1,control:d,render:({field:t})=>l(u,{children:[e(n,{children:e(b,{"data-testid":"oidc-ciba-grant",label:a("oidcCibaGrant"),id:"kc-oidc-ciba-grant",name:"oidc.ciba.grant.enabled",isChecked:t.value.toString()==="true",onChange:t.onChange,isDisabled:o})}),e(n,{children:e(s,{helpText:a("oidcCibaGrantHelp"),fieldLabelId:"oidcCibaGrant"})})]})})})]})}),e(L,{id:"keyForCodeExchange",label:a("keyForCodeExchange"),labelIcon:a("keyForCodeExchangeHelp"),controller:{defaultValue:""},name:i("attributes.pkce.code.challenge.method"),options:[{key:"",value:a("choose")},{key:"S256",value:"S256"},{key:"plain",value:"plain"}]}),p(f.JWTAuthorizationGrant)&&S&&G.toString()==="true"&&e(_,{name:i("attributes.oauth2.jwt.authorization.grant.idp"),label:a("jwtAuthorizationGrantIdp"),helpText:a("jwtAuthorizationGrantIdpHelp"),convertToName:i,identityProviderType:O.JWT_AUTHORIZATION_GRANT,isDisabled:o,realmOnly:!0,stringify:!0}),p(f.DPoP)&&e(I,{name:i("attributes.dpop.bound.access.tokens"),label:a("oAuthDPoP"),labelIcon:a("oAuthDPoPHelp"),stringify:!0})]}),A==="saml"&&l(z,{children:[e(I,{name:i("attributes.saml.encrypt"),label:a("encryptAssertions"),labelIcon:a("encryptAssertionsHelp")}),e(I,{name:i("attributes.saml.client.signature"),label:a("clientSignature"),labelIcon:a("clientSignatureHelp")})]})]})},Y=({hasConfigureAccess:k})=>{const{t:r}=T();return l(E,{role:"manage-clients",fineGrainedAccess:k,unWrap:!0,children:[e(y,{name:"clientId",label:r("clientId"),labelIcon:r("clientIdHelp"),rules:{required:r("required")}}),e(y,{name:"name",label:r("name"),labelIcon:r("clientNameHelp")}),e(N,{name:"description",label:r("description"),labelIcon:r("clientDescriptionHelp"),rules:{maxLength:{value:255,message:r("maxLength",{length:255})}}}),e(I,{name:"alwaysDisplayInConsole",label:r("alwaysDisplayInUI"),labelIcon:r("alwaysDisplayInUIHelp")})]})};export{Y as C,Q as a};
//# sourceMappingURL=ClientDescription-CbsY-rm4.js.map
