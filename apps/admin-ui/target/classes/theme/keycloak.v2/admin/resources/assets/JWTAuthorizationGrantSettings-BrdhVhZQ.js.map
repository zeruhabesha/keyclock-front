{"version":3,"file":"JWTAuthorizationGrantSettings-BrdhVhZQ.js","sources":["../../../../../../../src/identity-providers/add/JWTAuthorizationGrantAssertionSettings.tsx","../../../../../../../src/identity-providers/add/JWTAuthorizationGrantSettings.tsx"],"sourcesContent":["import { useTranslation } from \"react-i18next\";\r\nimport { DefaultSwitchControl } from \"../../components/SwitchControl\";\r\nimport { FormGroup } from \"@patternfly/react-core\";\r\nimport { useFormContext, Controller } from \"react-hook-form\";\r\nimport { TimeSelector } from \"../../components/time-selector/TimeSelector\";\r\nimport { SelectControl, HelpItem } from \"@keycloak/keycloak-ui-shared\";\r\nimport { sortProviders } from \"../../util\";\r\nimport { useServerInfo } from \"../../context/server-info/ServerInfoProvider\";\r\n\r\nexport const JWTAuthorizationGrantAssertionSettings = () => {\r\n  const { t } = useTranslation();\r\n  const providers = useServerInfo().providers!.signature.providers;\r\n  const { control } = useFormContext();\r\n  return (\r\n    <>\r\n      <DefaultSwitchControl\r\n        name=\"config.jwtAuthorizationGrantAssertionReuseAllowed\"\r\n        label={t(\"jwtAuthorizationGrantAssertionReuseAllowed\")}\r\n        labelIcon={t(\"jwtAuthorizationGrantAssertionReuseAllowedHelp\")}\r\n        stringify\r\n      />\r\n\r\n      <FormGroup\r\n        label={t(\"jwtAuthorizationGrantMaxAllowedAssertionExpiration\")}\r\n        fieldId=\"jwtAuthorizationGrantMaxAllowedAssertionExpiration\"\r\n        labelIcon={\r\n          <HelpItem\r\n            helpText={t(\r\n              \"jwtAuthorizationGrantMaxAllowedAssertionExpirationHelp\",\r\n            )}\r\n            fieldLabelId=\"jwtAuthorizationGrantMaxAllowedAssertionExpirationHelp\"\r\n          />\r\n        }\r\n      >\r\n        <Controller\r\n          name=\"config.jwtAuthorizationGrantMaxAllowedAssertionExpirationHelp\"\r\n          defaultValue={300}\r\n          control={control}\r\n          render={({ field }) => (\r\n            <TimeSelector\r\n              data-testid=\"jwtAuthorizationGrantMaxAllowedAssertionExpirationHelp\"\r\n              value={field.value!}\r\n              onChange={field.onChange}\r\n              units={[\"second\", \"minute\", \"hour\"]}\r\n            />\r\n          )}\r\n        />\r\n      </FormGroup>\r\n      <SelectControl\r\n        name=\"config.jwtAuthorizationGrantAssertionSignatureAlg\"\r\n        label={t(\"jwtAuthorizationGrantAssertionSignatureAlg\")}\r\n        labelIcon={t(\"jwtAuthorizationGrantAssertionSignatureAlgHelp\")}\r\n        options={[\r\n          { key: \"\", value: t(\"algorithmNotSpecified\") },\r\n          ...sortProviders(providers).map((p) => ({ key: p, value: p })),\r\n        ]}\r\n        controller={{\r\n          defaultValue: \"\",\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n};\r\n","import { useTranslation } from \"react-i18next\";\r\nimport { TextControl, NumberControl } from \"@keycloak/keycloak-ui-shared\";\r\nimport { JWTAuthorizationGrantAssertionSettings } from \"./JWTAuthorizationGrantAssertionSettings\";\r\nimport { Divider } from \"@patternfly/react-core\";\r\nimport { JwksSettings } from \"./JwksSettings\";\r\n\r\nexport default function JWTAuthorizationGrantSettings() {\r\n  const { t } = useTranslation();\r\n  return (\r\n    <>\r\n      <TextControl\r\n        name=\"alias\"\r\n        label={t(\"alias\")}\r\n        labelIcon={t(\"aliasHelp\")}\r\n        rules={{\r\n          required: t(\"required\"),\r\n        }}\r\n      />\r\n      <TextControl\r\n        name=\"config.issuer\"\r\n        label={t(\"issuer\")}\r\n        rules={{\r\n          required: t(\"required\"),\r\n        }}\r\n      />\r\n      <JwksSettings />\r\n      <JWTAuthorizationGrantAssertionSettings />\r\n      <NumberControl\r\n        name=\"config.jwtAuthorizationGrantAllowedClockSkew\"\r\n        label={t(\"allowedClockSkew\")}\r\n        labelIcon={t(\"allowedClockSkewHelp\")}\r\n        controller={{ defaultValue: 0, rules: { min: 0, max: 2147483 } }}\r\n      />\r\n      <Divider />\r\n    </>\r\n  );\r\n}\r\n"],"names":["JWTAuthorizationGrantAssertionSettings","t","useTranslation","providers","useServerInfo","control","useFormContext","jsxs","Fragment","jsx","DefaultSwitchControl","FormGroup","HelpItem","Controller","field","TimeSelector","SelectControl","sortProviders","p","JWTAuthorizationGrantSettings","TextControl","JwksSettings","NumberControl","Divider"],"mappings":"8TASO,MAAMA,EAAyC,IAAM,CAC1D,KAAM,CAAE,EAAAC,CAAA,EAAMC,EAAA,EACRC,EAAYC,EAAA,EAAgB,UAAW,UAAU,UACjD,CAAE,QAAAC,CAAA,EAAYC,EAAA,EACpB,OACEC,EAAAC,EAAA,CACE,SAAA,CAAAC,EAACC,EAAA,CACC,KAAK,oDACL,MAAOT,EAAE,4CAA4C,EACrD,UAAWA,EAAE,gDAAgD,EAC7D,UAAS,EAAA,CAAA,EAGXQ,EAACE,EAAA,CACC,MAAOV,EAAE,oDAAoD,EAC7D,QAAQ,qDACR,UACEQ,EAACG,EAAA,CACC,SAAUX,EACR,wDAAA,EAEF,aAAa,wDAAA,CAAA,EAIjB,SAAAQ,EAACI,EAAA,CACC,KAAK,gEACL,aAAc,IACd,QAAAR,EACA,OAAQ,CAAC,CAAE,MAAAS,CAAA,IACTL,EAACM,EAAA,CACC,cAAY,yDACZ,MAAOD,EAAM,MACb,SAAUA,EAAM,SAChB,MAAO,CAAC,SAAU,SAAU,MAAM,CAAA,CAAA,CACpC,CAAA,CAEJ,CAAA,EAEFL,EAACO,EAAA,CACC,KAAK,oDACL,MAAOf,EAAE,4CAA4C,EACrD,UAAWA,EAAE,gDAAgD,EAC7D,QAAS,CACP,CAAE,IAAK,GAAI,MAAOA,EAAE,uBAAuB,CAAA,EAC3C,GAAGgB,EAAcd,CAAS,EAAE,IAAKe,IAAO,CAAE,IAAKA,EAAG,MAAOA,GAAI,CAAA,EAE/D,WAAY,CACV,aAAc,EAAA,CAChB,CAAA,CACF,EACF,CAEJ,ECxDA,SAAwBC,GAAgC,CACtD,KAAM,CAAE,EAAAlB,CAAA,EAAMC,EAAA,EACd,OACEK,EAAAC,EAAA,CACE,SAAA,CAAAC,EAACW,EAAA,CACC,KAAK,QACL,MAAOnB,EAAE,OAAO,EAChB,UAAWA,EAAE,WAAW,EACxB,MAAO,CACL,SAAUA,EAAE,UAAU,CAAA,CACxB,CAAA,EAEFQ,EAACW,EAAA,CACC,KAAK,gBACL,MAAOnB,EAAE,QAAQ,EACjB,MAAO,CACL,SAAUA,EAAE,UAAU,CAAA,CACxB,CAAA,IAEDoB,EAAA,EAAa,IACbrB,EAAA,EAAuC,EACxCS,EAACa,EAAA,CACC,KAAK,+CACL,MAAOrB,EAAE,kBAAkB,EAC3B,UAAWA,EAAE,sBAAsB,EACnC,WAAY,CAAE,aAAc,EAAG,MAAO,CAAE,IAAK,EAAG,IAAK,OAAA,CAAQ,CAAE,CAAA,IAEhEsB,EAAA,CAAA,CAAQ,CAAA,EACX,CAEJ"}