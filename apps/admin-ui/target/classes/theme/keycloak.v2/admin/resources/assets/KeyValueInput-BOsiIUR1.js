import{jsxs as s,Fragment as x,jsx as e}from"react/jsx-runtime";import{Fragment as q}from"react";import{a as C,a0 as P,bn as S,N as T,bQ as w,bR as i,a3 as y,dD as $,dE as g,g as d,a6 as G,ae as b,ab as R,af as j,ag as B}from"./main-o1hptXRo.js";import{A as H,a as L}from"./ActionListItem-Cy-NQlq4.js";const Q=({name:r,label:o="attributes",isDisabled:l=!1,KeyComponent:n,ValueComponent:u})=>{const{t:a}=C(),{control:p,register:v,formState:{errors:E}}=P(),{fields:h,append:A,remove:N}=S({control:p,name:r}),m=()=>A({key:"",value:""}),_=T({name:r,control:p,defaultValue:[]});return h.length>0?s(x,{children:[s(w,{hasGutter:!0,children:[e(i,{className:"pf-v5-c-form__label",span:5,children:e("span",{className:"pf-v5-c-form__label-text",children:a("key")})}),e(i,{className:"pf-v5-c-form__label",span:7,children:e("span",{className:"pf-v5-c-form__label-text",children:a("value")})}),h.map((I,t)=>{const c=E[r]?.[t],f=!!c?.key,k=!!c?.value||!!c?.message,F=c?.message||a("valueError");return s(q,{children:[s(i,{span:5,children:[n?e(n,{name:`${r}.${t}.key`}):e(y,{placeholder:a("keyPlaceholder"),"aria-label":a("key"),"data-testid":`${r}-key`,...v(`${r}.${t}.key`,{required:!0}),validated:f?"error":"default",isRequired:!0,isDisabled:l}),f&&e($,{children:e(g,{variant:"error",children:a("keyError")})})]}),s(i,{span:5,children:[u?e(u,{name:`${r}.${t}.value`,keyValue:_[t]?.key}):e(y,{placeholder:a("valuePlaceholder"),"aria-label":a("value"),"data-testid":`${r}-value`,...v(`${r}.${t}.value`,{required:!0}),validated:k?"error":"default",isRequired:!0,isDisabled:l}),k&&e($,{children:e(g,{variant:"error",children:F})})]}),e(i,{span:2,children:e(d,{variant:"link",title:a("removeAttribute"),onClick:()=>N(t),"data-testid":`${r}-remove`,isDisabled:l,children:e(G,{})})})]},I.id)})]}),e(H,{children:e(L,{children:e(d,{"data-testid":`${r}-add-row`,className:"pf-v5-u-px-0 pf-v5-u-mt-sm",variant:"link",icon:e(b,{}),onClick:m,isDisabled:l,children:a("addAttribute",{label:o})})})})]}):s(R,{"data-testid":`${r}-empty-state`,className:"pf-v5-u-p-0",variant:"xs",children:[e(j,{children:a("missingAttributes",{label:o})}),e(B,{children:e(d,{"data-testid":`${r}-add-row`,variant:"link",icon:e(b,{}),size:"sm",onClick:m,isDisabled:l,children:a("addAttribute",{label:o})})})]})};export{Q as K};
//# sourceMappingURL=KeyValueInput-BOsiIUR1.js.map
