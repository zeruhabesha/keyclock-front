import{jsxs as d,Fragment as u,jsx as a}from"react/jsx-runtime";import{u as V,a as y,c as L,b as _,_ as A,d as x,a0 as S,B as P,o as K,eL as w,R as M,D as N,aE as W,H as z,I as $,N as B,U as m,X as U}from"./main-o1hptXRo.js";import{u as p}from"./ConfirmDialog-BkU7melV.js";import{V as g}from"./ViewHeader-BDBsroi3.js";import{F as Y}from"./FormAccess-BnhQnYb9.js";import{i as f}from"./isEqual-B7qkGgF1.js";const Q=({provider:n,save:e,noDivider:i=!1,dropdownItems:o=[]})=>{const{adminClient:l}=V(),{t:s}=y(),{id:r}=L(),t=_(),{addAlert:b,addError:C}=A(),{realm:D}=x(),{control:E,setValue:k}=S(),[T,F]=p({titleKey:"userFedDisableConfirmTitle",messageKey:"userFedDisableConfirm",continueButtonLabel:"disable",onConfirm:()=>{k("config.enabled[0]","false"),e()}}),[H,I]=p({titleKey:"userFedDeleteConfirmTitle",messageKey:"userFedDeleteConfirm",continueButtonLabel:"delete",continueButtonVariant:P.danger,onConfirm:async()=>{try{await l.components.del({id:r}),b(s("userFedDeletedSuccess"),K.success),t(w({realm:D}),{replace:!0})}catch(c){C("userFedDeleteError",c)}}});return d(u,{children:[a(F,{}),a(I,{}),a(M,{name:"config.enabled",defaultValue:["true"],control:E,render:({field:c})=>r?a(g,{divider:!i,titleKey:n,dropdownItems:[...o,a(N,{onClick:()=>H(),"data-testid":"delete-cmd",children:s("deleteProvider")},"delete")],isEnabled:c.value?.[0]==="true"||c.value==="true",onToggle:h=>{h?(c.onChange([h.toString()]),e()):T()}}):a(g,{titleKey:s("addProvider",{provider:n,count:1})})})]})},O=({title:n,description:e,showDescription:i=!1})=>d(u,{children:[a(W,{size:"xl",headingLevel:"h2",className:i?"kc-wizard-section-header__title--has-description":"kc-wizard-section-header__title",children:n}),i&&a(z,{className:"kc-wizard-section-header__description",children:a($,{children:e})})]}),v=({form:n})=>{const{t:e}=y(),i=B({control:n.control,name:"config.cachePolicy"}),o=[];let l="";for(let t=0;t<24;t++)t<10?l=`0${t}`:l=`${t}`,o.push({key:`${t}`,value:l});const s=[];let r="";for(let t=0;t<60;t++)t<10?r=`0${t}`:r=`${t}`,s.push({key:`${t}`,value:r});return d(u,{children:[a(m,{id:"kc-cache-policy",name:"config.cachePolicy",label:e("cachePolicy"),labelIcon:e("cachePolicyHelp"),controller:{defaultValue:["DEFAULT"]},"aria-label":e("selectCacheType"),options:["DEFAULT","EVICT_DAILY","EVICT_WEEKLY","MAX_LIFESPAN","NO_CACHE"]}),f(i,["EVICT_WEEKLY"])?a(m,{id:"kc-eviction-day",name:"config.evictionDay[0]",label:e("evictionDay"),labelIcon:e("evictionDayHelp"),controller:{defaultValue:"1"},"aria-label":e("selectEvictionDay"),options:[{key:"1",value:e("Sunday")},{key:"2",value:e("Monday")},{key:"3",value:e("Tuesday")},{key:"4",value:e("Wednesday")},{key:"5",value:e("Thursday")},{key:"6",value:e("Friday")},{key:"7",value:e("Saturday")}]}):null,f(i,["EVICT_DAILY"])||f(i,["EVICT_WEEKLY"])?d(u,{children:[a(m,{id:"kc-eviction-hour",name:"config.evictionHour",label:e("evictionHour"),labelIcon:e("evictionHourHelp"),controller:{defaultValue:["0"]},"aria-label":e("selectEvictionHour"),options:o}),a(m,{id:"kc-eviction-minute",name:"config.evictionMinute",label:e("evictionMinute"),labelIcon:e("evictionMinuteHelp"),controller:{defaultValue:["0"]},"aria-label":e("selectEvictionMinute"),options:s})]}):null,f(i,["MAX_LIFESPAN"])?a(U,{"data-testid":"kerberos-cache-lifespan",name:"config.maxLifespan[0]",label:e("maxLifespan"),labelIcon:e("maxLifespanHelp"),unit:e("ms"),controller:{defaultValue:0,rules:{min:0}}}):null]})},Z=({form:n,showSectionHeading:e=!1,showSectionDescription:i=!1,unWrap:o=!1})=>{const{t:l}=y();return d(u,{children:[e&&a(O,{title:l("cacheSettings"),description:l("cacheSettingsDescription"),showDescription:i}),o?a(v,{form:n}):a(Y,{role:"manage-realm",isHorizontal:!0,children:a(v,{form:n})})]})};export{Q as H,Z as S,O as W};
//# sourceMappingURL=SettingsCache-Cam5Obyz.js.map
