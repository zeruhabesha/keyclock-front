import{jsx as n,jsxs as A,Fragment as F}from"react/jsx-runtime";import{u as y,a as I,a0 as O,y as P,p as R,O as T,R as j,bp as k,bq as z,a7 as G,W as L,ak as w}from"./main-o1hptXRo.js";import{useState as c}from"react";import{u as H}from"./useIsAdminPermissionsClient-BY-AG4cQ.js";const B=({clientId:p,resourceTypeScopes:r})=>{const{adminClient:S}=y(),{t:a}=I(),{control:f,formState:{errors:C}}=O(),[x,b]=c(!1),[m,q]=c(),[u,d]=c(""),o=H(p);P(()=>{const e={id:p,first:0,max:20,deep:!1,name:u};return S.clients.listAllScopes(e)},q,[u]);const h=e=>e.map((t,s)=>n(w,{value:t,children:typeof t=="string"?t:t.name},s));if(!m&&!r)return n(R,{});const g=o&&r?r:m?.map(e=>e.name);return n(T,{label:a("authorizationScopes"),labelIcon:n(L,{helpText:a("clientScopesHelp"),fieldLabelId:"scopes"}),fieldId:"scopes",isRequired:o,children:n(j,{name:"scopes",defaultValue:[],control:f,rules:o?{required:a("requiredField")}:{},render:({field:e})=>{const t=e.value.map(s=>s.name);return A(F,{children:[n(k,{toggleId:"scopes",variant:z.typeaheadMulti,chipGroupProps:{numChips:3,expandedText:a("hide"),collapsedText:a("showRemaining")},onToggle:s=>b(s),isOpen:x,selections:t,onFilter:s=>(d(s),h(g||[])),onSelect:s=>{const i=typeof s=="string"?s:s.name,v=e.value.find(l=>l.name===i)?e.value.filter(l=>l.name!==i):[...e.value,{name:i}];e.onChange(v)},onClear:()=>{d(""),e.onChange([])},typeAheadAriaLabel:a("authorizationScopes"),children:h(g||[])}),o&&C.scopes&&n(G,{message:a("required")})]})}})})};export{B as S};
//# sourceMappingURL=ScopePicker-Ba7ikc0T.js.map
