import{jsx as t,jsxs as b,Fragment as v}from"react/jsx-runtime";import{u as w,a as y,_ as G,b as A,d as E,j as F,y as P,p as j,P as x,o as N,bT as R,z as V,G as z}from"./main-o1hptXRo.js";import{useState as c}from"react";import{V as M}from"./ViewHeader-BDBsroi3.js";import{U as S,t as T}from"./UserForm-BECrTAgu.js";/* empty css                     */import"react-dom";import"./SwitchControl-CU1bUhmR.js";import"./FormAccess-BnhQnYb9.js";import"./GroupPickerDialog-U3luvxlw.js";import"./DataListItemRow-B_0B-ko6.js";import"./useFormatDate-CuGjRZ4j.js";import"./CopyToClipboardButton-Cl576S4v.js";function X(){const{adminClient:o}=w(),{t:r}=y(),{addAlert:p,addError:u}=G(),l=A(),{realm:i,realmRepresentation:n}=E(),m=F({mode:"onChange"}),[f,g]=c([]),[d,U]=c();P(()=>o.users.getProfileMetadata({realm:i}),a=>{if(!a)throw new Error(r("notFound"));U(a)},[]);const h=async a=>{try{const e=await o.users.create({...T(a),groups:f.map(s=>s.path),enabled:!0});p(r("userCreated"),N.success),l(R({id:e.id,realm:i,tab:"settings"}))}catch(e){V(e)?z(e,m.setError,((s,C)=>r(s,C))):u("userCreateError",e)}};return!n||!d?t(j,{}):b(v,{children:[t(M,{titleKey:r("createUser"),className:"kc-username-view-header"}),t(x,{variant:"light",children:t(S,{form:m,realm:n,userProfileMetadata:d,onGroupsUpdate:g,save:h})})]})}export{X as default};
//# sourceMappingURL=CreateUser-ClGbe2Q7.js.map
