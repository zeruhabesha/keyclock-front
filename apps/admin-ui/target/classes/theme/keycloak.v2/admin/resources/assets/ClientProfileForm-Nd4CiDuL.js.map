{"version":3,"file":"ClientProfileForm-Nd4CiDuL.js","sources":["../../../../../../../src/realm-settings/ClientProfileForm.tsx"],"sourcesContent":["import type ClientProfileRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/clientProfileRepresentation\";\r\nimport type ClientProfilesRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/clientProfilesRepresentation\";\r\nimport {\r\n  HelpItem,\r\n  TextAreaControl,\r\n  TextControl,\r\n  useAlerts,\r\n  useFetch,\r\n} from \"@keycloak/keycloak-ui-shared\";\r\nimport {\r\n  ActionGroup,\r\n  AlertVariant,\r\n  Button,\r\n  ButtonVariant,\r\n  DataList,\r\n  DataListCell,\r\n  DataListItem,\r\n  DataListItemCells,\r\n  DataListItemRow,\r\n  Divider,\r\n  DropdownItem,\r\n  Flex,\r\n  FlexItem,\r\n  Label,\r\n  PageSection,\r\n  Text,\r\n  TextVariants,\r\n} from \"@patternfly/react-core\";\r\nimport { PlusCircleIcon, TrashIcon } from \"@patternfly/react-icons\";\r\nimport { Fragment, useMemo, useState } from \"react\";\r\nimport { FormProvider, useFieldArray, useForm } from \"react-hook-form\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useAdminClient } from \"../admin-client\";\r\nimport { useConfirmDialog } from \"../components/confirm-dialog/ConfirmDialog\";\r\nimport { FormAccess } from \"../components/form/FormAccess\";\r\nimport { KeycloakSpinner } from \"@keycloak/keycloak-ui-shared\";\r\nimport { ViewHeader } from \"../components/view-header/ViewHeader\";\r\nimport { useServerInfo } from \"../context/server-info/ServerInfoProvider\";\r\nimport { useParams } from \"../utils/useParams\";\r\nimport { toAddExecutor } from \"./routes/AddExecutor\";\r\nimport { toClientPolicies } from \"./routes/ClientPolicies\";\r\nimport { ClientProfileParams, toClientProfile } from \"./routes/ClientProfile\";\r\nimport { toExecutor } from \"./routes/Executor\";\r\n\r\nimport \"./realm-settings-section.css\";\r\n\r\ntype ClientProfileForm = Required<ClientProfileRepresentation>;\r\n\r\nconst defaultValues: ClientProfileForm = {\r\n  name: \"\",\r\n  description: \"\",\r\n  executors: [],\r\n};\r\n\r\nexport default function ClientProfileForm() {\r\n  const { adminClient } = useAdminClient();\r\n\r\n  const { t } = useTranslation();\r\n  const navigate = useNavigate();\r\n  const form = useForm<ClientProfileForm>({\r\n    defaultValues,\r\n    mode: \"onChange\",\r\n  });\r\n\r\n  const {\r\n    handleSubmit,\r\n    setValue,\r\n    getValues,\r\n    formState: { isDirty },\r\n    control,\r\n  } = form;\r\n\r\n  const { fields: profileExecutors, remove } = useFieldArray({\r\n    name: \"executors\",\r\n    control,\r\n  });\r\n\r\n  const { addAlert, addError } = useAlerts();\r\n  const [profiles, setProfiles] = useState<ClientProfilesRepresentation>();\r\n  const [isGlobalProfile, setIsGlobalProfile] = useState(false);\r\n  const { realm, profileName } = useParams<ClientProfileParams>();\r\n  const serverInfo = useServerInfo();\r\n  const executorTypes = useMemo(\r\n    () =>\r\n      serverInfo.componentTypes?.[\r\n        \"org.keycloak.services.clientpolicy.executor.ClientPolicyExecutorProvider\"\r\n      ],\r\n    [],\r\n  );\r\n  const [executorToDelete, setExecutorToDelete] = useState<{\r\n    idx: number;\r\n    name: string;\r\n  }>();\r\n  const editMode = profileName ? true : false;\r\n  const [key, setKey] = useState(0);\r\n  const reload = () => setKey(key + 1);\r\n\r\n  useFetch(\r\n    () =>\r\n      adminClient.clientPolicies.listProfiles({ includeGlobalProfiles: true }),\r\n    (profiles) => {\r\n      setProfiles({\r\n        globalProfiles: profiles.globalProfiles,\r\n        profiles: profiles.profiles?.filter((p) => p.name !== profileName),\r\n      });\r\n      const globalProfile = profiles.globalProfiles?.find(\r\n        (p) => p.name === profileName,\r\n      );\r\n      const profile = profiles.profiles?.find((p) => p.name === profileName);\r\n      setIsGlobalProfile(globalProfile !== undefined);\r\n      setValue(\"name\", globalProfile?.name ?? profile?.name ?? \"\");\r\n      setValue(\r\n        \"description\",\r\n        globalProfile?.description ?? profile?.description ?? \"\",\r\n      );\r\n      setValue(\r\n        \"executors\",\r\n        globalProfile?.executors ?? profile?.executors ?? [],\r\n      );\r\n    },\r\n    [key],\r\n  );\r\n\r\n  const save = async (form: ClientProfileForm) => {\r\n    const updatedProfiles = form;\r\n\r\n    try {\r\n      await adminClient.clientPolicies.createProfiles({\r\n        ...profiles,\r\n        profiles: [...(profiles?.profiles || []), updatedProfiles],\r\n      });\r\n\r\n      addAlert(\r\n        editMode\r\n          ? t(\"updateClientProfileSuccess\")\r\n          : t(\"createClientProfileSuccess\"),\r\n        AlertVariant.success,\r\n      );\r\n\r\n      navigate(toClientProfile({ realm, profileName: form.name }));\r\n    } catch (error) {\r\n      addError(\r\n        editMode ? \"updateClientProfileError\" : \"createClientProfileError\",\r\n        error,\r\n      );\r\n    }\r\n  };\r\n\r\n  const [toggleDeleteDialog, DeleteConfirm] = useConfirmDialog({\r\n    titleKey: executorToDelete?.name!\r\n      ? t(\"deleteExecutorProfileConfirmTitle\")\r\n      : t(\"deleteClientProfileConfirmTitle\"),\r\n    messageKey: executorToDelete?.name!\r\n      ? t(\"deleteExecutorProfileConfirm\", {\r\n          executorName: executorToDelete.name!,\r\n        })\r\n      : t(\"deleteClientProfileConfirm\", {\r\n          profileName,\r\n        }),\r\n    continueButtonLabel: t(\"delete\"),\r\n    continueButtonVariant: ButtonVariant.danger,\r\n\r\n    onConfirm: async () => {\r\n      if (executorToDelete?.name!) {\r\n        remove(executorToDelete.idx);\r\n        try {\r\n          await adminClient.clientPolicies.createProfiles({\r\n            ...profiles,\r\n            profiles: [...(profiles!.profiles || []), getValues()],\r\n          });\r\n          addAlert(t(\"deleteExecutorSuccess\"), AlertVariant.success);\r\n          navigate(toClientProfile({ realm, profileName }));\r\n        } catch (error) {\r\n          addError(\"deleteExecutorError\", error);\r\n        }\r\n      } else {\r\n        try {\r\n          await adminClient.clientPolicies.createProfiles(profiles);\r\n          addAlert(t(\"deleteClientSuccess\"), AlertVariant.success);\r\n          navigate(toClientPolicies({ realm, tab: \"profiles\" }));\r\n        } catch (error) {\r\n          addError(\"deleteClientError\", error);\r\n        }\r\n      }\r\n    },\r\n  });\r\n\r\n  if (!profiles) {\r\n    return <KeycloakSpinner />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <DeleteConfirm />\r\n      <ViewHeader\r\n        titleKey={editMode ? profileName : t(\"newClientProfile\")}\r\n        badges={[\r\n          {\r\n            id: \"global-client-profile-badge\",\r\n            text: isGlobalProfile ? (\r\n              <Label color=\"blue\">{t(\"global\")}</Label>\r\n            ) : (\r\n              \"\"\r\n            ),\r\n          },\r\n        ]}\r\n        divider\r\n        dropdownItems={\r\n          editMode && !isGlobalProfile\r\n            ? [\r\n                <DropdownItem\r\n                  key=\"delete\"\r\n                  value=\"delete\"\r\n                  onClick={toggleDeleteDialog}\r\n                  data-testid=\"deleteClientProfileDropdown\"\r\n                >\r\n                  {t(\"deleteClientProfile\")}\r\n                </DropdownItem>,\r\n              ]\r\n            : undefined\r\n        }\r\n      />\r\n      <PageSection variant=\"light\">\r\n        <FormProvider {...form}>\r\n          <FormAccess isHorizontal role=\"view-realm\" className=\"pf-v5-u-mt-lg\">\r\n            <TextControl\r\n              name=\"name\"\r\n              label={t(\"newClientProfileName\")}\r\n              helperText={t(\"createClientProfileNameHelperText\")}\r\n              readOnly={isGlobalProfile}\r\n              rules={{\r\n                required: t(\"required\"),\r\n              }}\r\n            />\r\n            <TextAreaControl\r\n              name=\"description\"\r\n              label={t(\"description\")}\r\n              readOnly={isGlobalProfile}\r\n            />\r\n            <ActionGroup>\r\n              {!isGlobalProfile && (\r\n                <Button\r\n                  variant=\"primary\"\r\n                  onClick={() => handleSubmit(save)()}\r\n                  data-testid=\"saveCreateProfile\"\r\n                  isDisabled={!isDirty}\r\n                >\r\n                  {t(\"save\")}\r\n                </Button>\r\n              )}\r\n              {editMode && !isGlobalProfile && (\r\n                <Button\r\n                  id={\"reloadProfile\"}\r\n                  variant=\"link\"\r\n                  data-testid={\"reloadProfile\"}\r\n                  isDisabled={!isDirty}\r\n                  onClick={reload}\r\n                >\r\n                  {t(\"reload\")}\r\n                </Button>\r\n              )}\r\n              {!editMode && !isGlobalProfile && (\r\n                <Button\r\n                  id={\"cancelCreateProfile\"}\r\n                  variant=\"link\"\r\n                  component={(props) => (\r\n                    <Link\r\n                      {...props}\r\n                      to={toClientPolicies({ realm, tab: \"profiles\" })}\r\n                    />\r\n                  )}\r\n                  data-testid={\"cancelCreateProfile\"}\r\n                >\r\n                  {t(\"cancel\")}\r\n                </Button>\r\n              )}\r\n            </ActionGroup>\r\n            {editMode && (\r\n              <>\r\n                <Flex>\r\n                  <FlexItem>\r\n                    <Text className=\"kc-executors\" component={TextVariants.h1}>\r\n                      {t(\"executors\")}\r\n                      <HelpItem\r\n                        helpText={t(\"executorsHelpText\")}\r\n                        fieldLabelId=\"executors\"\r\n                      />\r\n                    </Text>\r\n                  </FlexItem>\r\n                  {!isGlobalProfile && (\r\n                    <FlexItem align={{ default: \"alignRight\" }}>\r\n                      <Button\r\n                        id=\"addExecutor\"\r\n                        component={(props) => (\r\n                          <Link\r\n                            {...props}\r\n                            to={toAddExecutor({\r\n                              realm,\r\n                              profileName,\r\n                            })}\r\n                          />\r\n                        )}\r\n                        variant=\"link\"\r\n                        className=\"kc-addExecutor\"\r\n                        data-testid=\"addExecutor\"\r\n                        icon={<PlusCircleIcon />}\r\n                      >\r\n                        {t(\"addExecutor\")}\r\n                      </Button>\r\n                    </FlexItem>\r\n                  )}\r\n                </Flex>\r\n                {profileExecutors.length > 0 && (\r\n                  <>\r\n                    <DataList aria-label={t(\"executors\")} isCompact>\r\n                      {profileExecutors.map((executor, idx) => (\r\n                        <DataListItem\r\n                          aria-labelledby={\"executors-list-item\"}\r\n                          key={executor.executor}\r\n                          id={executor.executor}\r\n                        >\r\n                          <DataListItemRow data-testid=\"executors-list-row\">\r\n                            <DataListItemCells\r\n                              dataListCells={[\r\n                                <DataListCell\r\n                                  key=\"executor\"\r\n                                  data-testid=\"executor-type\"\r\n                                >\r\n                                  {executor.configuration ? (\r\n                                    <Button\r\n                                      component={(props) => (\r\n                                        <Link\r\n                                          {...props}\r\n                                          to={toExecutor({\r\n                                            realm,\r\n                                            profileName,\r\n                                            executorName: executor.executor!,\r\n                                          })}\r\n                                        />\r\n                                      )}\r\n                                      variant=\"link\"\r\n                                      data-testid=\"editExecutor\"\r\n                                    >\r\n                                      {executor.executor}\r\n                                    </Button>\r\n                                  ) : (\r\n                                    <span className=\"kc-unclickable-executor\">\r\n                                      {executor.executor}\r\n                                    </span>\r\n                                  )}\r\n                                  {executorTypes\r\n                                    ?.filter(\r\n                                      (type) => type.id === executor.executor,\r\n                                    )\r\n                                    .map((type) => (\r\n                                      <Fragment key={type.id}>\r\n                                        <HelpItem\r\n                                          key={type.id}\r\n                                          helpText={type.helpText}\r\n                                          fieldLabelId=\"executorTypeTextHelpText\"\r\n                                        />\r\n                                        {!isGlobalProfile && (\r\n                                          <Button\r\n                                            data-testid={`deleteExecutor-${type.id}`}\r\n                                            variant=\"link\"\r\n                                            isInline\r\n                                            icon={\r\n                                              <TrashIcon\r\n                                                key={`executorType-trash-icon-${type.id}`}\r\n                                                className=\"kc-executor-trash-icon\"\r\n                                              />\r\n                                            }\r\n                                            onClick={() => {\r\n                                              toggleDeleteDialog();\r\n                                              setExecutorToDelete({\r\n                                                idx: idx,\r\n                                                name: type.id,\r\n                                              });\r\n                                            }}\r\n                                            aria-label={t(\"remove\")}\r\n                                          />\r\n                                        )}\r\n                                      </Fragment>\r\n                                    ))}\r\n                                </DataListCell>,\r\n                              ]}\r\n                            />\r\n                          </DataListItemRow>\r\n                        </DataListItem>\r\n                      ))}\r\n                    </DataList>\r\n                    {isGlobalProfile && (\r\n                      <Button\r\n                        id=\"backToClientPolicies\"\r\n                        component={(props) => (\r\n                          <Link\r\n                            {...props}\r\n                            to={toClientPolicies({ realm, tab: \"profiles\" })}\r\n                          />\r\n                        )}\r\n                        variant=\"primary\"\r\n                        className=\"kc-backToPolicies\"\r\n                        data-testid=\"backToClientPolicies\"\r\n                      >\r\n                        {t(\"back\")}\r\n                      </Button>\r\n                    )}\r\n                  </>\r\n                )}\r\n                {profileExecutors.length === 0 && (\r\n                  <>\r\n                    <Divider />\r\n                    <Text\r\n                      className=\"kc-emptyExecutors\"\r\n                      component={TextVariants.h2}\r\n                    >\r\n                      {t(\"emptyExecutors\")}\r\n                    </Text>\r\n                  </>\r\n                )}\r\n              </>\r\n            )}\r\n          </FormAccess>\r\n        </FormProvider>\r\n      </PageSection>\r\n    </>\r\n  );\r\n}\r\n"],"names":["defaultValues","ClientProfileForm","adminClient","useAdminClient","useTranslation","navigate","useNavigate","form","useForm","handleSubmit","setValue","getValues","isDirty","control","profileExecutors","remove","useFieldArray","addAlert","addError","useAlerts","profiles","setProfiles","useState","isGlobalProfile","setIsGlobalProfile","realm","profileName","useParams","serverInfo","useServerInfo","executorTypes","useMemo","executorToDelete","setExecutorToDelete","editMode","key","setKey","reload","useFetch","p","globalProfile","profile","save","updatedProfiles","AlertVariant","toClientProfile","error","toggleDeleteDialog","DeleteConfirm","useConfirmDialog","ButtonVariant","toClientPolicies","jsxs","Fragment","jsx","ViewHeader","Label","DropdownItem","PageSection","FormProvider","FormAccess","TextControl","TextAreaControl","ActionGroup","Button","props","Link","Flex","FlexItem","Text","TextVariants","HelpItem","toAddExecutor","PlusCircleIcon","DataList","executor","idx","DataListItem","DataListItemRow","DataListItemCells","DataListCell","toExecutor","type","TrashIcon","Divider","KeycloakSpinner"],"mappings":"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"}