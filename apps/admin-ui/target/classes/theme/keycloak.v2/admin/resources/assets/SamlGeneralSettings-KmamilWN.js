import{jsx as i,jsxs as m,Fragment as d}from"react/jsx-runtime";import{useState as I}from"react";import{a as g,a0 as S,N as r,l as D,Q as n,U as c,aO as y,X as b,d as h,c1 as k,O as H,c2 as R,W as U}from"./main-o1hptXRo.js";import{D as a}from"./SwitchControl-CU1bUhmR.js";/* empty css                           */import{E}from"./ExpandableSection-wnspFC3f.js";import{R as w,D as T}from"./RedirectUrl-DrdV0T_4.js";const f=({readOnly:t})=>{const{t:e}=g(),s=S(),{control:l}=s,u=r({control:l,name:"config.wantAuthnRequestsSigned"}),o=r({control:l,name:"config.wantAssertionsEncrypted"}),A=r({control:l,name:"config.validateSignature"}),p=r({control:l,name:"config.useMetadataDescriptorUrl"}),v=r({control:l,name:"config.principalType"});return i("div",{className:"pf-v5-c-form pf-m-horizontal",children:m(D,{...s,children:[i(n,{name:"config.entityId",label:e("serviceProviderEntityId"),labelIcon:e("serviceProviderEntityIdHelp")}),i(n,{name:"config.idpEntityId",label:e("identityProviderEntityId"),labelIcon:e("identityProviderEntityIdHelp"),"data-testid":"identityProviderEntityId",id:"kc-identity-provider-entity-id"}),i(n,{name:"config.singleSignOnServiceUrl",label:e("ssoServiceUrl"),labelIcon:e("ssoServiceUrlHelp"),type:"url",readOnly:t,rules:{required:e("required")}}),i(n,{name:"config.artifactResolutionServiceUrl",label:e("artifactResolutionServiceUrl"),labelIcon:e("artifactResolutionServiceUrlHelp"),type:"url",isDisabled:t}),i(n,{name:"config.singleLogoutServiceUrl",label:e("singleLogoutServiceUrl"),labelIcon:e("singleLogoutServiceUrlHelp"),type:"url",readOnly:t}),i(a,{name:"config.backchannelSupported",label:e("backchannelLogout"),isDisabled:t,stringify:!0}),i(a,{name:"config.sendIdTokenOnLogout",label:e("sendIdTokenOnLogout"),defaultValue:"true",isDisabled:t,stringify:!0}),i(a,{name:"config.sendClientIdOnLogout",label:e("sendClientIdOnLogout"),isDisabled:t,stringify:!0}),i(c,{name:"config.nameIDPolicyFormat",label:e("nameIdPolicyFormat"),labelIcon:e("nameIdPolicyFormatHelp"),controller:{defaultValue:"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent"},isDisabled:t,options:[{key:"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent",value:e("persistent")},{key:"urn:oasis:names:tc:SAML:2.0:nameid-format:transient",value:e("transient")},{key:"urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress",value:e("email")},{key:"urn:oasis:names:tc:SAML:2.0:nameid-format:kerberos",value:e("kerberos")},{key:"urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName",value:e("x509")},{key:"urn:oasis:names:tc:SAML:1.1:nameid-format:WindowsDomainQualifiedName",value:e("windowsDomainQN")},{key:"urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified",value:e("unspecified")}]}),i(c,{name:"config.principalType",label:e("principalType"),labelIcon:e("principalTypeHelp"),controller:{defaultValue:"SUBJECT"},isDisabled:t,options:[{key:"SUBJECT",value:e("subjectNameId")},{key:"ATTRIBUTE",value:e("attributeName")},{key:"FRIENDLY_ATTRIBUTE",value:e("attributeFriendlyName")}]}),v?.includes("ATTRIBUTE")&&i(n,{name:"config.principalAttribute",label:e("principalAttribute"),labelIcon:e("principalAttributeHelp"),readOnly:t}),i(a,{name:"config.allowCreate",label:e("allowCreate"),isDisabled:t,stringify:!0}),i(a,{name:"config.postBindingResponse",label:e("httpPostBindingResponse"),isDisabled:t,stringify:!0}),i(a,{name:"config.artifactBindingResponse",label:e("artifactBindingResponse"),isDisabled:t,stringify:!0}),i(a,{name:"config.postBindingAuthnRequest",label:e("httpPostBindingAuthnRequest"),isDisabled:t,stringify:!0}),i(a,{name:"config.postBindingLogout",label:e("httpPostBindingLogout"),isDisabled:t,stringify:!0}),i(a,{name:"config.wantAuthnRequestsSigned",label:e("wantAuthnRequestsSigned"),isDisabled:t,stringify:!0}),u==="true"&&m(d,{children:[i(c,{name:"config.signatureAlgorithm",label:e("signatureAlgorithm"),labelIcon:e("signatureAlgorithmHelp"),isDisabled:t,controller:{defaultValue:"RSA_SHA256"},options:["RSA_SHA1","RSA_SHA256","RSA_SHA256_MGF1","RSA_SHA512","RSA_SHA512_MGF1","DSA_SHA1"]}),i(c,{name:"config.xmlSigKeyInfoKeyNameTransformer",label:e("samlSignatureKeyName"),labelIcon:e("samlSignatureKeyNameHelp"),isDisabled:t,controller:{defaultValue:e("keyID")},options:["NONE",e("keyID"),e("certSubject")]})]}),i(a,{name:"config.wantAssertionsSigned",label:e("wantAssertionsSigned"),isDisabled:t,stringify:!0}),i(a,{name:"config.wantAssertionsEncrypted",label:e("wantAssertionsEncrypted"),isDisabled:t,stringify:!0}),o==="true"&&i(c,{name:"config.encryptionAlgorithm",label:e("encryptionAlgorithm"),labelIcon:e("encryptionAlgorithmHelp"),isDisabled:t,controller:{defaultValue:"RSA-OAEP"},options:["RSA-OAEP","RSA1_5"]}),i(a,{name:"config.forceAuthn",label:e("forceAuthentication"),isDisabled:t,stringify:!0}),i(a,{name:"config.validateSignature",label:e("validateSignature"),isDisabled:t,stringify:!0}),A==="true"&&m(d,{children:[i(n,{name:"config.metadataDescriptorUrl",label:e("metadataDescriptorUrl"),labelIcon:e("metadataDescriptorUrlHelp"),type:"url",readOnly:t,rules:{required:{value:p==="true",message:e("required")}}}),i(a,{name:"config.useMetadataDescriptorUrl",label:e("useMetadataDescriptorUrl"),isDisabled:t,stringify:!0}),p!=="true"&&i(y,{name:"config.signingCertificate",label:e("validatingX509Certs"),labelIcon:e("validatingX509CertsHelp"),readOnly:t})]}),i(a,{name:"config.signSpMetadata",label:e("signServiceProviderMetadata"),isDisabled:t,stringify:!0}),i(a,{name:"config.loginHint",label:e("passSubject"),isDisabled:t,stringify:!0}),i(b,{name:"config.allowedClockSkew",label:e("allowedClockSkew"),labelIcon:e("allowedClockSkewHelp"),controller:{defaultValue:0,rules:{min:0,max:2147483}},isDisabled:t}),i(b,{name:"config.attributeConsumingServiceIndex",label:e("attributeConsumingServiceIndex"),labelIcon:e("attributeConsumingServiceIndexHelp"),controller:{defaultValue:0,rules:{min:0,max:2147483}},isDisabled:t}),i(n,{name:"config.attributeConsumingServiceName",label:e("attributeConsumingServiceName"),labelIcon:e("attributeConsumingServiceNameHelp"),readOnly:t})]})})},B=({readOnly:t})=>{const{t:e}=g(),[s,l]=I(!1);return t?i(E,{className:"keycloak__discovery-settings__metadata",toggleText:e(s?"hideMetaData":"showMetaData"),onToggle:(u,o)=>l(o),isExpanded:s,children:i(f,{readOnly:t})}):i(f,{readOnly:t})},q=({isAliasReadonly:t=!1})=>{const{t:e}=g(),{realm:s}=h(),{environment:l}=k(),{control:u}=S(),o=r({control:u,name:"alias"});return m(d,{children:[i(w,{id:o}),i(n,{name:"alias",label:e("alias"),labelIcon:e("aliasHelp"),readOnly:t,rules:{required:e("required")}}),i(n,{name:"displayName",label:e("displayName")}),i(T,{}),t&&i(H,{label:e("endpoints"),fieldId:"endpoints",labelIcon:i(U,{helpText:e("aliasHelp"),fieldLabelId:"alias"}),className:"keycloak__identity-providers__saml_link",children:i(R,{title:e("samlEndpointsLabel"),href:`${l.adminBaseUrl}/realms/${s}/broker/${o}/endpoint/descriptor`,isInline:!0})})]})};export{B as D,q as S};
//# sourceMappingURL=SamlGeneralSettings-KmamilWN.js.map
