{"version":3,"file":"useLocaleSort-C-diWts5.js","sources":["../../../../../../../src/utils/useLocaleSort.ts"],"sourcesContent":["import { useWhoAmI } from \"../context/whoami/WhoAmI\";\r\n\r\nexport type ValueMapperFn<T> = (item: T) => string | undefined;\r\n\r\nexport default function useLocaleSort() {\r\n  const { whoAmI } = useWhoAmI();\r\n\r\n  return function localeSort<T>(items: T[], mapperFn: ValueMapperFn<T>): T[] {\r\n    return [...items].sort((a, b) => {\r\n      const valA = mapperFn(a);\r\n      const valB = mapperFn(b);\r\n\r\n      if (valA === undefined || valB === undefined) {\r\n        return 0;\r\n      }\r\n\r\n      return valA.localeCompare(valB, whoAmI.locale);\r\n    });\r\n  };\r\n}\r\n\r\n// TODO: This might be built into TypeScript into future.\r\n// See: https://github.com/microsoft/TypeScript/issues/48992\r\ntype KeysMatching<T, V> = {\r\n  [K in keyof T]: T[K] extends V ? K : never;\r\n}[keyof T];\r\n\r\nexport const mapByKey =\r\n  <\r\n    T extends { [_ in K]?: string },\r\n    K extends KeysMatching<T, string | undefined>,\r\n  >(\r\n    key: K,\r\n  ) =>\r\n  (item: T) =>\r\n    item[key];\r\n"],"names":["useLocaleSort","whoAmI","useWhoAmI","items","mapperFn","b","valA","valB","mapByKey","key","item"],"mappings":"wCAIA,SAAwBA,GAAgB,CACtC,KAAM,CAAE,OAAAC,CAAA,EAAWC,EAAA,EAEnB,OAAO,SAAuBC,EAAYC,EAAiC,CACzE,MAAO,CAAC,GAAGD,CAAK,EAAE,KAAK,CAAC,EAAGE,IAAM,CAC/B,MAAMC,EAAOF,EAAS,CAAC,EACjBG,EAAOH,EAASC,CAAC,EAEvB,OAAIC,IAAS,QAAaC,IAAS,OAC1B,EAGFD,EAAK,cAAcC,EAAMN,EAAO,MAAM,CAC/C,CAAC,CACH,CACF,CAQO,MAAMO,EAKTC,GAEDC,GACCA,EAAKD,CAAG"}