{"version":3,"file":"MapperList-Vu_yIY9K.js","sources":["../../../../../../../src/client-scopes/add/MapperDialog.tsx","../../../../../../../src/client-scopes/details/MapperList.tsx"],"sourcesContent":["import { useMemo, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport {\r\n  Button,\r\n  ButtonVariant,\r\n  DataList,\r\n  DataListCell,\r\n  DataListItem,\r\n  DataListItemCells,\r\n  DataListItemRow,\r\n  Modal,\r\n  ModalVariant,\r\n  Text,\r\n  TextContent,\r\n  TextVariants,\r\n} from \"@patternfly/react-core\";\r\n\r\nimport type ProtocolMapperRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/protocolMapperRepresentation\";\r\nimport type { ProtocolMapperTypeRepresentation } from \"@keycloak/keycloak-admin-client/lib/defs/serverInfoRepesentation\";\r\n\r\nimport { useServerInfo } from \"../../context/server-info/ServerInfoProvider\";\r\nimport { ListEmptyState } from \"@keycloak/keycloak-ui-shared\";\r\nimport { KeycloakDataTable } from \"@keycloak/keycloak-ui-shared\";\r\nimport useLocaleSort, { mapByKey } from \"../../utils/useLocaleSort\";\r\n\r\ntype Row = {\r\n  id: string;\r\n  description: string;\r\n  item: ProtocolMapperRepresentation;\r\n};\r\n\r\nexport type AddMapperDialogModalProps = {\r\n  protocol: string;\r\n  filter?: ProtocolMapperRepresentation[];\r\n  onConfirm: (\r\n    value: ProtocolMapperTypeRepresentation | ProtocolMapperRepresentation[],\r\n  ) => void;\r\n};\r\n\r\nexport type AddMapperDialogProps = AddMapperDialogModalProps & {\r\n  open: boolean;\r\n  toggleDialog: () => void;\r\n};\r\n\r\nexport const AddMapperDialog = (props: AddMapperDialogProps) => {\r\n  const { t } = useTranslation();\r\n\r\n  const serverInfo = useServerInfo();\r\n  const protocol = props.protocol;\r\n  const protocolMappers = serverInfo.protocolMapperTypes![protocol];\r\n  const builtInMappers = serverInfo.builtinProtocolMappers![protocol];\r\n  const [filter, setFilter] = useState<ProtocolMapperRepresentation[]>([]);\r\n  const [selectedRows, setSelectedRows] = useState<Row[]>([]);\r\n  const localeSort = useLocaleSort();\r\n\r\n  const allRows = useMemo(\r\n    () =>\r\n      localeSort(builtInMappers, mapByKey(\"name\")).map((mapper) => {\r\n        const mapperType = protocolMappers.find(\r\n          (type) => type.id === mapper.protocolMapper,\r\n        )!;\r\n        return {\r\n          item: mapper,\r\n          id: mapper.name!,\r\n          description: mapperType.helpText,\r\n        };\r\n      }),\r\n    [builtInMappers, protocolMappers],\r\n  );\r\n  const [rows, setRows] = useState(allRows);\r\n\r\n  if (props.filter && props.filter.length !== filter.length) {\r\n    setFilter(props.filter);\r\n    const nameFilter = props.filter.map((f) => f.name);\r\n    setRows([...allRows.filter((row) => !nameFilter.includes(row.item.name))]);\r\n  }\r\n\r\n  const sortedProtocolMappers = useMemo(\r\n    () => localeSort(protocolMappers, mapByKey(\"name\")),\r\n    [protocolMappers],\r\n  );\r\n\r\n  const isBuiltIn = !!props.filter;\r\n\r\n  const header = [t(\"name\"), t(\"description\")];\r\n\r\n  return (\r\n    <Modal\r\n      aria-label={\r\n        isBuiltIn ? t(\"addPredefinedMappers\") : t(\"emptySecondaryAction\")\r\n      }\r\n      variant={ModalVariant.medium}\r\n      header={\r\n        <TextContent\r\n          role=\"dialog\"\r\n          aria-label={\r\n            isBuiltIn ? t(\"addPredefinedMappers\") : t(\"emptySecondaryAction\")\r\n          }\r\n        >\r\n          <Text component={TextVariants.h1}>\r\n            {isBuiltIn ? t(\"addPredefinedMappers\") : t(\"emptySecondaryAction\")}\r\n          </Text>\r\n          <Text>\r\n            {isBuiltIn\r\n              ? t(\"predefinedMappingDescription\")\r\n              : t(\"configureMappingDescription\")}\r\n          </Text>\r\n        </TextContent>\r\n      }\r\n      isOpen={props.open}\r\n      onClose={props.toggleDialog}\r\n      actions={\r\n        isBuiltIn\r\n          ? [\r\n              <Button\r\n                id=\"modal-confirm\"\r\n                data-testid=\"confirm\"\r\n                key=\"confirm\"\r\n                isDisabled={rows.length === 0 || selectedRows.length === 0}\r\n                onClick={() => {\r\n                  props.onConfirm(selectedRows.map(({ item }) => item));\r\n                  props.toggleDialog();\r\n                }}\r\n              >\r\n                {t(\"add\")}\r\n              </Button>,\r\n              <Button\r\n                id=\"modal-cancel\"\r\n                data-testid=\"cancel\"\r\n                key=\"cancel\"\r\n                variant={ButtonVariant.link}\r\n                onClick={() => {\r\n                  props.toggleDialog();\r\n                }}\r\n              >\r\n                {t(\"cancel\")}\r\n              </Button>,\r\n            ]\r\n          : []\r\n      }\r\n    >\r\n      {!isBuiltIn && (\r\n        <DataList\r\n          onSelectDataListItem={(_event, id) => {\r\n            const mapper = protocolMappers.find((mapper) => mapper.id === id);\r\n            props.onConfirm(mapper!);\r\n            props.toggleDialog();\r\n          }}\r\n          aria-label={t(\"addPredefinedMappers\")}\r\n          isCompact\r\n        >\r\n          <DataListItem aria-label={t(\"headerName\")} id=\"header\">\r\n            <DataListItemRow>\r\n              <DataListItemCells\r\n                dataListCells={header.map((name) => (\r\n                  <DataListCell style={{ fontWeight: 700 }} key={name}>\r\n                    {name}\r\n                  </DataListCell>\r\n                ))}\r\n              />\r\n            </DataListItemRow>\r\n          </DataListItem>\r\n          {sortedProtocolMappers.map((mapper) => (\r\n            <DataListItem\r\n              aria-label={mapper.name}\r\n              key={mapper.id}\r\n              id={mapper.id}\r\n            >\r\n              <DataListItemRow>\r\n                <DataListItemCells\r\n                  dataListCells={[\r\n                    <DataListCell key={`name-${mapper.id}`}>\r\n                      {mapper.name}\r\n                    </DataListCell>,\r\n                    <DataListCell key={`helpText-${mapper.id}`}>\r\n                      {mapper.helpText}\r\n                    </DataListCell>,\r\n                  ]}\r\n                />\r\n              </DataListItemRow>\r\n            </DataListItem>\r\n          ))}\r\n        </DataList>\r\n      )}\r\n      {isBuiltIn && (\r\n        <KeycloakDataTable\r\n          loader={rows}\r\n          onSelect={setSelectedRows}\r\n          canSelectAll\r\n          ariaLabelKey=\"addPredefinedMappers\"\r\n          searchPlaceholderKey=\"searchForMapper\"\r\n          columns={[\r\n            {\r\n              name: \"id\",\r\n              displayKey: \"name\",\r\n            },\r\n            {\r\n              name: \"description\",\r\n              displayKey: \"description\",\r\n            },\r\n          ]}\r\n          emptyState={\r\n            <ListEmptyState\r\n              message={t(\"emptyMappers\")}\r\n              instructions={t(\"emptyBuiltInMappersInstructions\")}\r\n            />\r\n          }\r\n        />\r\n      )}\r\n    </Modal>\r\n  );\r\n};\r\n","import { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport type { Path } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport type ClientRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/clientRepresentation\";\r\nimport type ClientScopeRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/clientScopeRepresentation\";\r\nimport type ProtocolMapperRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/protocolMapperRepresentation\";\r\nimport type { ProtocolMapperTypeRepresentation } from \"@keycloak/keycloak-admin-client/lib/defs/serverInfoRepesentation\";\r\nimport { useServerInfo } from \"../../context/server-info/ServerInfoProvider\";\r\n\r\nimport { ListEmptyState } from \"@keycloak/keycloak-ui-shared\";\r\nimport { AddMapperDialog } from \"../add/MapperDialog\";\r\nimport { Action, KeycloakDataTable } from \"@keycloak/keycloak-ui-shared\";\r\nimport {\r\n  Dropdown,\r\n  DropdownItem,\r\n  DropdownList,\r\n  MenuToggle,\r\n} from \"@patternfly/react-core\";\r\n\r\ntype MapperListProps = {\r\n  model: ClientScopeRepresentation | ClientRepresentation;\r\n  onAdd: (\r\n    mappers: ProtocolMapperTypeRepresentation | ProtocolMapperRepresentation[],\r\n  ) => void;\r\n  onDelete: (mapper: ProtocolMapperRepresentation) => void;\r\n  detailLink: (id: string) => Partial<Path>;\r\n};\r\n\r\ntype Row = ProtocolMapperRepresentation & {\r\n  category: string;\r\n  type: string;\r\n  priority: number;\r\n};\r\n\r\ntype MapperLinkProps = Row & {\r\n  detailLink: (id: string) => Partial<Path>;\r\n};\r\n\r\nconst MapperLink = ({ id, name, detailLink }: MapperLinkProps) => (\r\n  <Link to={detailLink(id!)}>{name}</Link>\r\n);\r\n\r\nexport const MapperList = ({\r\n  model,\r\n  onAdd,\r\n  onDelete,\r\n  detailLink,\r\n}: MapperListProps) => {\r\n  const { t } = useTranslation();\r\n\r\n  const [mapperAction, setMapperAction] = useState(false);\r\n  const mapperList = model.protocolMappers;\r\n  const mapperTypes = useServerInfo().protocolMapperTypes![model.protocol!];\r\n\r\n  const [key, setKey] = useState(0);\r\n  useEffect(() => setKey(key + 1), [mapperList]);\r\n\r\n  const [addMapperDialogOpen, setAddMapperDialogOpen] = useState(false);\r\n  const [filter, setFilter] = useState(model.protocolMappers);\r\n  const toggleAddMapperDialog = (buildIn: boolean) => {\r\n    if (buildIn) {\r\n      setFilter(mapperList || []);\r\n    } else {\r\n      setFilter(undefined);\r\n    }\r\n    setAddMapperDialogOpen(!addMapperDialogOpen);\r\n  };\r\n\r\n  const loader = async () => {\r\n    if (!mapperList) {\r\n      return [];\r\n    }\r\n\r\n    const list = mapperList.reduce<Row[]>((rows, mapper) => {\r\n      const mapperType = mapperTypes.find(\r\n        ({ id }) => id === mapper.protocolMapper,\r\n      );\r\n\r\n      if (!mapperType) {\r\n        return rows;\r\n      }\r\n\r\n      return rows.concat({\r\n        ...mapper,\r\n        category: mapperType.category,\r\n        type: mapperType.name,\r\n        priority: mapperType.priority,\r\n      });\r\n    }, []);\r\n\r\n    return list.sort((a, b) => a.priority - b.priority);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AddMapperDialog\r\n        protocol={model.protocol!}\r\n        filter={filter}\r\n        onConfirm={onAdd}\r\n        open={addMapperDialogOpen}\r\n        toggleDialog={() => setAddMapperDialogOpen(!addMapperDialogOpen)}\r\n      />\r\n\r\n      <KeycloakDataTable\r\n        key={key}\r\n        loader={loader}\r\n        ariaLabelKey=\"clientScopeList\"\r\n        searchPlaceholderKey=\"searchForMapper\"\r\n        toolbarItem={\r\n          <Dropdown\r\n            onSelect={() => setMapperAction(false)}\r\n            onOpenChange={(isOpen) => setMapperAction(isOpen)}\r\n            toggle={(ref) => (\r\n              <MenuToggle\r\n                ref={ref}\r\n                variant=\"primary\"\r\n                id=\"mapperAction\"\r\n                onClick={() => setMapperAction(!mapperAction)}\r\n              >\r\n                {t(\"addMapper\")}\r\n              </MenuToggle>\r\n            )}\r\n            isOpen={mapperAction}\r\n          >\r\n            <DropdownList>\r\n              <DropdownItem onClick={() => toggleAddMapperDialog(true)}>\r\n                {t(\"fromPredefinedMapper\")}\r\n              </DropdownItem>\r\n              <DropdownItem onClick={() => toggleAddMapperDialog(false)}>\r\n                {t(\"byConfiguration\")}\r\n              </DropdownItem>\r\n            </DropdownList>\r\n          </Dropdown>\r\n        }\r\n        actions={[\r\n          {\r\n            title: t(\"delete\"),\r\n            onRowClick: onDelete,\r\n          } as Action<Row>,\r\n        ]}\r\n        columns={[\r\n          {\r\n            name: \"name\",\r\n            cellRenderer: (row) => (\r\n              <MapperLink {...row} detailLink={detailLink} />\r\n            ),\r\n          },\r\n          { name: \"category\" },\r\n          {\r\n            name: \"type\",\r\n          },\r\n          {\r\n            name: \"priority\",\r\n          },\r\n        ]}\r\n        emptyState={\r\n          <ListEmptyState\r\n            message={t(\"emptyMappers\")}\r\n            instructions={t(\"emptyMappersInstructions\")}\r\n            secondaryActions={[\r\n              {\r\n                text: t(\"emptyPrimaryAction\"),\r\n                onClick: () => toggleAddMapperDialog(true),\r\n              },\r\n              {\r\n                text: t(\"emptySecondaryAction\"),\r\n                onClick: () => toggleAddMapperDialog(false),\r\n              },\r\n            ]}\r\n          />\r\n        }\r\n      />\r\n    </>\r\n  );\r\n};\r\n"],"names":["AddMapperDialog","props","t","useTranslation","serverInfo","useServerInfo","protocol","protocolMappers","builtInMappers","filter","setFilter","useState","selectedRows","setSelectedRows","localeSort","useLocaleSort","allRows","useMemo","mapByKey","mapper","mapperType","type","rows","setRows","nameFilter","f","row","sortedProtocolMappers","isBuiltIn","header","jsxs","Modal","ModalVariant","TextContent","jsx","Text","TextVariants","Button","item","ButtonVariant","DataList","_event","id","DataListItem","DataListItemRow","DataListItemCells","name","DataListCell","KeycloakDataTable","ListEmptyState","MapperLink","detailLink","Link","MapperList","model","onAdd","onDelete","mapperAction","setMapperAction","mapperList","mapperTypes","key","setKey","useEffect","addMapperDialogOpen","setAddMapperDialogOpen","toggleAddMapperDialog","buildIn","loader","a","b","Fragment","Dropdown","isOpen","ref","MenuToggle","DropdownList","DropdownItem"],"mappings":"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"}