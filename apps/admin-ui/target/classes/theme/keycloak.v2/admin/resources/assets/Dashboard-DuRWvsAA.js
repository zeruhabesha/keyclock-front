import{jsx as e,jsxs as t,Fragment as C}from"react/jsx-runtime";import{aw as ae,cd as k,av as G,a as O,e as $,P as g,ce as te,aQ as M,bo as ie,ay as j,aK as U,aR as V,aP as _,d as A,c1 as ne,cf as ee,ab as se,ac as W,af as le,p as ce,H as oe,I as H,cg as K,aE as de,J as me,g as E,ap as I,bQ as he,bR as q,bK as Q,bO as w,bL as L,W as Y,ch as z,ci as J,cj as pe,at as v}from"./main-o1hptXRo.js";import*as B from"react";import{useState as X,useMemo as x}from"react";import{u as be,R as fe}from"./RoutableTabs-DyhWhd6v.js";import{u as ue,m as ve}from"./useLocaleSort-C-diWts5.js";import{E as ge}from"./ExpandableSection-wnspFC3f.js";import{a as F,b as R}from"./Tabs-DSwQhKoJ.js";import{D as N,a as y,b as p,c as b}from"./DescriptionListTerm-CNzJUZBE.js";import{A as ye,a as P}from"./ActionListItem-Cy-NQlq4.js";import"react-dom";import"./PageHandler-B1ed5nYb.js";import"./DynamicComponents-CnLlz98z.js";import"./ClientSelect-BY77LEpN.js";import"./IdentityProviderSelect-rmWlUbIg.js";import"./GroupPickerDialog-U3luvxlw.js";import"./DataListItemRow-B_0B-ko6.js";import"./MultiLineInput-OP0faqms.js";import"./RoleMapping-BOcI-Nkp.js";import"./translationFormatter-DQJeO7lr.js";import"./ConfirmDialog-BkU7melV.js";import"./CodeEditor-C4IS5oxi.js";import"./useParams-CGVhlaFZ.js";import"./constants-BclHbWtx.js";const S={brand:"pf-v5-c-brand",modifiers:{picture:"pf-m-picture"}},Te={name:"--pf-v5-c-brand--Height"},De={name:"--pf-v5-c-brand--Width"},re=r=>{var{className:a="",src:d="",alt:i,children:l,widths:o,heights:f,style:u}=r,n=ae(r,["className","src","alt","children","widths","heights","style"]);let c;return o!==void 0&&(c=Object.assign({},k(o,De.name))),f!==void 0&&(c=Object.assign(Object.assign({},c),k(f,Te.name))),l!==void 0?B.createElement("picture",Object.assign({className:G(S.brand,S.modifiers.picture,a),style:Object.assign(Object.assign({},u),c)},n),l,B.createElement("img",{src:d,alt:i})):B.createElement("img",Object.assign({},n,{className:G(S.brand,a),style:Object.assign(Object.assign({},u),c),src:d,alt:i}))};re.displayName="Brand";var h;(function(r){r.Default="DEFAULT",r.DisabledByDefault="DISABLED_BY_DEFAULT",r.Preview="PREVIEW",r.PreviewDisabledByDefault="PREVIEW_DISABLED_BY_DEFAULT",r.Experimental="EXPERIMENTAL",r.Deprecated="DEPRECATED"})(h||(h={}));const _e=()=>{const{t:r}=O(),a=$(),[d,i]=X(""),[l,o]=X([]),f=x(()=>Object.entries(a.providers||[]).filter(([n])=>n.toLowerCase().includes(d.toLowerCase())),[d]),u=n=>{l.includes(n)?o(l.filter(c=>c!==n)):o([...l,n])};return e(g,{variant:"light",children:e(te,{inputGroupName:"search",inputGroupPlaceholder:r("search"),inputGroupOnEnter:i,children:t(M,{variant:"compact",children:[e(ie,{children:t(j,{children:[e(U,{width:20,children:r("spi")}),e(U,{children:r("providers")})]})}),e(V,{children:f.map(([n,{providers:c}])=>t(j,{children:[e(_,{children:n}),e(_,{children:e("ul",{children:Object.entries(c).map(([m,{operationalInfo:T}])=>t("li",{children:[m,T?e(ge,{isExpanded:l.includes(m),onToggle:()=>u(m),toggleText:l.includes(m)?r("showLess"):r("showMore"),children:e(M,{borders:!1,children:e(V,{children:Object.entries(T).map(([D,s])=>t(j,{children:[e(_,{children:D}),e(_,{children:s})]},D))})})},m):null]},m))})})]},n))})]})})})},Ee=()=>{const{environment:r}=ne(),{t:a}=O(),{realm:d,realmRepresentation:i}=A(),l=r.logo?r.logo:"/icon.svg",o=ee(a,i?.displayName,d);return e(g,{variant:"light",children:t(se,{variant:"lg",children:[e(re,{src:r.resourceUrl+l,alt:"Keycloak icon",className:"keycloak__dashboard_icon"}),e(W,{titleText:e(C,{children:a("welcome")}),headingLevel:"h2"}),e(W,{titleText:o,headingLevel:"h1"}),e(le,{children:a("introduction")})]})})},Z=({feature:r})=>{const{t:a}=O();return t(pe,{className:"pf-v5-u-mb-sm",children:[r.name,"Â ",r.type===h.Experimental&&e(v,{color:"orange",children:a("experimental")}),r.type===h.Preview&&e(v,{color:"blue",children:a("preview")}),r.type===h.PreviewDisabledByDefault&&e(v,{color:"blue",children:a("preview")}),r.type===h.Default&&e(v,{color:"green",children:a("supported")}),r.type===h.DisabledByDefault&&e(v,{color:"green",children:a("supported")}),r.type===h.Deprecated&&e(v,{color:"grey",children:a("deprecated")})]})},Ie=()=>{const{t:r}=O(),{realm:a,realmRepresentation:d}=A(),i=$(),l=ue(),o=x(()=>l(i.features??[],ve("name")),[i.features]),f=x(()=>o.filter(s=>!s.enabled)||[],[i.features]),u=x(()=>o.filter(s=>s.enabled)||[],[i.features]),n=s=>be(K({realm:a,tab:s})),c=ee(r,d?.displayName,a),m=n("welcome"),T=n("info"),D=n("providers");return Object.keys(i).length===0?e(ce,{}):t(C,{children:[e(g,{variant:"light",children:e(oe,{className:"pf-v5-u-mr-sm",children:e(H,{component:"h1",children:r("realmNameTitle",{name:a})})})}),e(g,{variant:"light",className:"pf-v5-u-p-0",children:t(fe,{"data-testid":"dashboard-tabs",defaultLocation:K({realm:a,tab:"welcome"}),isBox:!0,mountOnEnter:!0,children:[e(F,{id:"welcome","data-testid":"welcomeTab",title:e(R,{children:r("welcomeTabTitle")}),...m,children:e(g,{variant:"light",children:t("div",{className:"pf-v5-l-grid pf-v5-u-ml-lg",children:[e("div",{className:"pf-v5-l-grid__item pf-m-12-col",children:e(de,{"data-testid":"welcomeTitle",className:"pf-v5-u-font-weight-bold",headingLevel:"h2",size:"3xl",children:r("welcomeTo",{realmDisplayInfo:c})})}),e("div",{className:"pf-v5-l-grid__item keycloak__dashboard_welcome_tab",children:e(H,{component:me.h3,children:r("welcomeText")})}),e("div",{className:"pf-v5-l-grid__item pf-m-10-col pf-v5-u-mt-md",children:e(E,{className:"pf-v5-u-px-lg pf-v5-u-py-sm",component:"a",href:I.documentation,target:"_blank",variant:"primary",children:r("viewDocumentation")})}),t(ye,{className:"pf-v5-u-mt-sm",children:[e(P,{children:e(E,{component:"a",href:I.guides,target:"_blank",variant:"tertiary",children:r("viewGuides")})}),e(P,{children:e(E,{component:"a",href:I.community,target:"_blank",variant:"tertiary",children:r("joinCommunity")})}),e(P,{children:e(E,{component:"a",href:I.blog,target:"_blank",variant:"tertiary",children:r("readBlog")})})]})]})})}),e(F,{id:"info","data-testid":"infoTab",title:e(R,{children:r("serverInfo")}),...T,children:e(g,{variant:"light",children:t(he,{hasGutter:!0,children:[e(q,{lg:2,sm:12,children:t(Q,{className:"keycloak__dashboard_card",children:[e(w,{children:r("serverInfo")}),e(L,{children:e(N,{children:t(y,{children:[e(p,{children:r("version")}),e(b,{children:i.systemInfo?.version})]})})}),e(w,{children:r("cpu")}),e(L,{children:e(N,{children:t(y,{children:[e(p,{children:r("processorCount")}),e(b,{children:i.cpuInfo?.processorCount})]})})}),e(w,{children:r("memory")}),e(L,{children:e(N,{children:t(y,{children:[e(p,{children:r("totalMemory")}),e(b,{children:i.memoryInfo?.totalFormated}),e(p,{children:r("freeMemory")}),e(b,{children:i.memoryInfo?.freeFormated}),e(p,{children:r("usedMemory")}),e(b,{children:i.memoryInfo?.usedFormated})]})})})]})}),e(q,{lg:10,sm:12,children:t(Q,{className:"keycloak__dashboard_card",children:[e(w,{children:r("profile")}),e(L,{children:t(N,{children:[t(y,{children:[t(p,{children:[r("enabledFeatures")," ",e(Y,{fieldLabelId:"enabledFeatures",helpText:r("infoEnabledFeatures")})]}),e(b,{children:e(z,{variant:J.inline,children:u.map(s=>e(Z,{feature:s},s.name))})})]}),t(y,{children:[t(p,{children:[r("disabledFeatures")," ",e(Y,{fieldLabelId:"disabledFeatures",helpText:r("infoDisabledFeatures")})]}),e(b,{children:e(z,{variant:J.inline,children:f.map(s=>e(Z,{feature:s},s.name))})})]})]})})]})})]})})}),e(F,{id:"providers","data-testid":"providersTab",title:e(R,{children:r("providerInfo")}),...D,children:e(_e,{})})]})})]})};function Ye(){const{realm:r}=A(),a=r==="master";return t(C,{children:[!a&&e(Ee,{}),a&&e(Ie,{})]})}export{Ye as default};
//# sourceMappingURL=Dashboard-DuRWvsAA.js.map
