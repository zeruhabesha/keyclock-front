{"version":3,"file":"CreateUserFederationLdapSettings-BpgmYi6m.js","sources":["../../../../../../../src/user-federation/CreateUserFederationLdapSettings.tsx"],"sourcesContent":["import { AlertVariant, PageSection } from \"@patternfly/react-core\";\r\nimport { FormProvider, useForm } from \"react-hook-form\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useAdminClient } from \"../admin-client\";\r\nimport { useAlerts } from \"@keycloak/keycloak-ui-shared\";\r\nimport { useRealm } from \"../context/realm-context/RealmContext\";\r\nimport {\r\n  LdapComponentRepresentation,\r\n  UserFederationLdapForm,\r\n  serializeFormData,\r\n} from \"./UserFederationLdapForm\";\r\nimport { toUserFederation } from \"./routes/UserFederation\";\r\nimport { ExtendedHeader } from \"./shared/ExtendedHeader\";\r\n\r\nexport default function CreateUserFederationLdapSettings() {\r\n  const { adminClient } = useAdminClient();\r\n\r\n  const { t } = useTranslation();\r\n  const form = useForm<LdapComponentRepresentation>({ mode: \"onChange\" });\r\n  const navigate = useNavigate();\r\n  const { realm } = useRealm();\r\n  const { addAlert, addError } = useAlerts();\r\n\r\n  const onSubmit = async (formData: LdapComponentRepresentation) => {\r\n    try {\r\n      await adminClient.components.create(serializeFormData(formData));\r\n      addAlert(t(\"createUserProviderSuccess\"), AlertVariant.success);\r\n      navigate(toUserFederation({ realm }));\r\n    } catch (error) {\r\n      addError(\"createUserProviderError\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FormProvider {...form}>\r\n      <ExtendedHeader\r\n        provider=\"LDAP\"\r\n        noDivider\r\n        save={() => form.handleSubmit(onSubmit)()}\r\n      />\r\n      <PageSection variant=\"light\" className=\"pf-v5-u-p-0\">\r\n        <PageSection variant=\"light\">\r\n          <UserFederationLdapForm onSubmit={onSubmit} />\r\n        </PageSection>\r\n      </PageSection>\r\n    </FormProvider>\r\n  );\r\n}\r\n"],"names":["CreateUserFederationLdapSettings","adminClient","useAdminClient","t","useTranslation","form","useForm","navigate","useNavigate","realm","useRealm","addAlert","addError","useAlerts","onSubmit","formData","serializeFormData","AlertVariant","toUserFederation","error","jsxs","FormProvider","jsx","ExtendedHeader","PageSection","UserFederationLdapForm"],"mappings":"6cAeA,SAAwBA,GAAmC,CACzD,KAAM,CAAE,YAAAC,CAAA,EAAgBC,EAAA,EAElB,CAAE,EAAAC,CAAA,EAAMC,EAAA,EACRC,EAAOC,EAAqC,CAAE,KAAM,WAAY,EAChEC,EAAWC,EAAA,EACX,CAAE,MAAAC,CAAA,EAAUC,EAAA,EACZ,CAAE,SAAAC,EAAU,SAAAC,CAAA,EAAaC,EAAA,EAEzBC,EAAW,MAAOC,GAA0C,CAChE,GAAI,CACF,MAAMd,EAAY,WAAW,OAAOe,EAAkBD,CAAQ,CAAC,EAC/DJ,EAASR,EAAE,2BAA2B,EAAGc,EAAa,OAAO,EAC7DV,EAASW,EAAiB,CAAE,MAAAT,CAAA,CAAO,CAAC,CACtC,OAASU,EAAO,CACdP,EAAS,0BAA2BO,CAAK,CAC3C,CACF,EAEA,OACEC,EAACC,EAAA,CAAc,GAAGhB,EAChB,SAAA,CAAAiB,EAACC,EAAA,CACC,SAAS,OACT,UAAS,GACT,KAAM,IAAMlB,EAAK,aAAaS,CAAQ,EAAA,CAAE,CAAA,EAE1CQ,EAACE,EAAA,CAAY,QAAQ,QAAQ,UAAU,cACrC,SAAAF,EAACE,EAAA,CAAY,QAAQ,QACnB,SAAAF,EAACG,EAAA,CAAuB,SAAAX,CAAA,CAAoB,EAC9C,CAAA,CACF,CAAA,EACF,CAEJ"}