import{jsxs as i,Fragment as y,jsx as t}from"react/jsx-runtime";import{u as g,a as h,b as S,j as P,_ as b,d as A,P as I,l as C,A as F,g as n,L as V,cJ as j,o as w,cK as x}from"./main-o1hptXRo.js";import{F as E}from"./FormAccess-BnhQnYb9.js";import{V as k}from"./ViewHeader-BDBsroi3.js";import{S as D}from"./SpiffeSettings-BvbKKoaw.js";import"react";import"react-dom";function J(){const{adminClient:d}=g(),{t:a}=h(),c=S(),r="spiffe",o=P({defaultValues:{alias:r,config:{allowCreate:"true"}},mode:"onChange"}),{handleSubmit:l,formState:{isDirty:m}}=o,{addAlert:u,addError:f}=b(),{realm:s}=A(),p=async e=>{delete e.discoveryEndpoint;try{await d.identityProviders.create({...e,providerId:r}),u(a("createIdentityProviderSuccess"),w.success),c(x({realm:s,providerId:r,alias:e.alias,tab:"settings"}))}catch(v){f("createIdentityProviderError",v)}};return i(y,{children:[t(k,{titleKey:a("addSpiffeProvider")}),t(I,{variant:"light",children:t(C,{...o,children:i(E,{role:"manage-identity-providers",isHorizontal:!0,onSubmit:l(p),children:[t(D,{}),i(F,{children:[t(n,{isDisabled:!m,variant:"primary",type:"submit","data-testid":"createProvider",children:a("add")}),t(n,{variant:"link","data-testid":"cancel",component:e=>t(V,{...e,to:j({realm:s})}),children:a("cancel")})]})]})})})]})}export{J as default};
//# sourceMappingURL=AddSpiffeConnect-DMCR7YoV.js.map
