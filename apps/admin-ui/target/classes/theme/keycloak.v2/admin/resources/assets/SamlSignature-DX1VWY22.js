import{jsxs as c,jsx as a,Fragment as b}from"react/jsx-runtime";import{a as u,U as r,b3 as t,a0 as h,Q as f}from"./main-o1hptXRo.js";import{F as y}from"./FormAccess-BnhQnYb9.js";import{D as S}from"./SwitchControl-CU1bUhmR.js";import{useEffect as d}from"react";const l=({name:e,label:n})=>{const{t:s}=u();return a(S,{name:e,label:s(n),labelIcon:s(`${n}Help`),stringify:!0})},M=()=>{const{t:e}=u();return c(y,{isHorizontal:!0,role:"manage-clients",className:"keycloak__capability-config__form",children:[a(r,{name:"attributes.saml_name_id_format",label:e("nameIdFormat"),labelIcon:e("nameIdFormatHelp"),controller:{defaultValue:"username"},options:["username","email","transient","persistent"]}),a(l,{name:"attributes.saml_force_name_id_format",label:"forceNameIdFormat"}),a(l,{name:t("attributes.saml.force.post.binding"),label:"forcePostBinding"}),a(l,{name:t("attributes.saml.artifact.binding"),label:"forceArtifactBinding"}),a(l,{name:t("attributes.saml.authnstatement"),label:"includeAuthnStatement"}),a(l,{name:t("attributes.saml.onetimeuse.condition"),label:"includeOneTimeUseCondition"}),a(l,{name:t("attributes.saml.server.signature.keyinfo.ext"),label:"optimizeLookup"}),a(l,{name:t("attributes.saml.allow.ecp.flow"),label:"allowEcpFlow"})]})},E=()=>{const{t:e}=u(),{watch:n,setValue:s}=h(),i="http://www.w3.org/2009/xmlenc11#rsa-oaep",m="http://www.w3.org/2001/04/xmlenc#rsa-oaep-mgf1p",o=n(t("attributes.saml.encryption.keyAlgorithm"),"");return d(()=>{o!==i&&(s(t("attributes.saml.encryption.maskGenerationFunction"),""),o!==m&&s(t("attributes.saml.encryption.digestMethod"),""))},[o]),c(b,{children:[a(r,{name:t("attributes.saml.encryption.algorithm"),label:e("samlClientEncryptionAlgorithm"),labelIcon:e("samlClientEncryptionAlgorithmHelp"),controller:{defaultValue:""},options:[{key:"",value:e("choose")},{key:"http://www.w3.org/2009/xmlenc11#aes256-gcm",value:"AES_256_GCM"},{key:"http://www.w3.org/2009/xmlenc11#aes192-gcm",value:"AES_192_GCM"},{key:"http://www.w3.org/2009/xmlenc11#aes128-gcm",value:"AES_128_GCM"},{key:"http://www.w3.org/2001/04/xmlenc#aes256-cbc",value:"AES_256_CBC"},{key:"http://www.w3.org/2001/04/xmlenc#aes192-cbc",value:"AES_192_CBC"},{key:"http://www.w3.org/2001/04/xmlenc#aes128-cbc",value:"AES_128_CBC"}]}),a(r,{name:t("attributes.saml.encryption.keyAlgorithm"),label:e("samlClientKeyEncryptionAlgorithm"),labelIcon:e("samlClientKeyEncryptionAlgorithmHelp"),controller:{defaultValue:""},options:[{key:"",value:e("choose")},{key:i,value:"RSA-OAEP-11"},{key:m,value:"RSA-OAEP-MGF1P"},{key:"http://www.w3.org/2001/04/xmlenc#rsa-1_5",value:"RSA1_5"}]}),(o===i||o===m)&&a(r,{name:t("attributes.saml.encryption.digestMethod"),label:e("samlClientEncryptionDigestMethod"),labelIcon:e("samlClientEncryptionDigestMethodHelp"),controller:{defaultValue:""},options:[{key:"",value:e("choose")},{key:"http://www.w3.org/2001/04/xmlenc#sha512",value:"SHA-512"},{key:"http://www.w3.org/2001/04/xmlenc#sha256",value:"SHA-256"},{key:"http://www.w3.org/2000/09/xmldsig#sha1",value:"SHA-1"}]}),o===i&&a(r,{name:t("attributes.saml.encryption.maskGenerationFunction"),label:e("samlClientEncryptionMaskGenerationFunction"),labelIcon:e("samlClientEncryptionMaskGenerationFunctionHelp"),controller:{defaultValue:""},options:[{key:"",value:e("choose")},{key:"http://www.w3.org/2009/xmlenc11#mgf1sha512",value:"mgf1sha512"},{key:"http://www.w3.org/2009/xmlenc11#mgf1sha384",value:"mgf1sha384"},{key:"http://www.w3.org/2009/xmlenc11#mgf1sha256",value:"mgf1sha256"},{key:"http://www.w3.org/2009/xmlenc11#mgf1sha224",value:"mgf1sha224"},{key:"http://www.w3.org/2009/xmlenc11#mgf1sha1",value:"mgf1sha1"}]})]})},w=["RSA_SHA1","RSA_SHA256","RSA_SHA256_MGF1","RSA_SHA512","RSA_SHA512_MGF1","DSA_SHA1"],p=["NONE","KEY_ID","CERT_SUBJECT"],g=[{name:"EXCLUSIVE",value:"http://www.w3.org/2001/10/xml-exc-c14n#"},{name:"EXCLUSIVE_WITH_COMMENTS",value:"http://www.w3.org/2001/10/xml-exc-c14n#WithComments"},{name:"INCLUSIVE",value:"http://www.w3.org/TR/2001/REC-xml-c14n-20010315"},{name:"INCLUSIVE_WITH_COMMENTS",value:"http://www.w3.org/TR/2001/REC-xml-c14n-20010315#WithComments"}],H=()=>{const{t:e}=u(),{watch:n}=h(),s=n(t("attributes.saml.server.signature")),i=n(t("attributes.saml.assertion.signature")),m=n(t("attributes.saml.encrypt"),"false"),o=n(t("attributes.saml.useMetadataDescriptorUrl"),"false");return c(y,{isHorizontal:!0,role:"manage-clients",className:"keycloak__capability-config__form",children:[a(l,{name:t("attributes.saml.server.signature"),label:"signDocuments"}),a(l,{name:t("attributes.saml.assertion.signature"),label:"signAssertions"}),(s==="true"||i==="true")&&c(b,{children:[a(r,{name:t("attributes.saml.signature.algorithm"),label:e("signatureAlgorithm"),labelIcon:e("signatureAlgorithmHelp"),controller:{defaultValue:w[0]},options:[...w]}),a(r,{name:t("attributes.saml.server.signature.keyinfo.xmlSigKeyInfoKeyNameTransformer"),label:e("signatureKeyName"),labelIcon:e("signatureKeyNameHelp"),controller:{defaultValue:p[0]},options:[...p]}),a(r,{name:"attributes.saml_signature_canonicalization_method",label:e("canonicalization"),labelIcon:e("canonicalizationHelp"),controller:{defaultValue:g[0].value},options:g.map(({name:A,value:_})=>({key:_,value:A}))}),a(f,{name:t("attributes.saml.metadataDescriptorUrl"),label:e("samlClientMetadataDescriptorUrl"),labelIcon:e("samlClientMetadataDescriptorUrlHelp"),type:"url",rules:{required:{value:o==="true",message:e("required")}}}),a(l,{name:t("attributes.saml.useMetadataDescriptorUrl"),label:"samlClientUseMetadataDescriptorUrl"}),m==="true"&&a(E,{})]})]})};export{M as S,H as a,w as b};
//# sourceMappingURL=SamlSignature-DX1VWY22.js.map
