{"version":3,"file":"DropdownPanel-vRJu3PnV.js","sources":["../../../../../../../src/components/dropdown-panel/DropdownPanel.tsx"],"sourcesContent":["import { useEffect, useRef } from \"react\";\r\nimport { Icon } from \"@patternfly/react-core\";\r\nimport { CaretDownIcon } from \"@patternfly/react-icons\";\r\nimport \"./dropdown-panel.css\";\r\n\r\ntype DropdownPanelProps = {\r\n  buttonText: string;\r\n  children: React.ReactNode;\r\n  setSearchDropdownOpen: (open: boolean) => void;\r\n  searchDropdownOpen: boolean;\r\n  marginRight?: string;\r\n  width: string;\r\n};\r\n\r\nconst DropdownPanel: React.FC<DropdownPanelProps> = ({\r\n  buttonText,\r\n  children,\r\n  setSearchDropdownOpen,\r\n  searchDropdownOpen,\r\n  marginRight,\r\n  width,\r\n}) => {\r\n  const dropdownRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (\r\n        dropdownRef.current &&\r\n        !dropdownRef.current.contains(event.target as Node)\r\n      ) {\r\n        setSearchDropdownOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, [setSearchDropdownOpen]);\r\n\r\n  useEffect(() => {\r\n    const handleVisibilityChange = () => {\r\n      if (document.visibilityState === \"hidden\") {\r\n        setSearchDropdownOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"visibilitychange\", handleVisibilityChange);\r\n    return () =>\r\n      document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\r\n  }, [setSearchDropdownOpen]);\r\n\r\n  return (\r\n    <span ref={dropdownRef}>\r\n      <button\r\n        className=\"kc-dropdown-panel\"\r\n        onClick={() => setSearchDropdownOpen(!searchDropdownOpen)}\r\n        aria-label={buttonText}\r\n        style={{ width, marginRight }}\r\n        data-testid=\"dropdown-panel-btn\"\r\n      >\r\n        {buttonText}\r\n        <Icon className=\"kc-dropdown-panel-icon\">\r\n          <CaretDownIcon />\r\n        </Icon>\r\n      </button>\r\n      {searchDropdownOpen && (\r\n        <div className=\"kc-dropdown-panel-content\">{children}</div>\r\n      )}\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default DropdownPanel;\r\n"],"names":["DropdownPanel","buttonText","children","setSearchDropdownOpen","searchDropdownOpen","marginRight","width","dropdownRef","useRef","useEffect","handleClickOutside","event","handleVisibilityChange","jsxs","Icon","jsx","CaretDownIcon"],"mappings":"gJAcA,MAAMA,EAA8C,CAAC,CACnD,WAAAC,EACA,SAAAC,EACA,sBAAAC,EACA,mBAAAC,EACA,YAAAC,EACA,MAAAC,CACF,IAAM,CACJ,MAAMC,EAAcC,EAAuB,IAAI,EAE/C,OAAAC,EAAU,IAAM,CACd,MAAMC,EAAsBC,GAAsB,CAE9CJ,EAAY,SACZ,CAACA,EAAY,QAAQ,SAASI,EAAM,MAAc,GAElDR,EAAsB,EAAK,CAE/B,EAEA,gBAAS,iBAAiB,YAAaO,CAAkB,EAClD,IAAM,SAAS,oBAAoB,YAAaA,CAAkB,CAC3E,EAAG,CAACP,CAAqB,CAAC,EAE1BM,EAAU,IAAM,CACd,MAAMG,EAAyB,IAAM,CAC/B,SAAS,kBAAoB,UAC/BT,EAAsB,EAAK,CAE/B,EAEA,gBAAS,iBAAiB,mBAAoBS,CAAsB,EAC7D,IACL,SAAS,oBAAoB,mBAAoBA,CAAsB,CAC3E,EAAG,CAACT,CAAqB,CAAC,EAGxBU,EAAC,OAAA,CAAK,IAAKN,EACT,SAAA,CAAAM,EAAC,SAAA,CACC,UAAU,oBACV,QAAS,IAAMV,EAAsB,CAACC,CAAkB,EACxD,aAAYH,EACZ,MAAO,CAAE,MAAAK,EAAO,YAAAD,CAAA,EAChB,cAAY,qBAEX,SAAA,CAAAJ,IACAa,EAAA,CAAK,UAAU,yBACd,SAAAC,EAACC,IAAc,CAAA,CACjB,CAAA,CAAA,CAAA,EAEDZ,GACCW,EAAC,MAAA,CAAI,UAAU,4BAA6B,SAAAb,CAAA,CAAS,CAAA,EAEzD,CAEJ"}