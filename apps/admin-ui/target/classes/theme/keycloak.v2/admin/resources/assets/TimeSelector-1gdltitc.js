import{jsxs as j,jsx as r}from"react/jsx-runtime";import{a as k,a1 as F,a2 as x,a3 as L,bp as V,bq as q,ak as w}from"./main-o1hptXRo.js";import{useState as m,useMemo as I,useEffect as E}from"react";const a=[{unit:"second",label:"times.seconds",multiplier:1},{unit:"minute",label:"times.minutes",multiplier:60},{unit:"hour",label:"times.hours",multiplier:3600},{unit:"day",label:"times.days",multiplier:86400}],D=(t,s=0)=>t.reduce((n,i)=>s%i.multiplier===0&&n.multiplier<i.multiplier?i:n,t[0]),z=(t,s)=>{const n=D(a,t);return new Intl.NumberFormat(s,{style:"unit",unit:n.unit,unitDisplay:"long"}).format(t/n.multiplier)},A=({value:t,units:s=["second","minute","hour","day"],onChange:n,className:i,min:O,menuAppendTo:U,...d})=>{const{t:f}=k(),[b,h]=m(),u=I(()=>a.find(e=>e.unit===s[0])?.multiplier,[s]),[T,p]=m(""),[o,c]=m(u),[y,S]=m(!1),g=I(()=>{const e=s.map(l=>a.find($=>$.unit===l));return!e.every(l=>l.multiplier===o)&&e[0]!==a[0]&&e.unshift(a[0]),e},[s,o]);E(()=>{const e=D(g,t).multiplier;t?(c(e),p(t/e),h(e)):(p(t||""),c(b??u),h(b??u))},[t,u]);const M=(e,l=o)=>{e!==""?(n?.(e*(l||1)),p(e)):n?.("")};return j(F,{hasGutter:!0,className:i,children:[r(x,{children:r(L,{...d,type:"number","aria-label":"kc-time",min:O||0,value:T,className:`${i}-input`,onChange:(e,l)=>{M(l===""?l:parseInt(l))}})}),r(x,{id:`${i}-select-menu`,children:r(V,{variant:q.single,"aria-label":f("unitLabel"),className:`${i}-select`,onSelect:e=>{c(e),M(T,e),S(!1)},menuAppendTo:U,selections:o,onToggle:()=>{S(!y)},isOpen:y,isDisabled:d.isDisabled,children:g.map(e=>r(w,{id:e.label,value:e.multiplier,children:f(e.label)},e.label))})})]})};export{A as T,z as t};
//# sourceMappingURL=TimeSelector-1gdltitc.js.map
